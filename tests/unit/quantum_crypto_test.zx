use "../../src/core/crypto.zx" as crypto

// Test quantum-resistant cryptography
contract QuantumCryptoTest {
    action async test_quantum_key_generation() -> boolean {
        print("ğŸ” Testing Quantum Cryptography...")
        
        let qcrypto = crypto.get_quantum_crypto()
        
        // Test key generation
        let keypair = qcrypto.generate_quantum_keypair()
        if keypair.public_key == "" {
            return false
        }
        print("âœ… Quantum keypair generated")
        
        // Test signing
        let message = "Test message for quantum signing"
        let signature = qcrypto.quantum_sign(message, keypair.private_key)
        if signature == "" {
            return false
        }
        print("âœ… Quantum signing working")
        
        // Test verification
        let verified = qcrypto.quantum_verify(message, signature, keypair.public_key)
        if not verified {
            return false
        }
        print("âœ… Quantum verification working")
        
        // Test address derivation
        let address = qcrypto.derive_address(keypair.public_key, "ZIVER")
        if not address.starts_with("ZIV_") {
            return false
        }
        print("âœ… Address derivation working")
        
        return true
    }
}
