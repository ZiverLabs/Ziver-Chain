ğŸš€ Running main.zx
ğŸ”§ Execution mode: auto
ğŸ“ Syntax style: auto
ğŸ¯ Advanced parsing: Enabled
ğŸ” Detected syntax style: universal
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-7: ['use', '{', 'JSONRPCServer', ',', 'JSONRPCProtocol', '}', 'from', './rpc/server.zx']
  [1] statement/use_statement @ 8-15: ['use', '{', 'WebSocketRPCServer', ',', 'WebSocketRPCProtocol', '}', 'from', './rpc/websocket.zx']
  [2] statement/use_statement @ 16-23: ['use', '{', 'ContractRuntime', ',', 'ContractRuntimeProtocol', '}', 'from', './runtime/contract_runtime.zx']
  [3] statement/use_statement @ 24-31: ['use', '{', 'StateManager', ',', 'StateManagerProtocol', '}', 'from', './runtime/state_manager.zx']
  [4] statement/use_statement @ 32-39: ['use', '{', 'P2PNetwork', ',', 'P2PNetworkProtocol', '}', 'from', './network/network.zx']
  [5] statement/use_statement @ 40-47: ['use', '{', 'ZiverVirtualMachine', ',', 'VirtualMachine', '}', 'from', './core/zvm.zx']
  [6] statement/use_statement @ 48-55: ['use', '{', 'PoSConsensus', ',', 'ConsensusProtocol', '}', 'from', './core/consensus.zx']
  [7] statement/use_statement @ 56-63: ['use', '{', 'QuantumCrypto', ',', 'QuantumResistantCrypto', '}', 'from', './core/crypto.zx']
  [8] statement/use_statement @ 64-75: ['use', '{', 'create_genesis_block', ',', 'create_block', ',', 'Block', ',', 'Transaction', '}', 'from', './core/block.zx']
  [9] statement/use_statement @ 76-83: ['use', '{', 'SocialCapitalEngine', ',', 'SCSSystem', '}', 'from', './core/social_capital.zx']
  [10] statement/use_statement @ 84-89: ['use', '{', 'CrossChainBridge', '}', 'from', './contracts/bridge.zx']
  [11] statement/use_statement @ 90-95: ['use', '{', 'ZRC20Token', '}', 'from', './contracts/token_standard.zx']
  [12] statement/use_statement @ 96-101: ['use', '{', 'ZiverWallet', '}', 'from', './contracts/wallet.zx']
  [13] statement/entity_statement @ 102-147: ['entity', 'ZiverNode', '{', 'rpc_server', ':', 'JSONRPCServer', 'ws_server', ':', 'WebSocketRPCServer', 'contract_runtime', ':', 'ContractRuntime', 'state_manager', ':', 'StateManager', 'node_wallet', ':', 'any', 'consensus', ':', 'PoSConsensus', 'network', ':', 'P2PNetwork', 'zvm', ':', 'ZiverVirtualMachine', 'bridge_manager', ':', 'CrossChainBridge', 'social_capital_engine', ':', 'SocialCapitalEngine', 'blockchain', ':', 'list', 'pending_transactions', ':', 'list', 'token_registry', ':', 'map', 'wallet_contracts', ':', 'map', '}']
  [14] statement/ACTION @ 148-351: ['action', 'ZiverNode', '.', 'init', '(', ')', '-', '>', 'boolean', '{', '\n    Initialize complete blockchain node\n    ', 'print', '(', 'ğŸš€ Initializing Complete Ziver Node...', ')', 'let', 'crypto', '=', 'QuantumCrypto', '{', '}', 'self', '.', 'node_wallet', '=', 'crypto', '.', 'generate_keypair', '(', ')', 'self', '.', 'consensus', '=', 'PoSConsensus', '{', '}', 'self', '.', 'network', '=', 'P2PNetwork', '{', 'node_id', ':', 'ziver_node_', '+', 'self', '.', 'node_wallet', '.', 'address', '.', 'slice', '(', '0', ',', '8', ')', '}', 'self', '.', 'zvm', '=', 'ZiverVirtualMachine', '{', '}', 'self', '.', 'bridge_manager', '=', 'CrossChainBridge', '{', '}', 'self', '.', 'social_capital_engine', '=', 'SocialCapitalEngine', '{', '}', 'self', '.', 'contract_runtime', '=', 'ContractRuntime', '{', '}', 'self', '.', 'state_manager', '=', 'StateManager', '{', '}', 'self', '.', 'blockchain', '=', '[', ']', 'self', '.', 'pending_transactions', '=', '[', ']', 'self', '.', 'token_registry', '=', '{', '}', 'self', '.', 'wallet_contracts', '=', '{', '}', 'if', 'self', '.', 'blockchain', '.', 'is_empty', '(', ')', '{', 'let', 'genesis', '=', 'create_genesis_block', '(', ')', 'self', '.', 'blockchain', '.', 'push', '(', 'genesis', ')', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'genesis', ')', '}', 'self', '.', 'consensus', '.', 'register_validator', '(', 'self', '.', 'node_wallet', '.', 'address', ',', '1000', ')', 'self', '.', 'rpc_server', '=', 'JSONRPCServer', '{', 'node', ':', 'self', ',', 'port', ':', '8545', '}', 'self', '.', 'ws_server', '=', 'WebSocketRPCServer', '{', 'rpc_server', ':', 'self', '.', 'rpc_server', ',', 'port', ':', '8546', '}', 'print', '(', 'âœ… Complete node initialized with RPC, Runtime, and State management', ')', 'return', 'true', '}']
  [15] statement/} @ 351-351: ['}']
  [16] statement/ACTION @ 352-368: ['action', 'ZiverNode', '.', 'initialize', '(', ')', '-', '>', 'boolean', '{', 'return', 'self', '.', 'init', '(', ')', '}']
  [17] statement/} @ 368-368: ['}']
  [18] statement/ACTION @ 369-458: ['action', 'ZiverNode', '.', 'start_full_node', '(', 'port', ':', 'integer', '=', '3030', ')', '-', '>', 'boolean', '{', '\n    Start complete blockchain node with all services\n    ', 'print', '(', 'ğŸ¯ Starting Full Ziver Node...', ')', 'self', '.', 'network', '.', 'start_node', '(', 'port', ')', 'self', '.', 'network', '.', 'discover_peers', '(', ')', 'self', '.', 'rpc_server', '.', 'start', '(', ')', 'self', '.', 'ws_server', '.', 'start', '(', ')', 'self', '.', 'start_consensus', '(', ')', 'print', '(', 'ğŸ‰ Ziver Full Node running!', ')', 'print', '(', '   Network: localhost:', '+', 'string', '(', 'port', ')', ')', 'print', '(', '   JSON-RPC: http://localhost:8545', ')', 'print', '(', '   WebSocket: ws://localhost:8546', ')', 'print', '(', '   Node ID: ', '+', 'self', '.', 'node_wallet', '.', 'address', ')', 'return', 'true', '}']
  [19] statement/} @ 458-458: ['}']
  [20] statement/ACTION @ 459-478: ['action', 'ZiverNode', '.', 'start_consensus', '(', ')', '-', '>', 'boolean', '{', '\n    Start consensus mechanism\n    ', 'print', '(', 'ğŸ Starting consensus...', ')', 'return', 'true', '}']
  [21] statement/} @ 478-478: ['}']
  [22] statement/ACTION @ 479-665: ['action', 'ZiverNode', '.', 'mine_block', '(', ')', '{', '\n    Enhanced block mining with state management\n    ', 'if', 'self', '.', 'pending_transactions', '.', 'is_empty', '(', ')', '{', 'return', '}', 'let', 'previous_block', '=', 'self', '.', 'blockchain', '[', 'self', '.', 'blockchain', '.', 'count', '(', ')', '-', '1', ']', 'let', 'valid_transactions', '=', '[', ']', 'for', 'each', 'tx', 'in', 'self', '.', 'pending_transactions', '{', 'if', 'self', '.', 'consensus', '.', 'validate_transaction', '(', 'tx', ')', '{', 'valid_transactions', '.', 'push', '(', 'tx', ')', '}', '}', 'if', 'valid_transactions', '.', 'is_empty', '(', ')', '{', 'return', '}', 'let', 'new_block', '=', 'create_block', '(', 'previous_block', ':', 'previous_block', ',', 'transactions', ':', 'valid_transactions', ',', 'validator', ':', 'self', '.', 'node_wallet', '.', 'address', ',', 'private_key', ':', 'self', '.', 'node_wallet', '.', 'private_key', ')', 'let', 'reward_txs', '=', 'self', '.', 'consensus', '.', 'process_block_reward', '(', 'self', '.', 'node_wallet', '.', 'address', ',', 'new_block', ')', 'new_block', '.', 'transactions', '=', 'reward_txs', '.', 'concat', '(', 'valid_transactions', ')', 'if', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'new_block', ')', '{', 'self', '.', 'blockchain', '.', 'push', '(', 'new_block', ')', 'self', '.', 'network', '.', 'broadcast_block', '(', 'new_block', ')', 'self', '.', 'ws_server', '.', 'broadcast_new_block', '(', 'new_block', ')', 'self', '.', 'pending_transactions', '=', '[', ']', 'print', '(', 'âœ… Block mined: #', '+', 'string', '(', 'new_block', '.', 'index', ')', ')', '}', '}']
  [23] statement/} @ 665-665: ['}']
  [24] statement/ACTION @ 666-692: ['action', 'ZiverNode', '.', 'create_wallet', '(', 'user_id', ':', 'string', ')', '-', '>', 'string', '{', '\n    Create a new wallet\n    ', 'print', '(', 'ğŸ‘› Creating wallet for: ', '+', 'user_id', ')', 'return', 'wallet_', '+', 'user_id', '}']
  [25] statement/} @ 692-692: ['}']
  [26] statement/ACTION @ 693-747: ['action', 'ZiverNode', '.', 'deploy_token', '(', 'name', ':', 'string', ',', 'symbol', ':', 'string', ',', 'supply', ':', 'integer', ',', 'owner', ':', 'string', ')', '-', '>', 'string', '{', '\n    Deploy a new ZRC-20 token\n    ', 'let', 'token_address', '=', 'TOKEN_', '+', 'name', '+', '_', '+', 'symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address', '}']
  [27] statement/} @ 747-747: ['}']
  [28] statement/ACTION @ 748-786: ['action', 'ZiverNode', '.', 'get_wallet_info', '(', 'wallet_address', ':', 'string', ')', '-', '>', 'map', '{', '\n    Get comprehensive wallet information\n    ', 'return', '{', 'owner', ':', 'wallet_address', ',', 'portfolio', ':', '1000', ',', 'supported_chains', ':', '[', 'ziver', ',', 'ethereum', ']', ',', 'guardians', ':', '2', '}', '}']
  [29] statement/} @ 786-786: ['}']
  [30] statement/ACTION @ 787-806: ['action', 'ZiverNode', '.', 'get_balance_with_social_capital', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'amount', ':', '1000', '}', '}']
  [31] statement/} @ 806-806: ['}']
  [32] statement/ACTION @ 807-830: ['action', 'ZiverNode', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'address', ':', 'wallet_address', ',', 'balance', ':', '1000', '}', '}']
  [33] statement/} @ 830-830: ['}']
  [34] statement/ACTION @ 831-848: ['action', 'ZiverNode', '.', 'create_quantum_wallet', '(', 'owner_address', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'quantum_wallet_', '+', 'owner_address', '}']
  [35] statement/} @ 848-848: ['}']
  [36] statement/ACTION @ 849-889: ['action', 'ZiverNode', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ':', 'string', ',', 'source_chain', ':', 'string', ',', 'target_chain', ':', 'string', ',', 'amount', ':', 'integer', ',', 'token_address', ':', 'string', '?', ')', '-', '>', 'map', '{', 'return', '{', 'status', ':', 'bridged', ',', 'amount', ':', 'amount', '}', '}']
  [37] statement/} @ 889-889: ['}']
  [38] statement/ACTION @ 890-923: ['action', 'ZiverNode', '.', 'deploy_token_with_seb_features', '(', 'name', ':', 'string', ',', 'symbol', ':', 'string', ',', 'supply', ':', 'integer', ',', 'owner', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'TOKEN_', '+', 'name', '+', '_', '+', 'symbol', '}']
  [39] statement/} @ 923-923: ['}']
  [40] statement/ACTION @ 924-947: ['action', 'ZiverNode', '.', 'get_social_capital_score', '(', 'user_address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'score', ':', '0.75', ',', 'tier', ':', 'GOLD', '}', '}']
  [41] statement/} @ 947-947: ['}']
  [42] statement/ACTION @ 948-963: ['action', 'ZiverNode', '.', 'get_borrowing_power', '(', 'user_address', ':', 'string', ')', '-', '>', 'integer', '{', 'return', '5000', '}']
  [43] statement/} @ 963-963: ['}']
  [44] statement/ACTION @ 964-979: ['action', 'ZiverNode', '.', 'get_transaction_explanation', '(', 'tx_hash', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'AI explanation for transaction', '}']
  [45] statement/} @ 979-979: ['}']
  [46] statement/ACTION @ 980-996: ['action', 'ZiverNode', '.', 'run_ai_optimization', '(', ')', '-', '>', 'map', '{', 'return', '{', 'optimized', ':', 'true', '}', '}']
  [47] statement/} @ 996-996: ['}']
  [48] statement/ACTION @ 997-1016: ['action', 'ZiverNode', '.', 'get_quantum_key_info', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'quantum_secure', ':', 'true', '}', '}']
  [49] statement/} @ 1016-1016: ['}']
  [50] statement/ACTION @ 1017-1044: ['action', 'ZiverNode', '.', 'is_valid_address', '(', 'address', ':', 'string', ')', '-', '>', 'boolean', '{', 'return', 'address', '.', 'starts_with', '(', 'ZIV_', ')', 'or', 'address', '.', 'starts_with', '(', '0x', ')', '}']
  [51] statement/} @ 1044-1044: ['}']
  [52] statement/ACTION @ 1045-1068: ['action', 'ZiverNode', '.', 'add_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'self', '.', 'pending_transactions', '.', 'push', '(', 'tx', ')', 'return', 'true', '}']
  [53] statement/} @ 1068-1068: ['}']
  [54] statement/LET @ 1069-1074: ['let', 'ziver_node_instance', '=', 'ZiverNode', '{', '}']
  [55] statement/} @ 1074-1074: ['}']
  [56] statement/ACTION @ 1075-1088: ['action', 'get_ziver_node', '(', ')', '-', '>', 'ZiverNode', '{', '\n    Get the Ziver node instance\n    ', 'return', 'ziver_node_instance', '}']
  [57] statement/} @ 1088-1088: ['}']
  [58] statement/EXPORT @ 1089-1118: ['export', '{', 'get_ziver_node', ',', 'ZiverNode', ',', 'JSONRPCServer', ',', 'WebSocketRPCServer', ',', 'ContractRuntime', ',', 'StateManager', ',', 'P2PNetwork', ',', 'ZiverVirtualMachine', ',', 'PoSConsensus', ',', 'QuantumCrypto', ',', 'SocialCapitalEngine', ',', 'CrossChainBridge', ',', 'ZRC20Token', ',', 'ZiverWallet', '}']
  [59] statement/} @ 1118-1119: ['}']
ğŸ”§ Parsing 60 top-level blocks...
  âœ… Parsed: BlockStatement at line 3
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'JSONRPCServer', ',', 'JSONRPCProtocol', '}', 'from', './rpc/server.zx']
    ğŸ“ Found use statement: ['use', '{', 'JSONRPCServer', ',', 'JSONRPCProtocol', '}', 'from', './rpc/server.zx']
    ğŸ“ Found import path: ./rpc/server.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 3
  âœ… Parsed: BlockStatement at line 4
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'WebSocketRPCServer', ',', 'WebSocketRPCProtocol', '}', 'from', './rpc/websocket.zx']
    ğŸ“ Found use statement: ['use', '{', 'WebSocketRPCServer', ',', 'WebSocketRPCProtocol', '}', 'from', './rpc/websocket.zx']
    ğŸ“ Found import path: ./rpc/websocket.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 4
  âœ… Parsed: BlockStatement at line 5
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'ContractRuntime', ',', 'ContractRuntimeProtocol', '}', 'from', './runtime/contract_runtime.zx']
    ğŸ“ Found use statement: ['use', '{', 'ContractRuntime', ',', 'ContractRuntimeProtocol', '}', 'from', './runtime/contract_runtime.zx']
    ğŸ“ Found import path: ./runtime/contract_runtime.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 5
  âœ… Parsed: BlockStatement at line 6
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'StateManager', ',', 'StateManagerProtocol', '}', 'from', './runtime/state_manager.zx']
    ğŸ“ Found use statement: ['use', '{', 'StateManager', ',', 'StateManagerProtocol', '}', 'from', './runtime/state_manager.zx']
    ğŸ“ Found import path: ./runtime/state_manager.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 6
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'P2PNetwork', ',', 'P2PNetworkProtocol', '}', 'from', './network/network.zx']
    ğŸ“ Found use statement: ['use', '{', 'P2PNetwork', ',', 'P2PNetworkProtocol', '}', 'from', './network/network.zx']
    ğŸ“ Found import path: ./network/network.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'ZiverVirtualMachine', ',', 'VirtualMachine', '}', 'from', './core/zvm.zx']
    ğŸ“ Found use statement: ['use', '{', 'ZiverVirtualMachine', ',', 'VirtualMachine', '}', 'from', './core/zvm.zx']
    ğŸ“ Found import path: ./core/zvm.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'PoSConsensus', ',', 'ConsensusProtocol', '}', 'from', './core/consensus.zx']
    ğŸ“ Found use statement: ['use', '{', 'PoSConsensus', ',', 'ConsensusProtocol', '}', 'from', './core/consensus.zx']
    ğŸ“ Found import path: ./core/consensus.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 10
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'QuantumCrypto', ',', 'QuantumResistantCrypto', '}', 'from', './core/crypto.zx']
    ğŸ“ Found use statement: ['use', '{', 'QuantumCrypto', ',', 'QuantumResistantCrypto', '}', 'from', './core/crypto.zx']
    ğŸ“ Found import path: ./core/crypto.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 10
  âœ… Parsed: BlockStatement at line 11
  ğŸ”§ Populating empty BlockStatement from 12 tokens
    ğŸ“ Parsing 12 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'create_genesis_block', ',', 'create_block', ',', 'Block', ',', 'Transaction', '}', 'from', './core/block.zx']
    ğŸ“ Found use statement: ['use', '{', 'create_genesis_block', ',', 'create_block', ',', 'Block', ',', 'Transaction', '}', 'from', './core/block.zx']
    ğŸ“ Found import path: ./core/block.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 11
  âœ… Parsed: BlockStatement at line 12
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'SocialCapitalEngine', ',', 'SCSSystem', '}', 'from', './core/social_capital.zx']
    ğŸ“ Found use statement: ['use', '{', 'SocialCapitalEngine', ',', 'SCSSystem', '}', 'from', './core/social_capital.zx']
    ğŸ“ Found import path: ./core/social_capital.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 12
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'CrossChainBridge', '}', 'from', './contracts/bridge.zx']
    ğŸ“ Found use statement: ['use', '{', 'CrossChainBridge', '}', 'from', './contracts/bridge.zx']
    ğŸ“ Found import path: ./contracts/bridge.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'ZRC20Token', '}', 'from', './contracts/token_standard.zx']
    ğŸ“ Found use statement: ['use', '{', 'ZRC20Token', '}', 'from', './contracts/token_standard.zx']
    ğŸ“ Found import path: ./contracts/token_standard.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '{', 'ZiverWallet', '}', 'from', './contracts/wallet.zx']
    ğŸ“ Found use statement: ['use', '{', 'ZiverWallet', '}', 'from', './contracts/wallet.zx']
    ğŸ“ Found import path: ./contracts/wallet.zx
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ZiverNode
  ğŸ“ Found property name: rpc_server
  ğŸ“ Property: rpc_server: JSONRPCServer
  ğŸ“ Found property name: ws_server
  ğŸ“ Property: ws_server: WebSocketRPCServer
  ğŸ“ Found property name: contract_runtime
  ğŸ“ Property: contract_runtime: ContractRuntime
  ğŸ“ Found property name: state_manager
  ğŸ“ Property: state_manager: StateManager
  ğŸ“ Found property name: node_wallet
  ğŸ“ Property: node_wallet: any
  ğŸ“ Found property name: consensus
  ğŸ“ Property: consensus: PoSConsensus
  ğŸ“ Found property name: network
  ğŸ“ Property: network: P2PNetwork
  ğŸ“ Found property name: zvm
  ğŸ“ Property: zvm: ZiverVirtualMachine
  ğŸ“ Found property name: bridge_manager
  ğŸ“ Property: bridge_manager: CrossChainBridge
  ğŸ“ Found property name: social_capital_engine
  ğŸ“ Property: social_capital_engine: SocialCapitalEngine
  ğŸ“ Found property name: blockchain
  ğŸ“ Property: blockchain: list
  ğŸ“ Found property name: pending_transactions
  ğŸ“ Property: pending_transactions: list
  ğŸ“ Found property name: token_registry
  ğŸ“ Property: token_registry: map
  ğŸ“ Found property name: wallet_contracts
  ğŸ“ Property: wallet_contracts: map
  âœ… Parsed: EntityStatement at line 17
  âœ… Parsed: EntityStatement at line 17
  âœ… Parsed: BlockStatement at line 34
  ğŸ”§ Populating empty BlockStatement from 204 tokens
    ğŸ“ Parsing 204 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'init', '(', ')', '-', '>', 'boolean', '{', '', '\n    Initialize complete blockchain node\n    ', '', 'print', '(', 'ğŸš€ Initializing Complete Ziver Node...', ')', 'let', 'crypto', '=', 'QuantumCrypto', '{', '}', 'self', '.', 'node_wallet', '=', 'crypto', '.', 'generate_keypair', '(', ')', 'self', '.', 'consensus', '=', 'PoSConsensus', '{', '}', 'self', '.', 'network', '=', 'P2PNetwork', '{', 'node_id', ':', 'ziver_node_', '+', 'self', '.', 'node_wallet', '.', 'address', '.', 'slice', '(', '0', ',', '8', ')', '}', 'self', '.', 'zvm', '=', 'ZiverVirtualMachine', '{', '}', 'self', '.', 'bridge_manager', '=', 'CrossChainBridge', '{', '}', 'self', '.', 'social_capital_engine', '=', 'SocialCapitalEngine', '{', '}', 'self', '.', 'contract_runtime', '=', 'ContractRuntime', '{', '}', 'self', '.', 'state_manager', '=', 'StateManager', '{', '}', 'self', '.', 'blockchain', '=', '[', ']', 'self', '.', 'pending_transactions', '=', '[', ']', 'self', '.', 'token_registry', '=', '{', '}', 'self', '.', 'wallet_contracts', '=', '{', '}', 'if', 'self', '.', 'blockchain', '.', 'is_empty', '(', ')', '{', 'let', 'genesis', '=', 'create_genesis_block', '(', ')', 'self', '.', 'blockchain', '.', 'push', '(', 'genesis', ')', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'genesis', ')', '}', 'self', '.', 'consensus', '.', 'register_validator', '(', 'self', '.', 'node_wallet', '.', 'address', ',', '1000', ')', 'self', '.', 'rpc_server', '=', 'JSONRPCServer', '{', 'node', ':', 'self', ',', 'port', ':', '8545', '}', 'self', '.', 'ws_server', '=', 'WebSocketRPCServer', '{', 'rpc_server', ':', 'self', '.', 'rpc_server', ',', 'port', ':', '8546', '}', 'print', '(', 'âœ… Complete node initialized with RPC, Runtime, and State management', ')', 'return', 'true', '}']
    ğŸ“ Parsing 193 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Initialize complete blockchain node\n    ', '']
    ğŸ“ Found print statement: ['print', '(', 'ğŸš€ Initializing Complete Ziver Node...', ')', 'let', 'crypto', '=', 'QuantumCrypto']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['self', '.', 'node_wallet', '=', 'crypto', '.', 'generate_keypair', '(', ')', 'self', '.', 'consensus', '=', 'PoSConsensus', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'network', '=', 'P2PNetwork', '{', 'node_id', ':', 'ziver_node_', '+', 'self', '.', 'node_wallet', '.', 'address', '.', 'slice', '(', '0', ',', '8', ')']
  ğŸ” Parsing expression from tokens: ['self', '.', 'zvm', '=', 'ZiverVirtualMachine', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'bridge_manager', '=', 'CrossChainBridge', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'social_capital_engine', '=', 'SocialCapitalEngine', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'contract_runtime', '=', 'ContractRuntime', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'state_manager', '=', 'StateManager', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'blockchain', '=', '[', ']', 'self', '.', 'pending_transactions', '=', '[', ']', 'self', '.', 'token_registry', '=', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'wallet_contracts', '=', '{']
  ğŸ” Parsing expression from tokens: ['self', '.', 'blockchain', '.', 'is_empty', '(', ')', '{', 'let', 'genesis', '=', 'create_genesis_block', '(', ')', 'self', '.', 'blockchain', '.', 'push', '(', 'genesis', ')', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'genesis', ')']
  ğŸ” Parsing expression from tokens: ['self', '.', 'consensus', '.', 'register_validator', '(', 'self', '.', 'node_wallet', '.', 'address', ',', '1000', ')', 'self', '.', 'rpc_server', '=', 'JSONRPCServer', '{', 'node', ':', 'self', ',', 'port', ':', '8545']
  ğŸ” Parsing expression from tokens: ['self', '.', 'node_wallet', '.', 'address']
  ğŸ” Parsing expression from tokens: ['1000']
  ğŸ” Parsing expression from tokens: ['self', '.', 'ws_server', '=', 'WebSocketRPCServer', '{', 'rpc_server', ':', 'self', '.', 'rpc_server', ',', 'port', ':', '8546']
    ğŸ“ Found print statement: ['print', '(', 'âœ… Complete node initialized with RPC, Runtime, and State management', ')', 'return', 'true']
    âœ… Parsed 16 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 34
  âœ… Parsed: BlockStatement at line 76
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 76
  âœ… Parsed: BlockStatement at line 78
  ğŸ”§ Populating empty BlockStatement from 17 tokens
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'initialize', '(', ')', '-', '>', 'boolean', '{', 'return', 'self', '.', 'init', '(', ')', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['self', '.', 'init', '(', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 78
  âœ… Parsed: BlockStatement at line 80
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 80
  âœ… Parsed: BlockStatement at line 82
  ğŸ”§ Populating empty BlockStatement from 90 tokens
    ğŸ“ Parsing 90 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'start_full_node', '(', 'port', ':', 'integer', '=', '3030', ')', '-', '>', 'boolean', '{', '', '\n    Start complete blockchain node with all services\n    ', '', 'print', '(', 'ğŸ¯ Starting Full Ziver Node...', ')', 'self', '.', 'network', '.', 'start_node', '(', 'port', ')', 'self', '.', 'network', '.', 'discover_peers', '(', ')', 'self', '.', 'rpc_server', '.', 'start', '(', ')', 'self', '.', 'ws_server', '.', 'start', '(', ')', 'self', '.', 'start_consensus', '(', ')', 'print', '(', 'ğŸ‰ Ziver Full Node running!', ')', 'print', '(', '   Network: localhost:', '+', 'string', '(', 'port', ')', ')', 'print', '(', '   JSON-RPC: http://localhost:8545', ')', 'print', '(', '   WebSocket: ws://localhost:8546', ')', 'print', '(', '   Node ID: ', '+', 'self', '.', 'node_wallet', '.', 'address', ')', 'return', 'true', '}']
    ğŸ“ Parsing 74 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Start complete blockchain node with all services\n    ', '']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ¯ Starting Full Ziver Node...', ')', 'self', '.', 'network', '.', 'start_node', '(', 'port', ')', 'self', '.', 'network', '.', 'discover_peers', '(', ')', 'self', '.', 'rpc_server', '.', 'start', '(', ')', 'self', '.', 'ws_server', '.', 'start', '(', ')', 'self', '.', 'start_consensus', '(', ')', 'print', '(', 'ğŸ‰ Ziver Full Node running!', ')', 'print', '(', '   Network: localhost:', '+', 'string', '(', 'port', ')', ')', 'print', '(', '   JSON-RPC: http://localhost:8545', ')', 'print', '(', '   WebSocket: ws://localhost:8546', ')', 'print', '(', '   Node ID: ', '+', 'self', '.', 'node_wallet', '.', 'address', ')', 'return', 'true']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 82
  âœ… Parsed: BlockStatement at line 105
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 105
  âœ… Parsed: BlockStatement at line 107
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'start_consensus', '(', ')', '-', '>', 'boolean', '{', '', '\n    Start consensus mechanism\n    ', '', 'print', '(', 'ğŸ Starting consensus...', ')', 'return', 'true', '}']
    ğŸ“ Parsing 9 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Start consensus mechanism\n    ', '']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ Starting consensus...', ')', 'return', 'true']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 107
  âœ… Parsed: BlockStatement at line 113
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 113
  âœ… Parsed: BlockStatement at line 115
  ğŸ”§ Populating empty BlockStatement from 187 tokens
    ğŸ“ Parsing 187 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'mine_block', '(', ')', '{', '', '\n    Enhanced block mining with state management\n    ', '', 'if', 'self', '.', 'pending_transactions', '.', 'is_empty', '(', ')', '{', 'return', '}', 'let', 'previous_block', '=', 'self', '.', 'blockchain', '[', 'self', '.', 'blockchain', '.', 'count', '(', ')', '-', '1', ']', 'let', 'valid_transactions', '=', '[', ']', 'for', 'each', 'tx', 'in', 'self', '.', 'pending_transactions', '{', 'if', 'self', '.', 'consensus', '.', 'validate_transaction', '(', 'tx', ')', '{', 'valid_transactions', '.', 'push', '(', 'tx', ')', '}', '}', 'if', 'valid_transactions', '.', 'is_empty', '(', ')', '{', 'return', '}', 'let', 'new_block', '=', 'create_block', '(', 'previous_block', ':', 'previous_block', ',', 'transactions', ':', 'valid_transactions', ',', 'validator', ':', 'self', '.', 'node_wallet', '.', 'address', ',', 'private_key', ':', 'self', '.', 'node_wallet', '.', 'private_key', ')', 'let', 'reward_txs', '=', 'self', '.', 'consensus', '.', 'process_block_reward', '(', 'self', '.', 'node_wallet', '.', 'address', ',', 'new_block', ')', 'new_block', '.', 'transactions', '=', 'reward_txs', '.', 'concat', '(', 'valid_transactions', ')', 'if', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'new_block', ')', '{', 'self', '.', 'blockchain', '.', 'push', '(', 'new_block', ')', 'self', '.', 'network', '.', 'broadcast_block', '(', 'new_block', ')', 'self', '.', 'ws_server', '.', 'broadcast_new_block', '(', 'new_block', ')', 'self', '.', 'pending_transactions', '=', '[', ']', 'print', '(', 'âœ… Block mined: #', '+', 'string', '(', 'new_block', '.', 'index', ')', ')', '}', '}']
    ğŸ“ Parsing 179 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Enhanced block mining with state management\n    ', '']
  ğŸ” Parsing expression from tokens: ['self', '.', 'pending_transactions', '.', 'is_empty', '(', ')', '{', 'return']
    ğŸ“ Found let statement: ['let', 'previous_block', '=', 'self', '.', 'blockchain', '[', 'self', '.', 'blockchain', '.', 'count', '(', ')', '-', '1', ']', 'let', 'valid_transactions', '=', '[', ']', 'for', 'each', 'tx', 'in', 'self', '.', 'pending_transactions']
  ğŸ” Parsing expression from tokens: ['self', '.', 'blockchain', '[', 'self', '.', 'blockchain', '.', 'count', '(', ')', '-', '1', ']', 'let', 'valid_transactions', '=', '[', ']', 'for', 'each', 'tx', 'in', 'self', '.', 'pending_transactions']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'self', '.', 'consensus', '.', 'validate_transaction', '(', 'tx', ')', '{', 'valid_transactions', '.', 'push', '(', 'tx', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['valid_transactions', '.', 'is_empty', '(', ')', '{', 'return']
    ğŸ“ Found let statement: ['let', 'new_block', '=', 'create_block', '(', 'previous_block', ':', 'previous_block', ',', 'transactions', ':', 'valid_transactions', ',', 'validator', ':', 'self', '.', 'node_wallet', '.', 'address', ',', 'private_key', ':', 'self', '.', 'node_wallet', '.', 'private_key', ')', 'let', 'reward_txs', '=', 'self', '.', 'consensus', '.', 'process_block_reward', '(', 'self', '.', 'node_wallet', '.', 'address', ',', 'new_block', ')', 'new_block', '.', 'transactions', '=', 'reward_txs', '.', 'concat', '(', 'valid_transactions', ')', 'if', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'new_block', ')']
  ğŸ” Parsing expression from tokens: ['create_block', '(', 'previous_block', ':', 'previous_block', ',', 'transactions', ':', 'valid_transactions', ',', 'validator', ':', 'self', '.', 'node_wallet', '.', 'address', ',', 'private_key', ':', 'self', '.', 'node_wallet', '.', 'private_key', ')', 'let', 'reward_txs', '=', 'self', '.', 'consensus', '.', 'process_block_reward', '(', 'self', '.', 'node_wallet', '.', 'address', ',', 'new_block', ')', 'new_block', '.', 'transactions', '=', 'reward_txs', '.', 'concat', '(', 'valid_transactions', ')', 'if', 'self', '.', 'state_manager', '.', 'apply_block', '(', 'new_block', ')']
  ğŸ” Parsing expression from tokens: ['previous_block', ':', 'previous_block']
  ğŸ” Parsing expression from tokens: ['transactions', ':', 'valid_transactions']
  ğŸ” Parsing expression from tokens: ['validator', ':', 'self', '.', 'node_wallet', '.', 'address']
  ğŸ” Parsing expression from tokens: ['private_key', ':', 'self', '.', 'node_wallet', '.', 'private_key']
  ğŸ” Parsing expression from tokens: ['{', 'self', '.', 'blockchain', '.', 'push', '(', 'new_block', ')', 'self', '.', 'network', '.', 'broadcast_block', '(', 'new_block', ')', 'self', '.', 'ws_server', '.', 'broadcast_new_block', '(', 'new_block', ')', 'self', '.', 'pending_transactions', '=', '[', ']', 'print', '(', 'âœ… Block mined: #', '+', 'string', '(', 'new_block', '.', 'index', ')', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 115
  âœ… Parsed: BlockStatement at line 157
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 157
  âœ… Parsed: BlockStatement at line 159
  ğŸ”§ Populating empty BlockStatement from 27 tokens
    ğŸ“ Parsing 27 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'create_wallet', '(', 'user_id', ':', 'string', ')', '-', '>', 'string', '{', '', '\n    Create a new wallet\n    ', '', 'print', '(', 'ğŸ‘› Creating wallet for: ', '+', 'user_id', ')', 'return', 'wallet_', '+', 'user_id', '}']
    ğŸ“ Parsing 13 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Create a new wallet\n    ', '']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ‘› Creating wallet for: ', '+', 'user_id', ')', 'return', 'wallet_', '+', 'user_id']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 159
  âœ… Parsed: BlockStatement at line 165
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 165
  âœ… Parsed: BlockStatement at line 167
  ğŸ”§ Populating empty BlockStatement from 55 tokens
    ğŸ“ Parsing 55 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'deploy_token', '(', 'name', ':', 'string', ',', 'symbol', ':', 'string', ',', 'supply', ':', 'integer', ',', 'owner', ':', 'string', ')', '-', '>', 'string', '{', '', '\n    Deploy a new ZRC-20 token\n    ', '', 'let', 'token_address', '=', 'TOKEN_', '+', 'name', '+', '_', '+', 'symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address', '}']
    ğŸ“ Parsing 29 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Deploy a new ZRC-20 token\n    ', '']
    ğŸ“ Found let statement: ['let', 'token_address', '=', 'TOKEN_', '+', 'name', '+', '_', '+', 'symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address']
  ğŸ” Parsing expression from tokens: ['TOKEN_', '+', 'name', '+', '_', '+', 'symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address']
  ğŸ” Parsing expression from tokens: ['name', '+', '_', '+', 'symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address']
  ğŸ” Parsing expression from tokens: ['_', '+', 'symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address']
  ğŸ” Parsing expression from tokens: ['symbol', 'print', '(', 'ğŸª™ Token deployed: ', '+', 'name', '+', ' (', '+', 'symbol', '+', ') at ', '+', 'token_address', ')', 'return', 'token_address']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 167
  âœ… Parsed: BlockStatement at line 174
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 174
  âœ… Parsed: BlockStatement at line 176
  ğŸ”§ Populating empty BlockStatement from 39 tokens
    ğŸ“ Parsing 39 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_wallet_info', '(', 'wallet_address', ':', 'string', ')', '-', '>', 'map', '{', '', '\n    Get comprehensive wallet information\n    ', '', 'return', '{', 'owner', ':', 'wallet_address', ',', 'portfolio', ':', '1000', ',', 'supported_chains', ':', '[', 'ziver', ',', 'ethereum', ']', ',', 'guardians', ':', '2', '}', '}']
    ğŸ“ Parsing 25 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Get comprehensive wallet information\n    ', '']
  ğŸ” Parsing expression from tokens: ['{', 'owner', ':', 'wallet_address', ',', 'portfolio', ':', '1000', ',', 'supported_chains', ':', '[', 'ziver', ',', 'ethereum', ']', ',', 'guardians', ':', '2']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['wallet_address']
  ğŸ—ºï¸ [Map] Added pair: owner -> Identifier
  ğŸ” Parsing expression from tokens: ['1000']
  ğŸ—ºï¸ [Map] Added pair: portfolio -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['[', 'ziver']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['ziver']
  âœ… Parsed list with 1 elements
  ğŸ—ºï¸ [Map] Added pair: supported_chains -> ListLiteral
  ğŸ” Parsing expression from tokens: ['2']
  ğŸ—ºï¸ [Map] Added pair: guardians -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 176
  âœ… Parsed: BlockStatement at line 186
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 186
  âœ… Parsed: BlockStatement at line 189
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_balance_with_social_capital', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'amount', ':', '1000', '}', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'amount', ':', '1000']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['1000']
  ğŸ—ºï¸ [Map] Added pair: amount -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 189
  âœ… Parsed: BlockStatement at line 191
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 191
  âœ… Parsed: BlockStatement at line 193
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'address', ':', 'wallet_address', ',', 'balance', ':', '1000', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'wallet_address', ',', 'balance', ':', '1000']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['wallet_address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ” Parsing expression from tokens: ['1000']
  ğŸ—ºï¸ [Map] Added pair: balance -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 193
  âœ… Parsed: BlockStatement at line 195
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 195
  âœ… Parsed: BlockStatement at line 197
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'create_quantum_wallet', '(', 'owner_address', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'quantum_wallet_', '+', 'owner_address', '}']
    ğŸ“ Parsing 4 tokens into statements
  ğŸ” Parsing expression from tokens: ['quantum_wallet_', '+', 'owner_address']
  ğŸ” Parsing expression from tokens: ['owner_address']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 197
  âœ… Parsed: BlockStatement at line 199
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 199
  âœ… Parsed: BlockStatement at line 201
  ğŸ”§ Populating empty BlockStatement from 41 tokens
    ğŸ“ Parsing 41 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ':', 'string', ',', 'source_chain', ':', 'string', ',', 'target_chain', ':', 'string', ',', 'amount', ':', 'integer', ',', 'token_address', ':', 'string', '?', ')', '-', '>', 'map', '{', 'return', '{', 'status', ':', 'bridged', ',', 'amount', ':', 'amount', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'status', ':', 'bridged', ',', 'amount', ':', 'amount']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['bridged']
  ğŸ—ºï¸ [Map] Added pair: status -> StringLiteral
  ğŸ” Parsing expression from tokens: ['amount']
  ğŸ—ºï¸ [Map] Added pair: amount -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 201
  âœ… Parsed: BlockStatement at line 203
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 203
  âœ… Parsed: BlockStatement at line 205
  ğŸ”§ Populating empty BlockStatement from 34 tokens
    ğŸ“ Parsing 34 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'deploy_token_with_seb_features', '(', 'name', ':', 'string', ',', 'symbol', ':', 'string', ',', 'supply', ':', 'integer', ',', 'owner', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'TOKEN_', '+', 'name', '+', '_', '+', 'symbol', '}']
    ğŸ“ Parsing 8 tokens into statements
  ğŸ” Parsing expression from tokens: ['TOKEN_', '+', 'name', '+', '_', '+', 'symbol']
  ğŸ” Parsing expression from tokens: ['name', '+', '_', '+', 'symbol']
  ğŸ” Parsing expression from tokens: ['_', '+', 'symbol']
  ğŸ” Parsing expression from tokens: ['symbol']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 205
  âœ… Parsed: BlockStatement at line 207
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 207
  âœ… Parsed: BlockStatement at line 209
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_social_capital_score', '(', 'user_address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'score', ':', '0.75', ',', 'tier', ':', 'GOLD', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'score', ':', '0.75', ',', 'tier', ':', 'GOLD']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.75']
  ğŸ—ºï¸ [Map] Added pair: score -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['GOLD']
  ğŸ—ºï¸ [Map] Added pair: tier -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 209
  âœ… Parsed: BlockStatement at line 211
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 211
  âœ… Parsed: BlockStatement at line 213
  ğŸ”§ Populating empty BlockStatement from 16 tokens
    ğŸ“ Parsing 16 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_borrowing_power', '(', 'user_address', ':', 'string', ')', '-', '>', 'integer', '{', 'return', '5000', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['5000']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 213
  âœ… Parsed: BlockStatement at line 215
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 215
  âœ… Parsed: BlockStatement at line 217
  ğŸ”§ Populating empty BlockStatement from 16 tokens
    ğŸ“ Parsing 16 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_transaction_explanation', '(', 'tx_hash', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'AI explanation for transaction', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['AI explanation for transaction']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 217
  âœ… Parsed: BlockStatement at line 219
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 219
  âœ… Parsed: BlockStatement at line 221
  ğŸ”§ Populating empty BlockStatement from 17 tokens
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'run_ai_optimization', '(', ')', '-', '>', 'map', '{', 'return', '{', 'optimized', ':', 'true', '}', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'optimized', ':', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: optimized -> Boolean
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 221
  âœ… Parsed: BlockStatement at line 223
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 223
  âœ… Parsed: BlockStatement at line 225
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'get_quantum_key_info', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'quantum_secure', ':', 'true', '}', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'quantum_secure', ':', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: quantum_secure -> Boolean
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 225
  âœ… Parsed: BlockStatement at line 227
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 227
  âœ… Parsed: BlockStatement at line 229
  ğŸ”§ Populating empty BlockStatement from 28 tokens
    ğŸ“ Parsing 28 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'is_valid_address', '(', 'address', ':', 'string', ')', '-', '>', 'boolean', '{', 'return', 'address', '.', 'starts_with', '(', 'ZIV_', ')', 'or', 'address', '.', 'starts_with', '(', '0x', ')', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['address', '.', 'starts_with', '(', 'ZIV_', ')', 'or', 'address', '.', 'starts_with', '(', '0x', ')']
  ğŸ” Parsing expression from tokens: ['ZIV_']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 229
  âœ… Parsed: BlockStatement at line 231
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 231
  âœ… Parsed: BlockStatement at line 233
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'ZiverNode', '.', 'add_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'self', '.', 'pending_transactions', '.', 'push', '(', 'tx', ')', 'return', 'true', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['self', '.', 'pending_transactions', '.', 'push', '(', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['tx']
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 233
  âœ… Parsed: BlockStatement at line 236
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 236
  âœ… Parsed: BlockStatement at line 239
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
    ğŸ“ Found let statement: ['let', 'ziver_node_instance', '=', 'ZiverNode']
  ğŸ” Parsing expression from tokens: ['ZiverNode']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
  âœ… Populated BlockStatement with 2 statements
  âœ… Parsed: BlockStatement at line 239
  âœ… Parsed: BlockStatement at line 239
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 239
  âœ… Parsed: BlockStatement at line 241
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_ziver_node', '(', ')', '-', '>', 'ZiverNode', '{', '', '\n    Get the Ziver node instance\n    ', '', 'return', 'ziver_node_instance', '}']
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n    Get the Ziver node instance\n    ', '']
  ğŸ” Parsing expression from tokens: ['ziver_node_instance']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 241
  âœ… Parsed: BlockStatement at line 246
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 246
  âœ… Parsed: BlockStatement at line 249
  ğŸ”§ Populating empty BlockStatement from 30 tokens
    ğŸ“ Parsing 30 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'get_ziver_node', ',', 'ZiverNode', ',', 'JSONRPCServer', ',', 'WebSocketRPCServer', ',', 'ContractRuntime', ',', 'StateManager', ',', 'P2PNetwork', ',', 'ZiverVirtualMachine', ',', 'PoSConsensus', ',', 'QuantumCrypto', ',', 'SocialCapitalEngine', ',', 'CrossChainBridge', ',', 'ZRC20Token', ',', 'ZiverWallet', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 249
  âœ… Parsed: BlockStatement at line 264
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 264
âœ… Parsing Complete: 60 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/use_statement @ 8-14: ['use', 'math', 'as', 'math', 'protocol', 'JSONRPCProtocol', '{']
  [3] statement/ACTION @ 15-22: ['action', 'start', '(', ')', '-', '>', 'boolean']
  [4] statement/ACTION @ 22-32: ['action', 'handle_request', '(', 'request', ':', 'map', ')', '-', '>', 'map']
  [5] statement/ACTION @ 32-52: ['action', 'register_method', '(', 'method_name', ':', 'string', ',', 'handler', ':', 'action', ')', '-', '>', 'boolean', '}', 'contract', 'JSONRPCServer', 'implements', 'JSONRPCProtocol', '{']
  [6] statement/PERSISTENT @ 52-57: ['persistent', 'storage', 'port', ':', 'integer']
  [7] statement/PERSISTENT @ 57-62: ['persistent', 'storage', 'node', ':', 'any']
  [8] statement/PERSISTENT @ 62-67: ['persistent', 'storage', 'methods', ':', 'map']
  [9] statement/PERSISTENT @ 67-74: ['persistent', 'storage', 'is_running', ':', 'boolean', '=', 'false']
  [10] statement/PERSISTENT @ 74-81: ['persistent', 'storage', 'request_count', ':', 'integer', '=', '0']
  [11] statement/PERSISTENT @ 81-86: ['persistent', 'storage', 'method_stats', ':', 'map']
  [12] statement/ACTION @ 86-136: ['action', 'init', '(', 'node', ':', 'any', ',', 'port', ':', 'integer', '=', '8545', ')', '{', 'this', '.', 'node', '=', 'node', 'this', '.', 'port', '=', 'port', 'this', '.', 'methods', '=', '{', '}', 'this', '.', 'method_stats', '=', '{', '}', 'this', '.', 'register_core_methods', '(', ')', 'print', '(', 'ğŸ”„ JSON-RPC Server initialized on port ', '+', 'string', '(', 'port', ')', ')', '}']
  [13] statement/} @ 136-136: ['}']
  [14] statement/ACTION @ 137-194: ['action', 'start', '(', ')', '-', '>', 'boolean', '{', 'this', '.', 'is_running', '=', 'true', 'print', '(', 'ğŸš€ JSON-RPC Server starting on http://localhost:', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'print', '(', 'ğŸ“š Available methods: ', '+', 'string', '(', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ')', ')', 'spawn', 'this', '.', 'start_http_server', '(', ')', 'spawn', 'this', '.', 'collect_metrics', '(', ')', 'return', 'true', '}']
  [15] statement/} @ 194-194: ['}']
  [16] statement/ACTION @ 195-437: ['action', 'handle_request', '(', 'request', ':', 'map', ')', '-', '>', 'map', '{', 'this', '.', 'request_count', '+', '=', '1', 'let', 'method', '=', 'request', '.', 'get', '(', 'method', ',', ')', 'let', 'params', '=', 'request', '.', 'get', '(', 'params', ',', '[', ']', ')', 'let', 'id', '=', 'request', '.', 'get', '(', 'id', ',', '1', ')', 'let', 'validation', '=', 'this', '.', 'validate_request', '(', 'request', ')', 'if', 'not', 'validation', '.', 'valid', '{', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32600', ',', 'validation', '.', 'error', ')', '}', 'print', '(', 'ğŸ“¨ RPC Request #', '+', 'string', '(', 'this', '.', 'request_count', ')', '+', ': ', '+', 'method', '+', ' ID: ', '+', 'string', '(', 'id', ')', ')', 'this', '.', 'update_method_stats', '(', 'method', ')', 'if', 'not', 'this', '.', 'methods', '.', 'has', '(', 'method', ')', '{', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32601', ',', 'Method not found: ', '+', 'method', ')', '}', 'try', '{', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'result', '=', 'this', '.', 'methods', '[', 'method', ']', '(', 'params', ')', 'let', 'processing_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', 'if', 'processing_time', '>', '1.0', '{', 'print', '(', 'âš ï¸ Slow RPC method: ', '+', 'method', '+', ' took ', '+', 'string', '(', 'processing_time', ')', '+', 's', ')', '}', 'return', 'this', '.', 'success_response', '(', 'id', ',', 'result', ')', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ RPC Error in ', '+', 'method', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32000', ',', 'Internal error: ', '+', 'string', '(', 'error', ')', ')', '}', '}']
  [17] statement/} @ 437-437: ['}']
  [18] statement/ACTION @ 438-1303: ['action', 'register_core_methods', '(', ')', '{', 'this', '.', 'methods', '[', 'web3_clientVersion', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'return', 'ZiverChain/v3.0.0/zexus-quantum', '}', 'this', '.', 'methods', '[', 'net_version', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'return', '12345', '}', 'this', '.', 'methods', '[', 'net_listening', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'boolean', '{', 'return', 'this', '.', 'node', '.', 'network', '!=', 'null', 'and', 'this', '.', 'node', '.', 'network', '.', 'is_listening', '}', 'this', '.', 'methods', '[', 'net_peerCount', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'count', '=', 'this', '.', 'node', '.', 'network', '!=', 'null', '?', 'this', '.', 'node', '.', 'network', '.', 'get_connected_peers_count', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'count', ')', '}', 'this', '.', 'methods', '[', 'eth_blockNumber', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '!=', 'null', '?', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block_number', ')', '}', 'this', '.', 'methods', '[', 'eth_getBalance', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'let', 'block_tag', '=', 'params', '.', 'get', '(', '1', ',', 'latest', ')', 'let', 'balance', '=', 'this', '.', 'node', '.', 'get_balance_with_social_capital', '(', 'address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'balance', '.', 'amount', ')', '}', 'this', '.', 'methods', '[', 'eth_getBlockByNumber', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '?', '{', 'let', 'block_number_hex', '=', 'params', '.', 'get', '(', '0', ',', 'latest', ')', 'let', 'full_tx', '=', 'params', '.', 'get', '(', '1', ',', 'false', ')', 'let', 'block_number', '=', '0', 'if', 'block_number_hex', '==', 'latest', '{', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', '}', 'else', '{', 'block_number', '=', 'math', '.', 'hex_to_int', '(', 'block_number_hex', ')', '}', 'let', 'block', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_block', '(', 'block_number', ')', 'if', 'block', '==', 'null', '{', 'return', 'null', '}', 'return', 'this', '.', 'format_block', '(', 'block', ',', 'full_tx', ')', '}', 'this', '.', 'methods', '[', 'eth_sendTransaction', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'tx_data', '=', 'params', '.', 'get', '(', '0', ',', '{', '}', ')', 'let', 'tx', '=', 'this', '.', 'create_transaction_with_bounceback', '(', 'tx_data', ')', 'let', 'success', '=', 'this', '.', 'node', '.', 'add_transaction', '(', 'tx', ')', 'if', 'success', '{', 'spawn', 'this', '.', 'generate_transaction_explanation', '(', 'tx', ')', 'return', 'tx', '.', 'hash', '}', 'else', '{', 'throw', 'Transaction failed - check bounce-back protection', '}', '}', 'this', '.', 'methods', '[', 'ziver_getWalletInfo', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'return', 'this', '.', 'node', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_createWallet', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'owner_address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'return', 'this', '.', 'node', '.', 'create_quantum_wallet', '(', 'owner_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_bridgeAssets', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'let', 'source_chain', '=', 'params', '.', 'get', '(', '1', ',', 'ZIVER', ')', 'let', 'target_chain', '=', 'params', '.', 'get', '(', '2', ',', 'ETHEREUM', ')', 'let', 'amount', '=', 'params', '.', 'get', '(', '3', ',', '0', ')', 'let', 'token_address', '=', 'params', '.', 'get', '(', '4', ',', 'null', ')', 'return', 'this', '.', 'node', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ',', 'source_chain', ',', 'target_chain', ',', 'amount', ',', 'token_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_deployToken', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'name', '=', 'params', '.', 'get', '(', '0', ',', ')', 'let', 'symbol', '=', 'params', '.', 'get', '(', '1', ',', ')', 'let', 'supply', '=', 'params', '.', 'get', '(', '2', ',', '0', ')', 'let', 'owner', '=', 'params', '.', 'get', '(', '3', ',', ')', 'return', 'this', '.', 'node', '.', 'deploy_token_with_seb_features', '(', 'name', ',', 'symbol', ',', 'supply', ',', 'owner', ')', '}', 'this', '.', 'methods', '[', 'ziver_getSocialCapital', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'return', 'this', '.', 'node', '.', 'get_social_capital_score', '(', 'user_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_getBorrowingPower', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'let', 'power', '=', 'this', '.', 'node', '.', 'get_borrowing_power', '(', 'user_address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'power', ')', '}', 'this', '.', 'methods', '[', 'ziver_explainTransaction', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'tx_hash', '=', 'params', '.', 'get', '(', '0', ',', ')', 'return', 'this', '.', 'node', '.', 'get_transaction_explanation', '(', 'tx_hash', ')', '}', 'this', '.', 'methods', '[', 'ziver_aiOptimize', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'return', 'this', '.', 'node', '.', 'run_ai_optimization', '(', ')', '}', 'this', '.', 'methods', '[', 'ziver_getQuantumKeys', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'address', '=', 'params', '.', 'get', '(', '0', ',', ')', 'return', 'this', '.', 'node', '.', 'get_quantum_key_info', '(', 'address', ')', '}', 'print', '(', 'âœ… Registered ', '+', 'string', '(', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ')', '+', ' RPC methods', ')', '}']
  [19] statement/} @ 1303-1303: ['}']
  [20] statement/ACTION @ 1304-1354: ['action', 'register_method', '(', 'method_name', ':', 'string', ',', 'handler', ':', 'action', ')', '-', '>', 'boolean', '{', 'if', 'this', '.', 'methods', '.', 'has', '(', 'method_name', ')', '{', 'print', '(', 'âš ï¸ Method already registered: ', '+', 'method_name', ')', 'return', 'false', '}', 'this', '.', 'methods', '[', 'method_name', ']', '=', 'handler', 'print', '(', 'âœ… Registered custom method: ', '+', 'method_name', ')', 'return', 'true', '}']
  [21] statement/} @ 1354-1354: ['}']
  [22] statement/ACTION @ 1355-1560: ['action', 'format_block', '(', 'block', ':', 'any', ',', 'full_tx', ':', 'boolean', ')', '-', '>', 'map', '{', 'let', 'transactions', '=', '[', ']', 'if', 'full_tx', '{', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'transactions', '.', 'push', '(', 'this', '.', 'format_transaction', '(', 'tx', ')', ')', '}', '}', 'else', '{', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'transactions', '.', 'push', '(', 'tx', '.', 'hash', ')', '}', '}', 'return', '{', 'number', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'index', ')', ',', 'hash', ':', 'block', '.', 'hash', ',', 'parentHash', ':', 'block', '.', 'previous_hash', ',', 'nonce', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'nonce', ')', ',', 'transactionsRoot', ':', 'block', '.', 'merkle_root', ',', 'miner', ':', 'block', '.', 'validator', ',', 'difficulty', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')', ',', 'totalDifficulty', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')', ',', 'size', ':', '0x200', ',', 'timestamp', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'timestamp', ')', ',', 'transactions', ':', 'transactions', ',', 'gasLimit', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', '1000000', ')', ',', 'gasUsed', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', '50000', ')', ',', 'extraData', ':', '0x', '+', 'crypto', '.', 'keccak256', '(', 'ziver_chain', ')', ',', 'sebDefiData', ':', 'this', '.', 'get_seb_defi_block_data', '(', 'block', ')', '}', '}']
  [23] statement/} @ 1560-1560: ['}']
  [24] statement/ACTION @ 1561-1673: ['action', 'format_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'hash', ':', 'tx', '.', 'hash', ',', 'from', ':', 'tx', '.', 'from_addr', ',', 'to', ':', 'tx', '.', 'to_addr', ',', 'value', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'value', ')', ',', 'input', ':', 'tx', '.', 'data', '?', '?', '0x', ',', 'gas', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_limit', ')', ',', 'gasUsed', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_used', ')', ',', 'nonce', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'nonce', ')', ',', 'bounceBackProtected', ':', 'this', '.', 'is_bounceback_protected', '(', 'tx', ')', ',', 'aiExplanation', ':', 'this', '.', 'get_cached_explanation', '(', 'tx', '.', 'hash', ')', '}', '}']
  [25] statement/} @ 1673-1673: ['}']
  [26] statement/ACTION @ 1674-1865: ['action', 'create_transaction_with_bounceback', '(', 'tx_data', ':', 'map', ')', '-', '>', 'any', '{', 'let', 'to_address', '=', 'tx_data', '.', 'get', '(', 'to', ',', ')', 'if', 'not', 'this', '.', 'node', '.', 'is_valid_address', '(', 'to_address', ')', '{', 'tx_data', '[', 'bounceBack', ']', '=', 'true', 'tx_data', '[', 'bounceBackAddress', ']', '=', 'tx_data', '.', 'get', '(', 'from', ',', ')', '}', 'return', '{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'string', '(', 'tx_data', ')', '+', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', ',', 'from_addr', ':', 'tx_data', '.', 'get', '(', 'from', ',', ')', ',', 'to_addr', ':', 'tx_data', '.', 'get', '(', 'to', ',', ')', ',', 'value', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'value', ',', '0x0', ')', ')', ',', 'data', ':', 'tx_data', '.', 'get', '(', 'data', ',', ')', ',', 'gas_limit', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'gas', ',', '0x5208', ')', ')', ',', 'gas_used', ':', '0', ',', 'nonce', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'nonce', ',', '0x0', ')', ')', ',', 'signature', ':', 'tx_data', '.', 'get', '(', 'signature', ',', ')', ',', 'status', ':', 'pending', ',', 'bounce_back_protection', ':', 'tx_data', '.', 'get', '(', 'bounceBack', ',', 'false', ')', '}', '}']
  [27] statement/} @ 1865-1865: ['}']
  [28] statement/ACTION @ 1866-1919: ['action', 'success_response', '(', 'id', ':', 'integer', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'id', ',', 'result', ':', 'result', ',', 'ziver_metadata', ':', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'version', ':', '3.0.0', ',', 'quantum_secure', ':', 'true', '}', '}', '}']
  [29] statement/} @ 1919-1919: ['}']
  [30] statement/ACTION @ 1920-1970: ['action', 'error_response', '(', 'id', ':', 'integer', ',', 'code', ':', 'integer', ',', 'message', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'id', ',', 'error', ':', '{', 'code', ':', 'code', ',', 'message', ':', 'message', ',', 'data', ':', 'this', '.', 'get_error_suggestions', '(', 'code', ')', '}', '}', '}']
  [31] statement/} @ 1970-1970: ['}']
  [32] statement/ACTION @ 1971-2055: ['action', 'validate_request', '(', 'request', ':', 'map', ')', '-', '>', 'map', '{', 'if', 'request', '.', 'get', '(', 'jsonrpc', ',', ')', '!=', '2.0', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Invalid JSON-RPC version', '}', '}', 'if', 'not', 'request', '.', 'has', '(', 'method', ')', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Missing method', '}', '}', 'if', 'not', 'request', '.', 'has', '(', 'id', ')', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Missing request ID', '}', '}', 'return', '{', 'valid', ':', 'true', ',', 'error', ':', '}', '}']
  [33] statement/} @ 2055-2055: ['}']
  [34] statement/ACTION @ 2056-2093: ['action', 'update_method_stats', '(', 'method', ':', 'string', ')', '{', 'if', 'not', 'this', '.', 'method_stats', '.', 'has', '(', 'method', ')', '{', 'this', '.', 'method_stats', '[', 'method', ']', '=', '0', '}', 'this', '.', 'method_stats', '[', 'method', ']', '+', '=', '1', '}']
  [35] statement/} @ 2093-2093: ['}']
  [36] statement/ACTION @ 2094-2131: ['action', 'get_error_suggestions', '(', 'code', ':', 'integer', ')', '-', '>', 'string', '{', 'match', 'code', '{', 'case', '-', '32601', ':', 'return', 'Check available methods using ziver_getMethods', 'case', '-', '32000', ':', 'return', 'Transaction may have bounce-back protection enabled', 'case', '-', '32602', ':', 'return', 'Verify parameter types and values', 'default', ':', 'return', 'Check documentation at docs.ziver.io', '}', '}']
  [37] statement/} @ 2131-2131: ['}']
  [38] statement/ACTION @ 2132-2161: ['action', 'async', 'generate_transaction_explanation', '(', 'tx', ':', 'any', ')', '{', 'print', '(', 'ğŸ¤– Generating AI explanation for transaction: ', '+', 'tx', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', ')', 'await', 'sleep', '(', '0.1', ')', '}']
  [39] statement/} @ 2161-2161: ['}']
  [40] statement/ACTION @ 2162-2187: ['action', 'get_seb_defi_block_data', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'social_capital_min', ':', '0.0', ',', 'social_capital_max', ':', '1.0', ',', 'defi_activity', ':', '0.5', '}', '}']
  [41] statement/} @ 2187-2187: ['}']
  [42] statement/ACTION @ 2188-2206: ['action', 'is_bounceback_protected', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'tx', '.', 'bounce_back_protection', '?', '?', 'false', '}']
  [43] statement/} @ 2206-2206: ['}']
  [44] statement/ACTION @ 2207-2221: ['action', 'get_cached_explanation', '(', 'tx_hash', ':', 'string', ')', '-', '>', 'string', '?', '{', 'return', 'null', '}']
  [45] statement/} @ 2221-2221: ['}']
  [46] statement/ACTION @ 2222-2250: ['action', 'async', 'start_http_server', '(', ')', '{', 'print', '(', 'ğŸŒ HTTP Server listening on port ', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'while', 'this', '.', 'is_running', '{', 'await', 'sleep', '(', '1', ')', '}', '}']
  [47] statement/} @ 2250-2250: ['}']
  [48] statement/ACTION @ 2251-2325: ['action', 'async', 'collect_metrics', '(', ')', '{', 'while', 'this', '.', 'is_running', '{', 'let', 'stats', '=', '{', 'total_requests', ':', 'this', '.', 'request_count', ',', 'active_methods', ':', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ',', 'method_stats', ':', 'this', '.', 'method_stats', ',', 'uptime', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')', '}', 'await', 'sleep', '(', '60', ')', 'print', '(', 'ğŸ“Š RPC Metrics: ', '+', 'string', '(', 'stats', ')', ')', '}', '}']
  [49] statement/} @ 2325-2325: ['}']
  [50] statement/ACTION @ 2326-2344: ['action', 'get_start_time', '(', ')', '-', '>', 'integer', '{', 'return', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}']
  [51] statement/} @ 2344-2344: ['}']
  [52] statement/ACTION @ 2345-2354: ['action', 'async', 'sleep', '(', 'seconds', ':', 'float', ')', '{', '}']
  [53] statement/} @ 2354-2354: ['}']
  [54] statement/} @ 2355-2355: ['}']
  [55] statement/ACTION @ 2356-2534: ['action', 'async', 'test_enhanced_rpc', '(', ')', '{', 'print', '(', 'ğŸ”Œ Testing Enhanced JSON-RPC Server...', ')', 'let', 'mock_node', '=', '{', 'network', ':', '{', 'is_listening', ':', 'true', ',', 'get_connected_peers_count', ':', 'action', '(', ')', '{', 'return', '5', '}', '}', ',', 'blockchain', ':', '{', 'get_latest_block_index', ':', 'action', '(', ')', '{', 'return', '100', '}', ',', 'get_block', ':', 'action', '(', 'n', ')', '{', 'return', '{', 'index', ':', 'n', ',', 'transactions', ':', '[', ']', '}', '}', '}', ',', 'get_balance_with_social_capital', ':', 'action', '(', 'addr', ')', '{', 'return', '{', 'amount', ':', '1000', '}', '}', '}', 'let', 'rpc_server', '=', 'JSONRPCServer', '(', 'node', ':', 'mock_node', ',', 'port', ':', '8545', ')', 'if', 'rpc_server', '.', 'start', '(', ')', '{', 'print', '(', 'âœ… RPC Server started successfully', ')', 'let', 'version', '=', 'rpc_server', '.', 'methods', '[', 'web3_clientVersion', ']', '(', '[', ']', ')', 'print', '(', 'Client Version: ', '+', 'version', ')', 'let', 'block_number', '=', 'rpc_server', '.', 'methods', '[', 'eth_blockNumber', ']', '(', '[', ']', ')', 'print', '(', 'Current Block: ', '+', 'block_number', ')', 'let', 'error_request', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'invalid_method', ',', 'id', ':', '1', '}', 'let', 'error_response', '=', 'rpc_server', '.', 'handle_request', '(', 'error_request', ')', 'print', '(', 'Error Response: ', '+', 'string', '(', 'error_response', ')', ')', '}', '}']
  [56] statement/} @ 2534-2534: ['}']
  [57] statement/EXPORT @ 2535-2542: ['export', '{', 'JSONRPCServer', ',', 'JSONRPCProtocol', ',', 'test_enhanced_rpc', '}']
  [58] statement/} @ 2542-2543: ['}']
ğŸ”§ Parsing 59 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math', 'protocol', 'JSONRPCProtocol', '{']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math', 'protocol', 'JSONRPCProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found action statement: ['action', 'start', '(', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_request', '(', 'request', ':', 'map', ')', '-', '>', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'register_method', '(', 'method_name', ':', 'string', ',', 'handler', ':', 'action', ')', '-', '>', 'boolean', '}', 'contract', 'JSONRPCServer', 'implements', 'JSONRPCProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
  âœ… Parsed: BlockStatement at line 19
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['port', ':', 'integer']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 19
  âœ… Parsed: BlockStatement at line 20
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['node', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 20
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['methods', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
  âœ… Parsed: BlockStatement at line 22
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['is_running', ':', 'boolean', '=', 'false']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 22
  âœ… Parsed: BlockStatement at line 23
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['request_count', ':', 'integer', '=', '0']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 23
  âœ… Parsed: BlockStatement at line 24
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['method_stats', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 24
  âœ… Parsed: BlockStatement at line 26
  ğŸ”§ Populating empty BlockStatement from 51 tokens
    ğŸ“ Parsing 51 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', 'node', ':', 'any', ',', 'port', ':', 'integer', '=', '8545', ')', '{', 'this', '.', 'node', '=', 'node', 'this', '.', 'port', '=', 'port', 'this', '.', 'methods', '=', '{', '}', 'this', '.', 'method_stats', '=', '{', '}', 'this', '.', 'register_core_methods', '(', ')', 'print', '(', 'ğŸ”„ JSON-RPC Server initialized on port ', '+', 'string', '(', 'port', ')', ')', '}']
    ğŸ“ Parsing 36 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'node', '=', 'node', 'this', '.', 'port', '=', 'port', 'this', '.', 'methods', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'method_stats', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'register_core_methods', '(', ')']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ JSON-RPC Server initialized on port ', '+', 'string', '(', 'port', ')', ')']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 26
  âœ… Parsed: BlockStatement at line 33
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 33
  âœ… Parsed: BlockStatement at line 35
  ğŸ”§ Populating empty BlockStatement from 58 tokens
    ğŸ“ Parsing 58 tokens into statements
    ğŸ“ Found action statement: ['action', 'start', '(', ')', '-', '>', 'boolean', '{', 'this', '.', 'is_running', '=', 'true', 'print', '(', 'ğŸš€ JSON-RPC Server starting on http://localhost:', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'print', '(', 'ğŸ“š Available methods: ', '+', 'string', '(', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ')', ')', 'spawn', 'this', '.', 'start_http_server', '(', ')', 'spawn', 'this', '.', 'collect_metrics', '(', ')', 'return', 'true', '}']
    ğŸ“ Parsing 49 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_running', '=', 'true']
    ğŸ“ Found print statement: ['print', '(', 'ğŸš€ JSON-RPC Server starting on http://localhost:', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'print', '(', 'ğŸ“š Available methods: ', '+', 'string', '(', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ')', ')', 'spawn', 'this', '.', 'start_http_server', '(', ')', 'spawn', 'this', '.', 'collect_metrics', '(', ')', 'return', 'true']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 35
  âœ… Parsed: BlockStatement at line 48
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 48
  âœ… Parsed: BlockStatement at line 50
  ğŸ”§ Populating empty BlockStatement from 243 tokens
    ğŸ“ Parsing 243 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_request', '(', 'request', ':', 'map', ')', '-', '>', 'map', '{', 'this', '.', 'request_count', '+', '=', '1', 'let', 'method', '=', 'request', '.', 'get', '(', 'method', ',', '', ')', 'let', 'params', '=', 'request', '.', 'get', '(', 'params', ',', '[', ']', ')', 'let', 'id', '=', 'request', '.', 'get', '(', 'id', ',', '1', ')', 'let', 'validation', '=', 'this', '.', 'validate_request', '(', 'request', ')', 'if', 'not', 'validation', '.', 'valid', '{', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32600', ',', 'validation', '.', 'error', ')', '}', 'print', '(', 'ğŸ“¨ RPC Request #', '+', 'string', '(', 'this', '.', 'request_count', ')', '+', ': ', '+', 'method', '+', ' ID: ', '+', 'string', '(', 'id', ')', ')', 'this', '.', 'update_method_stats', '(', 'method', ')', 'if', 'not', 'this', '.', 'methods', '.', 'has', '(', 'method', ')', '{', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32601', ',', 'Method not found: ', '+', 'method', ')', '}', 'try', '{', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'result', '=', 'this', '.', 'methods', '[', 'method', ']', '(', 'params', ')', 'let', 'processing_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', 'if', 'processing_time', '>', '1.0', '{', 'print', '(', 'âš ï¸ Slow RPC method: ', '+', 'method', '+', ' took ', '+', 'string', '(', 'processing_time', ')', '+', 's', ')', '}', 'return', 'this', '.', 'success_response', '(', 'id', ',', 'result', ')', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ RPC Error in ', '+', 'method', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32000', ',', 'Internal error: ', '+', 'string', '(', 'error', ')', ')', '}', '}']
    ğŸ“ Parsing 231 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'request_count', '+', '=', '1']
  ğŸ” Parsing expression from tokens: ['=', '1']
    ğŸ“ Found let statement: ['let', 'method', '=', 'request', '.', 'get', '(', 'method', ',', '', ')', 'let', 'params', '=', 'request', '.', 'get', '(', 'params', ',', '[', ']', ')', 'let', 'id', '=', 'request', '.', 'get', '(', 'id', ',', '1', ')', 'let', 'validation', '=', 'this', '.', 'validate_request', '(', 'request', ')', 'if', 'not', 'validation', '.', 'valid']
  ğŸ” Parsing expression from tokens: ['request', '.', 'get', '(', 'method', ',', '', ')', 'let', 'params', '=', 'request', '.', 'get', '(', 'params', ',', '[', ']', ')', 'let', 'id', '=', 'request', '.', 'get', '(', 'id', ',', '1', ')', 'let', 'validation', '=', 'this', '.', 'validate_request', '(', 'request', ')', 'if', 'not', 'validation', '.', 'valid']
  ğŸ” Parsing expression from tokens: ['method']
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32600', ',', 'validation', '.', 'error', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“¨ RPC Request #', '+', 'string', '(', 'this', '.', 'request_count', ')', '+', ': ', '+', 'method', '+', ' ID: ', '+', 'string', '(', 'id', ')', ')', 'this', '.', 'update_method_stats', '(', 'method', ')', 'if', 'not', 'this', '.', 'methods', '.', 'has', '(', 'method', ')']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32601', ',', 'Method not found: ', '+', 'method', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['{', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'result', '=', 'this', '.', 'methods', '[', 'method', ']', '(', 'params', ')', 'let', 'processing_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', 'if', 'processing_time', '>', '1.0', '{', 'print', '(', 'âš ï¸ Slow RPC method: ', '+', 'method', '+', ' took ', '+', 'string', '(', 'processing_time', ')', '+', 's', ')', '}', 'return', 'this', '.', 'success_response', '(', 'id', ',', 'result', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['catch', '(', 'error', ')', '{', 'print', '(', 'âŒ RPC Error in ', '+', 'method', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'return', 'this', '.', 'error_response', '(', 'id', ',', '-', '32000', ',', 'Internal error: ', '+', 'string', '(', 'error', ')', ')']
  ğŸ” Parsing expression from tokens: ['error']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 50
  âœ… Parsed: BlockStatement at line 87
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 87
  âœ… Parsed: BlockStatement at line 89
  ğŸ”§ Populating empty BlockStatement from 866 tokens
    ğŸ“ Parsing 866 tokens into statements
    ğŸ“ Found action statement: ['action', 'register_core_methods', '(', ')', '{', 'this', '.', 'methods', '[', 'web3_clientVersion', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'return', 'ZiverChain/v3.0.0/zexus-quantum', '}', 'this', '.', 'methods', '[', 'net_version', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'return', '12345', '}', 'this', '.', 'methods', '[', 'net_listening', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'boolean', '{', 'return', 'this', '.', 'node', '.', 'network', '!=', 'null', 'and', 'this', '.', 'node', '.', 'network', '.', 'is_listening', '}', 'this', '.', 'methods', '[', 'net_peerCount', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'count', '=', 'this', '.', 'node', '.', 'network', '!=', 'null', '?', 'this', '.', 'node', '.', 'network', '.', 'get_connected_peers_count', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'count', ')', '}', 'this', '.', 'methods', '[', 'eth_blockNumber', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '!=', 'null', '?', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block_number', ')', '}', 'this', '.', 'methods', '[', 'eth_getBalance', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'block_tag', '=', 'params', '.', 'get', '(', '1', ',', 'latest', ')', 'let', 'balance', '=', 'this', '.', 'node', '.', 'get_balance_with_social_capital', '(', 'address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'balance', '.', 'amount', ')', '}', 'this', '.', 'methods', '[', 'eth_getBlockByNumber', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '?', '{', 'let', 'block_number_hex', '=', 'params', '.', 'get', '(', '0', ',', 'latest', ')', 'let', 'full_tx', '=', 'params', '.', 'get', '(', '1', ',', 'false', ')', 'let', 'block_number', '=', '0', 'if', 'block_number_hex', '==', 'latest', '{', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', '}', 'else', '{', 'block_number', '=', 'math', '.', 'hex_to_int', '(', 'block_number_hex', ')', '}', 'let', 'block', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_block', '(', 'block_number', ')', 'if', 'block', '==', 'null', '{', 'return', 'null', '}', 'return', 'this', '.', 'format_block', '(', 'block', ',', 'full_tx', ')', '}', 'this', '.', 'methods', '[', 'eth_sendTransaction', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'tx_data', '=', 'params', '.', 'get', '(', '0', ',', '{', '}', ')', 'let', 'tx', '=', 'this', '.', 'create_transaction_with_bounceback', '(', 'tx_data', ')', 'let', 'success', '=', 'this', '.', 'node', '.', 'add_transaction', '(', 'tx', ')', 'if', 'success', '{', 'spawn', 'this', '.', 'generate_transaction_explanation', '(', 'tx', ')', 'return', 'tx', '.', 'hash', '}', 'else', '{', 'throw', 'Transaction failed - check bounce-back protection', '}', '}', 'this', '.', 'methods', '[', 'ziver_getWalletInfo', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_createWallet', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'owner_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'create_quantum_wallet', '(', 'owner_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_bridgeAssets', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'source_chain', '=', 'params', '.', 'get', '(', '1', ',', 'ZIVER', ')', 'let', 'target_chain', '=', 'params', '.', 'get', '(', '2', ',', 'ETHEREUM', ')', 'let', 'amount', '=', 'params', '.', 'get', '(', '3', ',', '0', ')', 'let', 'token_address', '=', 'params', '.', 'get', '(', '4', ',', 'null', ')', 'return', 'this', '.', 'node', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ',', 'source_chain', ',', 'target_chain', ',', 'amount', ',', 'token_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_deployToken', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'name', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'symbol', '=', 'params', '.', 'get', '(', '1', ',', '', ')', 'let', 'supply', '=', 'params', '.', 'get', '(', '2', ',', '0', ')', 'let', 'owner', '=', 'params', '.', 'get', '(', '3', ',', '', ')', 'return', 'this', '.', 'node', '.', 'deploy_token_with_seb_features', '(', 'name', ',', 'symbol', ',', 'supply', ',', 'owner', ')', '}', 'this', '.', 'methods', '[', 'ziver_getSocialCapital', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_social_capital_score', '(', 'user_address', ')', '}', 'this', '.', 'methods', '[', 'ziver_getBorrowingPower', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'power', '=', 'this', '.', 'node', '.', 'get_borrowing_power', '(', 'user_address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'power', ')', '}', 'this', '.', 'methods', '[', 'ziver_explainTransaction', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'tx_hash', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_transaction_explanation', '(', 'tx_hash', ')', '}', 'this', '.', 'methods', '[', 'ziver_aiOptimize', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'return', 'this', '.', 'node', '.', 'run_ai_optimization', '(', ')', '}', 'this', '.', 'methods', '[', 'ziver_getQuantumKeys', ']', '=', 'action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_quantum_key_info', '(', 'address', ')', '}', 'print', '(', 'âœ… Registered ', '+', 'string', '(', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ')', '+', ' RPC methods', ')', '}']
    ğŸ“ Parsing 860 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'web3_clientVersion', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'return', 'ZiverChain/v3.0.0/zexus-quantum', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['ZiverChain/v3.0.0/zexus-quantum']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'net_version', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'return', '12345', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['12345']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'net_listening', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'boolean', '{', 'return', 'this', '.', 'node', '.', 'network', '!=', 'null', 'and', 'this', '.', 'node', '.', 'network', '.', 'is_listening', '}']
    ğŸ“ Parsing 16 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'node', '.', 'network', '!=', 'null', 'and', 'this', '.', 'node', '.', 'network', '.', 'is_listening']
  ğŸ” Parsing expression from tokens: ['null', 'and', 'this', '.', 'node', '.', 'network', '.', 'is_listening']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'net_peerCount', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'count', '=', 'this', '.', 'node', '.', 'network', '!=', 'null', '?', 'this', '.', 'node', '.', 'network', '.', 'get_connected_peers_count', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'count', ')', '}']
    ğŸ“ Parsing 31 tokens into statements
    ğŸ“ Found let statement: ['let', 'count', '=', 'this', '.', 'node', '.', 'network', '!=', 'null', '?', 'this', '.', 'node', '.', 'network', '.', 'get_connected_peers_count', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'count', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'node', '.', 'network', '!=', 'null', '?', 'this', '.', 'node', '.', 'network', '.', 'get_connected_peers_count', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'count', ')']
  ğŸ” Parsing expression from tokens: ['null', '?', 'this', '.', 'node', '.', 'network', '.', 'get_connected_peers_count', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'count', ')']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'eth_blockNumber', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '!=', 'null', '?', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block_number', ')', '}']
    ğŸ“ Parsing 31 tokens into statements
    ğŸ“ Found let statement: ['let', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '!=', 'null', '?', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block_number', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'node', '.', 'blockchain', '!=', 'null', '?', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block_number', ')']
  ğŸ” Parsing expression from tokens: ['null', '?', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', ':', '0', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block_number', ')']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'eth_getBalance', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'block_tag', '=', 'params', '.', 'get', '(', '1', ',', 'latest', ')', 'let', 'balance', '=', 'this', '.', 'node', '.', 'get_balance_with_social_capital', '(', 'address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'balance', '.', 'amount', ')', '}']
    ğŸ“ Parsing 44 tokens into statements
    ğŸ“ Found let statement: ['let', 'address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'block_tag', '=', 'params', '.', 'get', '(', '1', ',', 'latest', ')', 'let', 'balance', '=', 'this', '.', 'node', '.', 'get_balance_with_social_capital', '(', 'address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'balance', '.', 'amount', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'let', 'block_tag', '=', 'params', '.', 'get', '(', '1', ',', 'latest', ')', 'let', 'balance', '=', 'this', '.', 'node', '.', 'get_balance_with_social_capital', '(', 'address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'balance', '.', 'amount', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'eth_getBlockByNumber', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '?', '{', 'let', 'block_number_hex', '=', 'params', '.', 'get', '(', '0', ',', 'latest', ')', 'let', 'full_tx', '=', 'params', '.', 'get', '(', '1', ',', 'false', ')', 'let', 'block_number', '=', '0', 'if', 'block_number_hex', '==', 'latest', '{', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')', '}', 'else', '{', 'block_number', '=', 'math', '.', 'hex_to_int', '(', 'block_number_hex', ')', '}', 'let', 'block', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_block', '(', 'block_number', ')', 'if', 'block', '==', 'null', '{', 'return', 'null', '}', 'return', 'this', '.', 'format_block', '(', 'block', ',', 'full_tx', ')', '}']
    ğŸ“ Parsing 84 tokens into statements
    ğŸ“ Found let statement: ['let', 'block_number_hex', '=', 'params', '.', 'get', '(', '0', ',', 'latest', ')', 'let', 'full_tx', '=', 'params', '.', 'get', '(', '1', ',', 'false', ')', 'let', 'block_number', '=', '0', 'if', 'block_number_hex', '==', 'latest']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', 'latest', ')', 'let', 'full_tx', '=', 'params', '.', 'get', '(', '1', ',', 'false', ')', 'let', 'block_number', '=', '0', 'if', 'block_number_hex', '==', 'latest']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['latest']
  ğŸ” Parsing expression from tokens: ['{', 'block_number', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_latest_block_index', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['else', '{', 'block_number', '=', 'math', '.', 'hex_to_int', '(', 'block_number_hex', ')']
    ğŸ“ Found let statement: ['let', 'block', '=', 'this', '.', 'node', '.', 'blockchain', '.', 'get_block', '(', 'block_number', ')', 'if', 'block', '==', 'null']
  ğŸ” Parsing expression from tokens: ['this', '.', 'node', '.', 'blockchain', '.', 'get_block', '(', 'block_number', ')', 'if', 'block', '==', 'null']
  ğŸ” Parsing expression from tokens: ['block_number']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'null']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'format_block', '(', 'block', ',', 'full_tx', ')']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ” Parsing expression from tokens: ['full_tx']
    âœ… Parsed 6 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'eth_sendTransaction', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'tx_data', '=', 'params', '.', 'get', '(', '0', ',', '{', '}', ')', 'let', 'tx', '=', 'this', '.', 'create_transaction_with_bounceback', '(', 'tx_data', ')', 'let', 'success', '=', 'this', '.', 'node', '.', 'add_transaction', '(', 'tx', ')', 'if', 'success', '{', 'spawn', 'this', '.', 'generate_transaction_explanation', '(', 'tx', ')', 'return', 'tx', '.', 'hash', '}', 'else', '{', 'throw', 'Transaction failed - check bounce-back protection', '}', '}']
    ğŸ“ Parsing 52 tokens into statements
    ğŸ“ Found let statement: ['let', 'tx_data', '=', 'params', '.', 'get', '(', '0', ',']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
    ğŸ“ Found let statement: ['let', 'tx', '=', 'this', '.', 'create_transaction_with_bounceback', '(', 'tx_data', ')', 'let', 'success', '=', 'this', '.', 'node', '.', 'add_transaction', '(', 'tx', ')', 'if', 'success']
  ğŸ” Parsing expression from tokens: ['this', '.', 'create_transaction_with_bounceback', '(', 'tx_data', ')', 'let', 'success', '=', 'this', '.', 'node', '.', 'add_transaction', '(', 'tx', ')', 'if', 'success']
  ğŸ” Parsing expression from tokens: ['tx_data']
  ğŸ” Parsing expression from tokens: ['{', 'spawn', 'this', '.', 'generate_transaction_explanation', '(', 'tx', ')', 'return', 'tx', '.', 'hash']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['else', '{', 'throw', 'Transaction failed - check bounce-back protection']
    âœ… Parsed 6 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_getWalletInfo', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ')', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found let statement: ['let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_enhanced_wallet_info', '(', 'wallet_address', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_createWallet', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'owner_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'create_quantum_wallet', '(', 'owner_address', ')', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found let statement: ['let', 'owner_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'create_quantum_wallet', '(', 'owner_address', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'create_quantum_wallet', '(', 'owner_address', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_bridgeAssets', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'source_chain', '=', 'params', '.', 'get', '(', '1', ',', 'ZIVER', ')', 'let', 'target_chain', '=', 'params', '.', 'get', '(', '2', ',', 'ETHEREUM', ')', 'let', 'amount', '=', 'params', '.', 'get', '(', '3', ',', '0', ')', 'let', 'token_address', '=', 'params', '.', 'get', '(', '4', ',', 'null', ')', 'return', 'this', '.', 'node', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ',', 'source_chain', ',', 'target_chain', ',', 'amount', ',', 'token_address', ')', '}']
    ğŸ“ Parsing 72 tokens into statements
    ğŸ“ Found let statement: ['let', 'wallet_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'source_chain', '=', 'params', '.', 'get', '(', '1', ',', 'ZIVER', ')', 'let', 'target_chain', '=', 'params', '.', 'get', '(', '2', ',', 'ETHEREUM', ')', 'let', 'amount', '=', 'params', '.', 'get', '(', '3', ',', '0', ')', 'let', 'token_address', '=', 'params', '.', 'get', '(', '4', ',', 'null', ')', 'return', 'this', '.', 'node', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ',', 'source_chain', ',', 'target_chain', ',', 'amount', ',', 'token_address', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'let', 'source_chain', '=', 'params', '.', 'get', '(', '1', ',', 'ZIVER', ')', 'let', 'target_chain', '=', 'params', '.', 'get', '(', '2', ',', 'ETHEREUM', ')', 'let', 'amount', '=', 'params', '.', 'get', '(', '3', ',', '0', ')', 'let', 'token_address', '=', 'params', '.', 'get', '(', '4', ',', 'null', ')', 'return', 'this', '.', 'node', '.', 'bridge_assets_with_tracking', '(', 'wallet_address', ',', 'source_chain', ',', 'target_chain', ',', 'amount', ',', 'token_address', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_deployToken', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'name', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'symbol', '=', 'params', '.', 'get', '(', '1', ',', '', ')', 'let', 'supply', '=', 'params', '.', 'get', '(', '2', ',', '0', ')', 'let', 'owner', '=', 'params', '.', 'get', '(', '3', ',', '', ')', 'return', 'this', '.', 'node', '.', 'deploy_token_with_seb_features', '(', 'name', ',', 'symbol', ',', 'supply', ',', 'owner', ')', '}']
    ğŸ“ Parsing 59 tokens into statements
    ğŸ“ Found let statement: ['let', 'name', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'symbol', '=', 'params', '.', 'get', '(', '1', ',', '', ')', 'let', 'supply', '=', 'params', '.', 'get', '(', '2', ',', '0', ')', 'let', 'owner', '=', 'params', '.', 'get', '(', '3', ',', '', ')', 'return', 'this', '.', 'node', '.', 'deploy_token_with_seb_features', '(', 'name', ',', 'symbol', ',', 'supply', ',', 'owner', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'let', 'symbol', '=', 'params', '.', 'get', '(', '1', ',', '', ')', 'let', 'supply', '=', 'params', '.', 'get', '(', '2', ',', '0', ')', 'let', 'owner', '=', 'params', '.', 'get', '(', '3', ',', '', ')', 'return', 'this', '.', 'node', '.', 'deploy_token_with_seb_features', '(', 'name', ',', 'symbol', ',', 'supply', ',', 'owner', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_getSocialCapital', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_social_capital_score', '(', 'user_address', ')', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found let statement: ['let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_social_capital_score', '(', 'user_address', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_social_capital_score', '(', 'user_address', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_getBorrowingPower', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'power', '=', 'this', '.', 'node', '.', 'get_borrowing_power', '(', 'user_address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'power', ')', '}']
    ğŸ“ Parsing 31 tokens into statements
    ğŸ“ Found let statement: ['let', 'user_address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'let', 'power', '=', 'this', '.', 'node', '.', 'get_borrowing_power', '(', 'user_address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'power', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'let', 'power', '=', 'this', '.', 'node', '.', 'get_borrowing_power', '(', 'user_address', ')', 'return', '0x', '+', 'math', '.', 'to_hex_string', '(', 'power', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_explainTransaction', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'string', '{', 'let', 'tx_hash', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_transaction_explanation', '(', 'tx_hash', ')', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found let statement: ['let', 'tx_hash', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_transaction_explanation', '(', 'tx_hash', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_transaction_explanation', '(', 'tx_hash', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_aiOptimize', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'return', 'this', '.', 'node', '.', 'run_ai_optimization', '(', ')', '}']
    ğŸ“ Parsing 8 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'node', '.', 'run_ai_optimization', '(', ')']
    âœ… Parsed 1 statements from block
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'ziver_getQuantumKeys', ']', '=']
    ğŸ“ Found action statement: ['action', '(', 'params', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_quantum_key_info', '(', 'address', ')', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found let statement: ['let', 'address', '=', 'params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_quantum_key_info', '(', 'address', ')']
  ğŸ” Parsing expression from tokens: ['params', '.', 'get', '(', '0', ',', '', ')', 'return', 'this', '.', 'node', '.', 'get_quantum_key_info', '(', 'address', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
    ğŸ“ Found print statement: ['print', '(', 'âœ… Registered ', '+', 'string', '(', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ')', '+', ' RPC methods', ')']
    âœ… Parsed 35 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 89
  âœ… Parsed: BlockStatement at line 218
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 218
  âœ… Parsed: BlockStatement at line 220
  ğŸ”§ Populating empty BlockStatement from 51 tokens
    ğŸ“ Parsing 51 tokens into statements
    ğŸ“ Found action statement: ['action', 'register_method', '(', 'method_name', ':', 'string', ',', 'handler', ':', 'action', ')', '-', '>', 'boolean', '{', 'if', 'this', '.', 'methods', '.', 'has', '(', 'method_name', ')', '{', 'print', '(', 'âš ï¸ Method already registered: ', '+', 'method_name', ')', 'return', 'false', '}', 'this', '.', 'methods', '[', 'method_name', ']', '=', 'handler', 'print', '(', 'âœ… Registered custom method: ', '+', 'method_name', ')', 'return', 'true', '}']
    ğŸ“ Parsing 35 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '.', 'has', '(', 'method_name', ')', '{', 'print', '(', 'âš ï¸ Method already registered: ', '+', 'method_name', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['method_name']
  ğŸ” Parsing expression from tokens: ['this', '.', 'methods', '[', 'method_name', ']', '=', 'handler']
    ğŸ“ Found print statement: ['print', '(', 'âœ… Registered custom method: ', '+', 'method_name', ')', 'return', 'true']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 220
  âœ… Parsed: BlockStatement at line 229
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 229
  âœ… Parsed: BlockStatement at line 232
  ğŸ”§ Populating empty BlockStatement from 206 tokens
    ğŸ“ Parsing 206 tokens into statements
    ğŸ“ Found action statement: ['action', 'format_block', '(', 'block', ':', 'any', ',', 'full_tx', ':', 'boolean', ')', '-', '>', 'map', '{', 'let', 'transactions', '=', '[', ']', 'if', 'full_tx', '{', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'transactions', '.', 'push', '(', 'this', '.', 'format_transaction', '(', 'tx', ')', ')', '}', '}', 'else', '{', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'transactions', '.', 'push', '(', 'tx', '.', 'hash', ')', '}', '}', 'return', '{', 'number', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'index', ')', ',', 'hash', ':', 'block', '.', 'hash', ',', 'parentHash', ':', 'block', '.', 'previous_hash', ',', 'nonce', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'nonce', ')', ',', 'transactionsRoot', ':', 'block', '.', 'merkle_root', ',', 'miner', ':', 'block', '.', 'validator', ',', 'difficulty', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')', ',', 'totalDifficulty', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')', ',', 'size', ':', '0x200', ',', 'timestamp', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'timestamp', ')', ',', 'transactions', ':', 'transactions', ',', 'gasLimit', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', '1000000', ')', ',', 'gasUsed', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', '50000', ')', ',', 'extraData', ':', '0x', '+', 'crypto', '.', 'keccak256', '(', 'ziver_chain', ')', ',', 'sebDefiData', ':', 'this', '.', 'get_seb_defi_block_data', '(', 'block', ')', '}', '}']
    ğŸ“ Parsing 190 tokens into statements
    ğŸ“ Found let statement: ['let', 'transactions', '=', '[', ']', 'if', 'full_tx']
  ğŸ” Parsing expression from tokens: ['[', ']', 'if', 'full_tx']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'transactions', '.', 'push', '(', 'this', '.', 'format_transaction', '(', 'tx', ')', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['else', '{', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'transactions', '.', 'push', '(', 'tx', '.', 'hash', ')', '}']
  ğŸ” Parsing expression from tokens: ['{', 'number', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'index', ')', ',', 'hash', ':', 'block', '.', 'hash', ',', 'parentHash', ':', 'block', '.', 'previous_hash', ',', 'nonce', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'nonce', ')', ',', 'transactionsRoot', ':', 'block', '.', 'merkle_root', ',', 'miner', ':', 'block', '.', 'validator', ',', 'difficulty', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')', ',', 'totalDifficulty', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')', ',', 'size', ':', '0x200', ',', 'timestamp', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'timestamp', ')', ',', 'transactions', ':', 'transactions', ',', 'gasLimit', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', '1000000', ')', ',', 'gasUsed', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', '50000', ')', ',', 'extraData', ':', '0x', '+', 'crypto', '.', 'keccak256', '(', 'ziver_chain', ')', ',', 'sebDefiData', ':', 'this', '.', 'get_seb_defi_block_data', '(', 'block', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'index', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'block', '.', 'index', ')']
  ğŸ” Parsing expression from tokens: ['block', '.', 'index']
  ğŸ—ºï¸ [Map] Added pair: number -> InfixExpression
  ğŸ” Parsing expression from tokens: ['block', '.', 'hash']
  ğŸ—ºï¸ [Map] Added pair: hash -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['block', '.', 'previous_hash']
  ğŸ—ºï¸ [Map] Added pair: parentHash -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'nonce', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'block', '.', 'nonce', ')']
  ğŸ” Parsing expression from tokens: ['block', '.', 'nonce']
  ğŸ—ºï¸ [Map] Added pair: nonce -> InfixExpression
  ğŸ” Parsing expression from tokens: ['block', '.', 'merkle_root']
  ğŸ—ºï¸ [Map] Added pair: transactionsRoot -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['block', '.', 'validator']
  ğŸ—ºï¸ [Map] Added pair: miner -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')']
  ğŸ” Parsing expression from tokens: ['block', '.', 'difficulty']
  ğŸ—ºï¸ [Map] Added pair: difficulty -> InfixExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'block', '.', 'difficulty', ')']
  ğŸ” Parsing expression from tokens: ['block', '.', 'difficulty']
  ğŸ—ºï¸ [Map] Added pair: totalDifficulty -> InfixExpression
  ğŸ” Parsing expression from tokens: ['0x200']
  ğŸ—ºï¸ [Map] Added pair: size -> StringLiteral
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'block', '.', 'timestamp', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'block', '.', 'timestamp', ')']
  ğŸ” Parsing expression from tokens: ['block', '.', 'timestamp']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> InfixExpression
  ğŸ” Parsing expression from tokens: ['transactions']
  ğŸ—ºï¸ [Map] Added pair: transactions -> Identifier
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', '1000000', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', '1000000', ')']
  ğŸ” Parsing expression from tokens: ['1000000']
  ğŸ—ºï¸ [Map] Added pair: gasLimit -> InfixExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', '50000', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', '50000', ')']
  ğŸ” Parsing expression from tokens: ['50000']
  ğŸ—ºï¸ [Map] Added pair: gasUsed -> InfixExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'crypto', '.', 'keccak256', '(', 'ziver_chain', ')']
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'keccak256', '(', 'ziver_chain', ')']
  ğŸ” Parsing expression from tokens: ['ziver_chain']
  ğŸ—ºï¸ [Map] Added pair: extraData -> InfixExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_seb_defi_block_data', '(', 'block', ')']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ—ºï¸ [Map] Added pair: sebDefiData -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 15 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 232
  âœ… Parsed: BlockStatement at line 262
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 262
  âœ… Parsed: BlockStatement at line 264
  ğŸ”§ Populating empty BlockStatement from 113 tokens
    ğŸ“ Parsing 113 tokens into statements
    ğŸ“ Found action statement: ['action', 'format_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'hash', ':', 'tx', '.', 'hash', ',', 'from', ':', 'tx', '.', 'from_addr', ',', 'to', ':', 'tx', '.', 'to_addr', ',', 'value', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'value', ')', ',', 'input', ':', 'tx', '.', 'data', '?', '?', '0x', ',', 'gas', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_limit', ')', ',', 'gasUsed', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_used', ')', ',', 'nonce', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'nonce', ')', ',', 'bounceBackProtected', ':', 'this', '.', 'is_bounceback_protected', '(', 'tx', ')', ',', 'aiExplanation', ':', 'this', '.', 'get_cached_explanation', '(', 'tx', '.', 'hash', ')', '}', '}']
    ğŸ“ Parsing 101 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'hash', ':', 'tx', '.', 'hash', ',', 'from', ':', 'tx', '.', 'from_addr', ',', 'to', ':', 'tx', '.', 'to_addr', ',', 'value', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'value', ')', ',', 'input', ':', 'tx', '.', 'data', '?', '?', '0x', ',', 'gas', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_limit', ')', ',', 'gasUsed', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_used', ')', ',', 'nonce', ':', '0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'nonce', ')', ',', 'bounceBackProtected', ':', 'this', '.', 'is_bounceback_protected', '(', 'tx', ')', ',', 'aiExplanation', ':', 'this', '.', 'get_cached_explanation', '(', 'tx', '.', 'hash', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['tx', '.', 'hash']
  ğŸ—ºï¸ [Map] Added pair: hash -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'from_addr']
  ğŸ—ºï¸ [Map] Added pair: from -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'to_addr']
  ğŸ—ºï¸ [Map] Added pair: to -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'value', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'tx', '.', 'value', ')']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'value']
  ğŸ—ºï¸ [Map] Added pair: value -> InfixExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'data', '?', '?', '0x']
  ğŸ—ºï¸ [Map] Added pair: input -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_limit', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_limit', ')']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'gas_limit']
  ğŸ—ºï¸ [Map] Added pair: gas -> InfixExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_used', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'tx', '.', 'gas_used', ')']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'gas_used']
  ğŸ—ºï¸ [Map] Added pair: gasUsed -> InfixExpression
  ğŸ” Parsing expression from tokens: ['0x', '+', 'math', '.', 'to_hex_string', '(', 'tx', '.', 'nonce', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'to_hex_string', '(', 'tx', '.', 'nonce', ')']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'nonce']
  ğŸ—ºï¸ [Map] Added pair: nonce -> InfixExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_bounceback_protected', '(', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['tx']
  ğŸ—ºï¸ [Map] Added pair: bounceBackProtected -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_cached_explanation', '(', 'tx', '.', 'hash', ')']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'hash']
  ğŸ—ºï¸ [Map] Added pair: aiExplanation -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 10 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 264
  âœ… Parsed: BlockStatement at line 277
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 277
  âœ… Parsed: BlockStatement at line 279
  ğŸ”§ Populating empty BlockStatement from 192 tokens
    ğŸ“ Parsing 192 tokens into statements
    ğŸ“ Found action statement: ['action', 'create_transaction_with_bounceback', '(', 'tx_data', ':', 'map', ')', '-', '>', 'any', '{', 'let', 'to_address', '=', 'tx_data', '.', 'get', '(', 'to', ',', '', ')', 'if', 'not', 'this', '.', 'node', '.', 'is_valid_address', '(', 'to_address', ')', '{', 'tx_data', '[', 'bounceBack', ']', '=', 'true', 'tx_data', '[', 'bounceBackAddress', ']', '=', 'tx_data', '.', 'get', '(', 'from', ',', '', ')', '}', 'return', '{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'string', '(', 'tx_data', ')', '+', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', ',', 'from_addr', ':', 'tx_data', '.', 'get', '(', 'from', ',', '', ')', ',', 'to_addr', ':', 'tx_data', '.', 'get', '(', 'to', ',', '', ')', ',', 'value', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'value', ',', '0x0', ')', ')', ',', 'data', ':', 'tx_data', '.', 'get', '(', 'data', ',', '', ')', ',', 'gas_limit', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'gas', ',', '0x5208', ')', ')', ',', 'gas_used', ':', '0', ',', 'nonce', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'nonce', ',', '0x0', ')', ')', ',', 'signature', ':', 'tx_data', '.', 'get', '(', 'signature', ',', '', ')', ',', 'status', ':', 'pending', ',', 'bounce_back_protection', ':', 'tx_data', '.', 'get', '(', 'bounceBack', ',', 'false', ')', '}', '}']
    ğŸ“ Parsing 180 tokens into statements
    ğŸ“ Found let statement: ['let', 'to_address', '=', 'tx_data', '.', 'get', '(', 'to', ',', '', ')', 'if', 'not', 'this', '.', 'node', '.', 'is_valid_address', '(', 'to_address', ')']
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'to', ',', '', ')', 'if', 'not', 'this', '.', 'node', '.', 'is_valid_address', '(', 'to_address', ')']
  ğŸ” Parsing expression from tokens: ['to']
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['{', 'tx_data', '[', 'bounceBack', ']', '=', 'true', 'tx_data', '[', 'bounceBackAddress', ']', '=', 'tx_data', '.', 'get', '(', 'from', ',', '', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'string', '(', 'tx_data', ')', '+', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', ',', 'from_addr', ':', 'tx_data', '.', 'get', '(', 'from', ',', '', ')', ',', 'to_addr', ':', 'tx_data', '.', 'get', '(', 'to', ',', '', ')', ',', 'value', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'value', ',', '0x0', ')', ')', ',', 'data', ':', 'tx_data', '.', 'get', '(', 'data', ',', '', ')', ',', 'gas_limit', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'gas', ',', '0x5208', ')', ')', ',', 'gas_used', ':', '0', ',', 'nonce', ':', 'math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'nonce', ',', '0x0', ')', ')', ',', 'signature', ':', 'tx_data', '.', 'get', '(', 'signature', ',', '', ')', ',', 'status', ':', 'pending', ',', 'bounce_back_protection', ':', 'tx_data', '.', 'get', '(', 'bounceBack', ',', 'false', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'keccak256', '(', 'string', '(', 'tx_data', ')', '+', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'tx_data', ')', '+', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')']
  ğŸ” Parsing expression from tokens: ['tx_data']
  ğŸ” Parsing expression from tokens: ['string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: hash -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'from']
  ğŸ” Parsing expression from tokens: ['from']
  ğŸ—ºï¸ [Map] Added pair: from_addr -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'to']
  ğŸ” Parsing expression from tokens: ['to']
  ğŸ—ºï¸ [Map] Added pair: to_addr -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'value']
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'value']
  ğŸ” Parsing expression from tokens: ['value']
  ğŸ—ºï¸ [Map] Added pair: value -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'data']
  ğŸ” Parsing expression from tokens: ['data']
  ğŸ—ºï¸ [Map] Added pair: data -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'gas']
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'gas']
  ğŸ” Parsing expression from tokens: ['gas']
  ğŸ—ºï¸ [Map] Added pair: gas_limit -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: gas_used -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['math', '.', 'hex_to_int', '(', 'tx_data', '.', 'get', '(', 'nonce']
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'nonce']
  ğŸ” Parsing expression from tokens: ['nonce']
  ğŸ—ºï¸ [Map] Added pair: nonce -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'signature']
  ğŸ” Parsing expression from tokens: ['signature']
  ğŸ—ºï¸ [Map] Added pair: signature -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['pending']
  ğŸ—ºï¸ [Map] Added pair: status -> StringLiteral
  ğŸ” Parsing expression from tokens: ['tx_data', '.', 'get', '(', 'bounceBack']
  ğŸ” Parsing expression from tokens: ['bounceBack']
  ğŸ—ºï¸ [Map] Added pair: bounce_back_protection -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 11 pairs
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 279
  âœ… Parsed: BlockStatement at line 301
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 301
  âœ… Parsed: BlockStatement at line 303
  ğŸ”§ Populating empty BlockStatement from 54 tokens
    ğŸ“ Parsing 54 tokens into statements
    ğŸ“ Found action statement: ['action', 'success_response', '(', 'id', ':', 'integer', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'id', ',', 'result', ':', 'result', ',', 'ziver_metadata', ':', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'version', ':', '3.0.0', ',', 'quantum_secure', ':', 'true', '}', '}', '}']
    ğŸ“ Parsing 38 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'id', ',', 'result', ':', 'result', ',', 'ziver_metadata', ':', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'version', ':', '3.0.0', ',', 'quantum_secure', ':', 'true', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['id']
  ğŸ—ºï¸ [Map] Added pair: id -> Identifier
  ğŸ” Parsing expression from tokens: ['result']
  ğŸ—ºï¸ [Map] Added pair: result -> Identifier
  ğŸ” Parsing expression from tokens: ['{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: ziver_metadata -> MapLiteral
  ğŸ” Parsing expression from tokens: ['3.0.0']
  ğŸ—ºï¸ [Map] Added pair: version -> StringLiteral
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: quantum_secure -> Boolean
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 303
  âœ… Parsed: BlockStatement at line 314
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 314
  âœ… Parsed: BlockStatement at line 316
  ğŸ”§ Populating empty BlockStatement from 51 tokens
    ğŸ“ Parsing 51 tokens into statements
    ğŸ“ Found action statement: ['action', 'error_response', '(', 'id', ':', 'integer', ',', 'code', ':', 'integer', ',', 'message', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'id', ',', 'error', ':', '{', 'code', ':', 'code', ',', 'message', ':', 'message', ',', 'data', ':', 'this', '.', 'get_error_suggestions', '(', 'code', ')', '}', '}', '}']
    ğŸ“ Parsing 31 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'id', ',', 'error', ':', '{', 'code', ':', 'code', ',', 'message', ':', 'message', ',', 'data', ':', 'this', '.', 'get_error_suggestions', '(', 'code', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['id']
  ğŸ—ºï¸ [Map] Added pair: id -> Identifier
  ğŸ” Parsing expression from tokens: ['{', 'code', ':', 'code']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ—ºï¸ [Map] Added pair: code -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: error -> MapLiteral
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ—ºï¸ [Map] Added pair: message -> Identifier
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_error_suggestions', '(', 'code', ')']
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ—ºï¸ [Map] Added pair: data -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 316
  âœ… Parsed: BlockStatement at line 326
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 326
  âœ… Parsed: BlockStatement at line 328
  ğŸ”§ Populating empty BlockStatement from 85 tokens
    ğŸ“ Parsing 85 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_request', '(', 'request', ':', 'map', ')', '-', '>', 'map', '{', 'if', 'request', '.', 'get', '(', 'jsonrpc', ',', '', ')', '!=', '2.0', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Invalid JSON-RPC version', '}', '}', 'if', 'not', 'request', '.', 'has', '(', 'method', ')', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Missing method', '}', '}', 'if', 'not', 'request', '.', 'has', '(', 'id', ')', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Missing request ID', '}', '}', 'return', '{', 'valid', ':', 'true', ',', 'error', ':', '', '}', '}']
    ğŸ“ Parsing 73 tokens into statements
  ğŸ” Parsing expression from tokens: ['request', '.', 'get', '(', 'jsonrpc', ',', '', ')', '!=', '2.0', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Invalid JSON-RPC version', '}']
  ğŸ” Parsing expression from tokens: ['jsonrpc']
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['2.0', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Invalid JSON-RPC version', '}']
  ğŸ” Parsing expression from tokens: ['not', 'request', '.', 'has', '(', 'method', ')', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Missing method', '}']
  ğŸ” Parsing expression from tokens: ['not', 'request', '.', 'has', '(', 'id', ')', '{', 'return', '{', 'valid', ':', 'false', ',', 'error', ':', 'Missing request ID', '}']
  ğŸ” Parsing expression from tokens: ['{', 'valid', ':', 'true', ',', 'error', ':', '']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: valid -> Boolean
  ğŸ” Parsing expression from tokens: ['']
  ğŸ—ºï¸ [Map] Added pair: error -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 328
  âœ… Parsed: BlockStatement at line 342
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 342
  âœ… Parsed: BlockStatement at line 344
  ğŸ”§ Populating empty BlockStatement from 38 tokens
    ğŸ“ Parsing 38 tokens into statements
    ğŸ“ Found action statement: ['action', 'update_method_stats', '(', 'method', ':', 'string', ')', '{', 'if', 'not', 'this', '.', 'method_stats', '.', 'has', '(', 'method', ')', '{', 'this', '.', 'method_stats', '[', 'method', ']', '=', '0', '}', 'this', '.', 'method_stats', '[', 'method', ']', '+', '=', '1', '}']
    ğŸ“ Parsing 29 tokens into statements
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'method_stats', '.', 'has', '(', 'method', ')', '{', 'this', '.', 'method_stats', '[', 'method', ']', '=', '0']
  ğŸ” Parsing expression from tokens: ['this', '.', 'method_stats', '[', 'method', ']', '+', '=', '1']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 344
  âœ… Parsed: BlockStatement at line 349
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 349
  âœ… Parsed: BlockStatement at line 351
  ğŸ”§ Populating empty BlockStatement from 38 tokens
    ğŸ“ Parsing 38 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_error_suggestions', '(', 'code', ':', 'integer', ')', '-', '>', 'string', '{', 'match', 'code', '{', 'case', '-', '32601', ':', 'return', 'Check available methods using ziver_getMethods', 'case', '-', '32000', ':', 'return', 'Transaction may have bounce-back protection enabled', 'case', '-', '32602', ':', 'return', 'Verify parameter types and values', 'default', ':', 'return', 'Check documentation at docs.ziver.io', '}', '}']
    ğŸ“ Parsing 26 tokens into statements
  ğŸ” Parsing expression from tokens: ['match', 'code', '{', 'case', '-', '32601', ':', 'return', 'Check available methods using ziver_getMethods', 'case', '-', '32000', ':', 'return', 'Transaction may have bounce-back protection enabled', 'case', '-', '32602', ':', 'return', 'Verify parameter types and values', 'default', ':', 'return', 'Check documentation at docs.ziver.io']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 351
  âœ… Parsed: BlockStatement at line 358
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 358
  âœ… Parsed: BlockStatement at line 361
  ğŸ”§ Populating empty BlockStatement from 30 tokens
    ğŸ“ Parsing 30 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'generate_transaction_explanation', '(', 'tx', ':', 'any', ')', '{', 'print', '(', 'ğŸ¤– Generating AI explanation for transaction: ', '+', 'tx', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', ')', 'await', 'sleep', '(', '0.1', ')', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ¤– Generating AI explanation for transaction: ', '+', 'tx', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', ')', 'await', 'sleep', '(', '0.1', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 361
  âœ… Parsed: BlockStatement at line 364
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 364
  âœ… Parsed: BlockStatement at line 366
  ğŸ”§ Populating empty BlockStatement from 26 tokens
    ğŸ“ Parsing 26 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_seb_defi_block_data', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'social_capital_min', ':', '0.0', ',', 'social_capital_max', ':', '1.0', ',', 'defi_activity', ':', '0.5', '}', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'social_capital_min', ':', '0.0', ',', 'social_capital_max', ':', '1.0', ',', 'defi_activity', ':', '0.5']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.0']
  ğŸ—ºï¸ [Map] Added pair: social_capital_min -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['1.0']
  ğŸ—ºï¸ [Map] Added pair: social_capital_max -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['0.5']
  ğŸ—ºï¸ [Map] Added pair: defi_activity -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 366
  âœ… Parsed: BlockStatement at line 372
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 372
  âœ… Parsed: BlockStatement at line 374
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'is_bounceback_protected', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'tx', '.', 'bounce_back_protection', '?', '?', 'false', '}']
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['tx', '.', 'bounce_back_protection', '?', '?', 'false']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 374
  âœ… Parsed: BlockStatement at line 376
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 376
  âœ… Parsed: BlockStatement at line 378
  ğŸ”§ Populating empty BlockStatement from 15 tokens
    ğŸ“ Parsing 15 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_cached_explanation', '(', 'tx_hash', ':', 'string', ')', '-', '>', 'string', '?', '{', 'return', 'null', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['null']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 378
  âœ… Parsed: BlockStatement at line 380
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 380
  âœ… Parsed: BlockStatement at line 382
  ğŸ”§ Populating empty BlockStatement from 29 tokens
    ğŸ“ Parsing 29 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'start_http_server', '(', ')', '{', 'print', '(', 'ğŸŒ HTTP Server listening on port ', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'while', 'this', '.', 'is_running', '{', 'await', 'sleep', '(', '1', ')', '}', '}']
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸŒ HTTP Server listening on port ', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'while', 'this', '.', 'is_running']
  ğŸ” Parsing expression from tokens: ['{', 'await', 'sleep', '(', '1', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 382
  âœ… Parsed: BlockStatement at line 389
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 389
  âœ… Parsed: BlockStatement at line 391
  ğŸ”§ Populating empty BlockStatement from 75 tokens
    ğŸ“ Parsing 75 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'collect_metrics', '(', ')', '{', 'while', 'this', '.', 'is_running', '{', 'let', 'stats', '=', '{', 'total_requests', ':', 'this', '.', 'request_count', ',', 'active_methods', ':', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ',', 'method_stats', ':', 'this', '.', 'method_stats', ',', 'uptime', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')', '}', 'await', 'sleep', '(', '60', ')', 'print', '(', 'ğŸ“Š RPC Metrics: ', '+', 'string', '(', 'stats', ')', ')', '}', '}']
    ğŸ“ Parsing 68 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_running', '{', 'let', 'stats', '=', '{', 'total_requests', ':', 'this', '.', 'request_count', ',', 'active_methods', ':', 'this', '.', 'methods', '.', 'keys', '(', ')', '.', 'count', '(', ')', ',', 'method_stats', ':', 'this', '.', 'method_stats', ',', 'uptime', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')', '}', 'await', 'sleep', '(', '60', ')', 'print', '(', 'ğŸ“Š RPC Metrics: ', '+', 'string', '(', 'stats', ')', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 391
  âœ… Parsed: BlockStatement at line 404
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 404
  âœ… Parsed: BlockStatement at line 406
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_start_time', '(', ')', '-', '>', 'integer', '{', 'return', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 406
  âœ… Parsed: BlockStatement at line 408
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 408
  âœ… Parsed: BlockStatement at line 410
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'sleep', '(', 'seconds', ':', 'float', ')', '{', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 410
  âœ… Parsed: BlockStatement at line 412
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 412
  âœ… Parsed: BlockStatement at line 413
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 413
  âœ… Parsed: BlockStatement at line 416
  ğŸ”§ Populating empty BlockStatement from 179 tokens
    ğŸ“ Parsing 179 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_enhanced_rpc', '(', ')', '{', 'print', '(', 'ğŸ”Œ Testing Enhanced JSON-RPC Server...', ')', 'let', 'mock_node', '=', '{', 'network', ':', '{', 'is_listening', ':', 'true', ',', 'get_connected_peers_count', ':', 'action', '(', ')', '{', 'return', '5', '}', '}', ',', 'blockchain', ':', '{', 'get_latest_block_index', ':', 'action', '(', ')', '{', 'return', '100', '}', ',', 'get_block', ':', 'action', '(', 'n', ')', '{', 'return', '{', 'index', ':', 'n', ',', 'transactions', ':', '[', ']', '}', '}', '}', ',', 'get_balance_with_social_capital', ':', 'action', '(', 'addr', ')', '{', 'return', '{', 'amount', ':', '1000', '}', '}', '}', 'let', 'rpc_server', '=', 'JSONRPCServer', '(', 'node', ':', 'mock_node', ',', 'port', ':', '8545', ')', 'if', 'rpc_server', '.', 'start', '(', ')', '{', 'print', '(', 'âœ… RPC Server started successfully', ')', 'let', 'version', '=', 'rpc_server', '.', 'methods', '[', 'web3_clientVersion', ']', '(', '[', ']', ')', 'print', '(', 'Client Version: ', '+', 'version', ')', 'let', 'block_number', '=', 'rpc_server', '.', 'methods', '[', 'eth_blockNumber', ']', '(', '[', ']', ')', 'print', '(', 'Current Block: ', '+', 'block_number', ')', 'let', 'error_request', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'invalid_method', ',', 'id', ':', '1', '}', 'let', 'error_response', '=', 'rpc_server', '.', 'handle_request', '(', 'error_request', ')', 'print', '(', 'Error Response: ', '+', 'string', '(', 'error_response', ')', ')', '}', '}']
    ğŸ“ Parsing 172 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”Œ Testing Enhanced JSON-RPC Server...', ')', 'let', 'mock_node', '=']
  ğŸ” Parsing expression from tokens: ['{', 'network', ':', '{', 'is_listening', ':', 'true', ',', 'get_connected_peers_count', ':', 'action', '(', ')', '{', 'return', '5', '}', '}', ',', 'blockchain', ':', '{', 'get_latest_block_index', ':', 'action', '(', ')', '{', 'return', '100', '}', ',', 'get_block', ':', 'action', '(', 'n', ')', '{', 'return', '{', 'index', ':', 'n', ',', 'transactions', ':', '[', ']', '}', '}', '}', ',', 'get_balance_with_social_capital', ':', 'action', '(', 'addr', ')', '{', 'return', '{', 'amount', ':', '1000', '}', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['{', 'is_listening', ':', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: is_listening -> Boolean
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: network -> MapLiteral
  ğŸ” Parsing expression from tokens: ['action', '(', ')', '{', 'return', '5']
  ğŸ—ºï¸ [Map] Added pair: get_connected_peers_count -> CallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    ğŸ“ Found let statement: ['let', 'rpc_server', '=', 'JSONRPCServer', '(', 'node', ':', 'mock_node', ',', 'port', ':', '8545', ')', 'if', 'rpc_server', '.', 'start', '(', ')']
  ğŸ” Parsing expression from tokens: ['JSONRPCServer', '(', 'node', ':', 'mock_node', ',', 'port', ':', '8545', ')', 'if', 'rpc_server', '.', 'start', '(', ')']
  ğŸ” Parsing expression from tokens: ['node', ':', 'mock_node']
  ğŸ” Parsing expression from tokens: ['port', ':', '8545']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âœ… RPC Server started successfully', ')', 'let', 'version', '=', 'rpc_server', '.', 'methods', '[', 'web3_clientVersion', ']', '(', '[', ']', ')', 'print', '(', 'Client Version: ', '+', 'version', ')', 'let', 'block_number', '=', 'rpc_server', '.', 'methods', '[', 'eth_blockNumber', ']', '(', '[', ']', ')', 'print', '(', 'Current Block: ', '+', 'block_number', ')', 'let', 'error_request', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'invalid_method', ',', 'id', ':', '1', '}', 'let', 'error_response', '=', 'rpc_server', '.', 'handle_request', '(', 'error_request', ')', 'print', '(', 'Error Response: ', '+', 'string', '(', 'error_response', ')', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['invalid_method']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: id -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 416
  âœ… Parsed: BlockStatement at line 446
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 446
  âœ… Parsed: BlockStatement at line 448
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'JSONRPCServer', ',', 'JSONRPCProtocol', ',', 'test_enhanced_rpc', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 448
  âœ… Parsed: BlockStatement at line 452
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 452
âœ… Parsing Complete: 59 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/use_statement @ 8-14: ['use', 'math', 'as', 'math', 'protocol', 'WebSocketRPCProtocol', '{']
  [3] statement/ACTION @ 15-22: ['action', 'start', '(', ')', '-', '>', 'boolean']
  [4] statement/ACTION @ 22-32: ['action', 'broadcast_new_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean']
  [5] statement/ACTION @ 32-42: ['action', 'broadcast_new_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean']
  [6] statement/ACTION @ 42-55: ['action', 'get_connection_stats', '(', ')', '-', '>', 'map', '}', 'contract', 'WebSocketRPCServer', 'implements', 'WebSocketRPCProtocol', '{']
  [7] statement/PERSISTENT @ 55-60: ['persistent', 'storage', 'port', ':', 'integer']
  [8] statement/PERSISTENT @ 60-65: ['persistent', 'storage', 'rpc_server', ':', 'any']
  [9] statement/PERSISTENT @ 65-70: ['persistent', 'storage', 'connections', ':', 'map']
  [10] statement/PERSISTENT @ 70-75: ['persistent', 'storage', 'subscriptions', ':', 'map']
  [11] statement/PERSISTENT @ 75-80: ['persistent', 'storage', 'message_queue', ':', 'list']
  [12] statement/PERSISTENT @ 80-87: ['persistent', 'storage', 'is_running', ':', 'boolean', '=', 'false']
  [13] statement/entity_statement @ 87-116: ['entity', 'WebSocketConnection', '{', 'id', ':', 'string', 'connected_at', ':', 'integer', 'last_active', ':', 'integer', 'subscription_count', ':', 'integer', '=', '0', 'message_count', ':', 'integer', '=', '0', 'remote_address', ':', 'string', 'user_agent', ':', 'string', '?', '}']
  [14] statement/ACTION @ 117-193: ['action', 'init', '(', 'rpc_server', ':', 'any', ',', 'port', ':', 'integer', '=', '8546', ')', '{', 'this', '.', 'rpc_server', '=', 'rpc_server', 'this', '.', 'port', '=', 'port', 'this', '.', 'connections', '=', '{', '}', 'this', '.', 'subscriptions', '=', '{', 'newHeads', ':', '{', '}', ',', 'logs', ':', '{', '}', ',', 'newPendingTransactions', ':', '{', '}', ',', 'socialCapitalUpdates', ':', '{', '}', ',', 'defiEvents', ':', '{', '}', ',', 'aiAlerts', ':', '{', '}', ',', 'quantumSecurity', ':', '{', '}', '}', 'this', '.', 'message_queue', '=', '[', ']', '}']
  [15] statement/} @ 193-193: ['}']
  [16] statement/ACTION @ 194-258: ['action', 'start', '(', ')', '-', '>', 'boolean', '{', 'this', '.', 'is_running', '=', 'true', 'print', '(', 'ğŸ”Œ WebSocket RPC starting on ws://localhost:', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'print', '(', 'ğŸ“¡ Available subscriptions: ', '+', 'string', '(', 'this', '.', 'subscriptions', '.', 'keys', '(', ')', '.', 'join', '(', ', ', ')', ')', ')', 'spawn', 'this', '.', 'start_websocket_server', '(', ')', 'spawn', 'this', '.', 'process_message_queue', '(', ')', 'spawn', 'this', '.', 'cleanup_inactive_connections', '(', ')', 'return', 'true', '}']
  [17] statement/} @ 258-258: ['}']
  [18] statement/ACTION @ 259-385: ['action', 'handle_connection', '(', 'connection_id', ':', 'string', ',', 'remote_address', ':', 'string', ',', 'user_agent', ':', 'string', '?', ')', '{', 'let', 'connection', '=', 'WebSocketConnection', '{', 'id', ':', 'connection_id', ',', 'remote_address', ':', 'remote_address', ',', 'user_agent', ':', 'user_agent', ',', 'connected_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'last_active', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'this', '.', 'connections', '[', 'connection_id', ']', '=', 'connection', 'print', '(', 'ğŸ”— WebSocket connected: ', '+', 'connection_id', '+', ' from ', '+', 'remote_address', ')', 'let', 'welcome_msg', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_welcome', ',', 'params', ':', '{', 'connection_id', ':', 'connection_id', ',', 'available_subscriptions', ':', 'this', '.', 'subscriptions', '.', 'keys', '(', ')', ',', 'server_version', ':', 'ZiverChain/3.0.0', ',', 'quantum_secure', ':', 'true', ',', 'ai_enhanced', ':', 'true', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'welcome_msg', ')', '}']
  [19] statement/} @ 385-385: ['}']
  [20] statement/ACTION @ 386-532: ['action', 'handle_message', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'if', 'not', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'print', '(', 'âŒ Unknown connection: ', '+', 'connection_id', ')', 'return', '}', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'message_count', '+', '=', '1', 'let', 'method', '=', 'message', '.', 'get', '(', 'method', ',', ')', 'if', 'method', '==', 'eth_subscribe', '{', 'this', '.', 'handle_subscription', '(', 'connection_id', ',', 'message', ')', '}', 'else', 'if', 'method', '==', 'eth_unsubscribe', '{', 'this', '.', 'handle_unsubscription', '(', 'connection_id', ',', 'message', ')', '}', 'else', 'if', 'method', '==', 'ziver_subscribe', '{', 'this', '.', 'handle_ziver_subscription', '(', 'connection_id', ',', 'message', ')', '}', 'else', '{', 'this', '.', 'message_queue', '.', 'push', '(', '{', 'connection_id', ':', 'connection_id', ',', 'message', ':', 'message', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', ')', '}', '}']
  [21] statement/} @ 532-532: ['}']
  [22] statement/ACTION @ 533-700: ['action', 'handle_subscription', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'let', 'subscription_type', '=', 'message', '.', 'get', '(', 'params', ',', '[', ']', ')', '[', '0', ']', 'let', 'subscription_id', '=', 'sub_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'if', 'this', '.', 'subscriptions', '.', 'has', '(', 'subscription_type', ')', '{', 'this', '.', 'subscriptions', '[', 'subscription_type', ']', '[', 'connection_id', ']', '=', 'subscription_id', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'subscription_count', '+', '=', '1', 'let', 'response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', 'result', ':', 'subscription_id', ',', 'ziver_metadata', ':', '{', 'subscription_type', ':', 'subscription_type', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'response', ')', 'print', '(', 'ğŸ“¡ Subscription created: ', '+', 'subscription_type', '+', ' for ', '+', 'connection_id', ')', '}', 'else', '{', 'this', '.', 'send_error', '(', 'connection_id', ',', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', '-', '32602', ',', 'Invalid subscription type: ', '+', 'subscription_type', ')', '}', '}']
  [23] statement/} @ 700-700: ['}']
  [24] statement/ACTION @ 701-908: ['action', 'handle_ziver_subscription', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'let', 'subscription_type', '=', 'message', '.', 'get', '(', 'params', ',', '[', ']', ')', '[', '0', ']', 'let', 'filters', '=', 'message', '.', 'get', '(', 'params', ',', '[', '{', '}', ']', ')', '[', '1', ']', '?', '?', '{', '}', 'let', 'ziver_subscriptions', '=', '[', 'socialCapitalUpdates', ',', 'defiEvents', ',', 'aiAlerts', ',', 'quantumSecurity', ',', 'bounceBackNotifications', ',', 'crossChainUpdates', ']', 'if', 'ziver_subscriptions', '.', 'contains', '(', 'subscription_type', ')', '{', 'let', 'subscription_id', '=', 'ziv_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'this', '.', 'subscriptions', '[', 'subscription_type', ']', '[', 'connection_id', ']', '=', '{', 'id', ':', 'subscription_id', ',', 'filters', ':', 'filters', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', 'result', ':', 'subscription_id', ',', 'ziver_features', ':', '{', 'ai_explanations', ':', 'true', ',', 'quantum_secure', ':', 'true', ',', 'real_time_updates', ':', 'true', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'response', ')', 'print', '(', 'ğŸ¯ Ziver subscription: ', '+', 'subscription_type', '+', ' for ', '+', 'connection_id', ')', '}', 'else', '{', 'this', '.', 'send_error', '(', 'connection_id', ',', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', '-', '32602', ',', 'Unknown Ziver subscription: ', '+', 'subscription_type', ')', '}', '}']
  [25] statement/} @ 908-908: ['}']
  [26] statement/ACTION @ 909-1020: ['action', 'broadcast_new_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean', '{', 'let', 'subscribers', '=', 'this', '.', 'subscriptions', '[', 'newHeads', ']', 'if', 'subscribers', '.', 'is_empty', '(', ')', '{', 'return', 'false', '}', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscription', ',', 'params', ':', '{', 'subscription', ':', 'newHeads', ',', 'result', ':', 'this', '.', 'format_block_for_websocket', '(', 'block', ')', '}', '}', 'let', 'success_count', '=', '0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers', '{', 'if', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'notification', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'print', '(', 'ğŸ“¢ Broadcast block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'success_count', ')', '+', ' subscribers', ')', 'return', 'success_count', '>', '0', '}']
  [27] statement/} @ 1020-1020: ['}']
  [28] statement/ACTION @ 1021-1138: ['action', 'broadcast_new_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'let', 'subscribers', '=', 'this', '.', 'subscriptions', '[', 'newPendingTransactions', ']', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscription', ',', 'params', ':', '{', 'subscription', ':', 'newPendingTransactions', ',', 'result', ':', 'tx', '.', 'hash', ',', 'ziver_enhanced', ':', '{', 'bounce_back_protected', ':', 'tx', '.', 'bounce_back_protection', '?', '?', 'false', ',', 'social_capital_impact', ':', 'this', '.', 'calculate_social_capital_impact', '(', 'tx', ')', ',', 'ai_risk_assessment', ':', 'this', '.', 'get_ai_risk_assessment', '(', 'tx', ')', '}', '}', '}', 'let', 'success_count', '=', '0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers', '{', 'if', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'notification', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'this', '.', 'broadcast_to_ziver_subscribers', '(', 'defiEvents', ',', 'tx', ')', 'return', 'success_count', '>', '0', '}']
  [29] statement/} @ 1138-1138: ['}']
  [30] statement/ACTION @ 1139-1223: ['action', 'broadcast_social_capital_update', '(', 'user', ':', 'string', ',', 'new_score', ':', 'float', ')', '{', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_subscription', ',', 'params', ':', '{', 'subscription', ':', 'socialCapitalUpdates', ',', 'result', ':', '{', 'user', ':', 'user', ',', 'new_score', ':', 'new_score', ',', 'tier', ':', 'this', '.', 'calculate_tier', '(', 'new_score', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'ai_explanation', ':', 'this', '.', 'generate_score_explanation', '(', 'user', ',', 'new_score', ')', '}', '}', '}', 'this', '.', 'broadcast_to_ziver_subscribers', '(', 'socialCapitalUpdates', ',', 'notification', ')', '}']
  [31] statement/} @ 1223-1223: ['}']
  [32] statement/ACTION @ 1224-1329: ['action', 'broadcast_ai_alert', '(', 'alert_type', ':', 'string', ',', 'data', ':', 'map', ')', '{', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_subscription', ',', 'params', ':', '{', 'subscription', ':', 'aiAlerts', ',', 'result', ':', '{', 'alert_type', ':', 'alert_type', ',', 'severity', ':', 'data', '.', 'get', '(', 'severity', ',', 'info', ')', ',', 'message', ':', 'data', '.', 'get', '(', 'message', ',', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'suggested_actions', ':', 'data', '.', 'get', '(', 'actions', ',', '[', ']', ')', ',', 'confidence', ':', 'data', '.', 'get', '(', 'confidence', ',', '0.0', ')', '}', '}', '}', 'this', '.', 'broadcast_to_ziver_subscribers', '(', 'aiAlerts', ',', 'notification', ')', '}']
  [33] statement/} @ 1329-1329: ['}']
  [34] statement/ACTION @ 1330-1386: ['action', 'broadcast_to_ziver_subscribers', '(', 'subscription_type', ':', 'string', ',', 'data', ':', 'any', ')', '{', 'let', 'subscribers', '=', 'this', '.', 'subscriptions', '.', 'get', '(', 'subscription_type', ',', '{', '}', ')', 'for', 'each', 'connection_id', ',', 'subscription_data', 'in', 'subscribers', '{', 'if', 'this', '.', 'passes_filters', '(', 'subscription_data', '.', 'filters', ',', 'data', ')', '{', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'data', ')', '}', '}', '}']
  [35] statement/} @ 1386-1386: ['}']
  [36] statement/ACTION @ 1387-1450: ['action', 'format_block_for_websocket', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'let', 'formatted', '=', 'this', '.', 'rpc_server', '.', 'format_block', '(', 'block', ',', 'false', ')', 'formatted', '[', 'ziver_enhanced', ']', '=', '{', 'seb_defi_activity', ':', 'this', '.', 'calculate_defi_activity', '(', 'block', ')', ',', 'ai_consensus_data', ':', 'this', '.', 'get_ai_consensus_data', '(', 'block', ')', ',', 'quantum_signature_verified', ':', 'true', ',', 'social_capital_distribution', ':', 'this', '.', 'get_social_capital_stats', '(', 'block', ')', '}', 'return', 'formatted', '}']
  [37] statement/} @ 1450-1450: ['}']
  [38] statement/ACTION @ 1451-1551: ['action', 'send_to_connection', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '-', '>', 'boolean', '{', 'if', 'not', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'return', 'false', '}', 'try', '{', 'print', '(', 'ğŸ“¤ WS â†’ ', '+', 'connection_id', '.', 'slice', '(', '0', ',', '8', ')', '+', ': ', '+', 'string', '(', 'message', '.', 'get', '(', 'method', ',', 'unknown', ')', ')', ')', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'true', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send to ', '+', 'connection_id', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'return', 'false', '}', '}']
  [39] statement/} @ 1551-1551: ['}']
  [40] statement/ACTION @ 1552-1604: ['action', 'send_error', '(', 'connection_id', ':', 'string', ',', 'request_id', ':', 'integer', ',', 'code', ':', 'integer', ',', 'message', ':', 'string', ')', '{', 'let', 'error_response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'request_id', ',', 'error', ':', '{', 'code', ':', 'code', ',', 'message', ':', 'message', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'error_response', ')', '}']
  [41] statement/} @ 1604-1604: ['}']
  [42] statement/ACTION @ 1605-1666: ['action', 'async', 'process_message_queue', '(', ')', '{', 'while', 'this', '.', 'is_running', '{', 'if', 'not', 'this', '.', 'message_queue', '.', 'is_empty', '(', ')', '{', 'let', 'item', '=', 'this', '.', 'message_queue', '.', 'shift', '(', ')', 'let', 'response', '=', 'this', '.', 'rpc_server', '.', 'handle_request', '(', 'item', '.', 'message', ')', 'this', '.', 'send_to_connection', '(', 'item', '.', 'connection_id', ',', 'response', ')', '}', 'await', 'sleep', '(', '0.01', ')', '}', '}']
  [43] statement/} @ 1666-1666: ['}']
  [44] statement/ACTION @ 1667-1743: ['action', 'async', 'cleanup_inactive_connections', '(', ')', '{', 'while', 'this', '.', 'is_running', '{', 'let', 'current_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'inactive_connections', '=', '[', ']', 'for', 'each', 'connection_id', ',', 'connection', 'in', 'this', '.', 'connections', '{', 'if', 'current_time', '-', 'connection', '.', 'last_active', '>', '300', '{', 'inactive_connections', '.', 'push', '(', 'connection_id', ')', '}', '}', 'for', 'each', 'connection_id', 'in', 'inactive_connections', '{', 'this', '.', 'handle_connection_close', '(', 'connection_id', ',', 'inactive', ')', '}', 'await', 'sleep', '(', '60', ')', '}', '}']
  [45] statement/} @ 1743-1743: ['}']
  [46] statement/ACTION @ 1744-1813: ['action', 'handle_connection_close', '(', 'connection_id', ':', 'string', ',', 'reason', ':', 'string', ')', '{', 'print', '(', 'ğŸ”Œ WebSocket disconnected: ', '+', 'connection_id', '+', ' (', '+', 'reason', '+', ')', ')', 'for', 'each', 'subscription_type', ',', 'subscribers', 'in', 'this', '.', 'subscriptions', '{', 'if', 'subscribers', '.', 'has', '(', 'connection_id', ')', '{', 'subscribers', '.', 'delete', '(', 'connection_id', ')', '}', '}', 'if', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'this', '.', 'connections', '.', 'delete', '(', 'connection_id', ')', '}', '}']
  [47] statement/} @ 1813-1813: ['}']
  [48] statement/ACTION @ 1814-1908: ['action', 'get_connection_stats', '(', ')', '-', '>', 'map', '{', 'let', 'total_connections', '=', 'len', '(', 'this', '.', 'connections', ')', 'let', 'total_subscriptions', '=', '0', 'let', 'active_subscriptions', '=', '{', '}', 'for', 'each', 'subscription_type', ',', 'subscribers', 'in', 'this', '.', 'subscriptions', '{', 'active_subscriptions', '[', 'subscription_type', ']', '=', 'len', '(', 'subscribers', ')', 'total_subscriptions', '+', '=', 'len', '(', 'subscribers', ')', '}', 'return', '{', 'total_connections', ':', 'total_connections', ',', 'total_subscriptions', ':', 'total_subscriptions', ',', 'active_subscriptions', ':', 'active_subscriptions', ',', 'message_queue_size', ':', 'len', '(', 'this', '.', 'message_queue', ')', ',', 'uptime', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')', '}', '}']
  [49] statement/} @ 1908-1908: ['}']
  [50] statement/ACTION @ 1909-1922: ['action', 'calculate_social_capital_impact', '(', 'tx', ':', 'any', ')', '-', '>', 'float', '{', 'return', '0.1', '}']
  [51] statement/} @ 1922-1922: ['}']
  [52] statement/ACTION @ 1923-1944: ['action', 'get_ai_risk_assessment', '(', 'tx', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.8', '}', '}']
  [53] statement/} @ 1944-1944: ['}']
  [54] statement/ACTION @ 1945-1986: ['action', 'calculate_tier', '(', 'score', ':', 'float', ')', '-', '>', 'string', '{', 'if', 'score', '>=', '0.9', ':', 'return', 'DIAMOND', 'if', 'score', '>=', '0.75', ':', 'return', 'PLATINUM', 'if', 'score', '>=', '0.6', ':', 'return', 'GOLD', 'if', 'score', '>=', '0.4', ':', 'return', 'SILVER', 'return', 'BRONZE', '}']
  [55] statement/} @ 1986-1986: ['}']
  [56] statement/ACTION @ 1987-2004: ['action', 'generate_score_explanation', '(', 'user', ':', 'string', ',', 'score', ':', 'float', ')', '-', '>', 'string', '{', 'return', 'AI-generated explanation for score change', '}']
  [57] statement/} @ 2004-2004: ['}']
  [58] statement/ACTION @ 2005-2018: ['action', 'calculate_defi_activity', '(', 'block', ':', 'any', ')', '-', '>', 'float', '{', 'return', '0.5', '}']
  [59] statement/} @ 2018-2018: ['}']
  [60] statement/ACTION @ 2019-2036: ['action', 'get_ai_consensus_data', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'ai_trust_score', ':', '0.95', '}', '}']
  [61] statement/} @ 2036-2036: ['}']
  [62] statement/ACTION @ 2037-2062: ['action', 'get_social_capital_stats', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'average', ':', '0.6', ',', 'min', ':', '0.1', ',', 'max', ':', '0.95', '}', '}']
  [63] statement/} @ 2062-2062: ['}']
  [64] statement/ACTION @ 2063-2080: ['action', 'passes_filters', '(', 'filters', ':', 'map', ',', 'data', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'true', '}']
  [65] statement/} @ 2080-2080: ['}']
  [66] statement/ACTION @ 2081-2115: ['action', 'handle_unsubscription', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'let', 'subscription_id', '=', 'message', '.', 'get', '(', 'params', ',', '[', ']', ')', '[', '0', ']', 'print', '(', 'ğŸ“¡ Unsubscribing: ', '+', 'subscription_id', ')', '}']
  [67] statement/} @ 2115-2115: ['}']
  [68] statement/ACTION @ 2116-2144: ['action', 'async', 'start_websocket_server', '(', ')', '{', 'print', '(', 'ğŸŒ WebSocket Server listening on port ', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'while', 'this', '.', 'is_running', '{', 'await', 'sleep', '(', '1', ')', '}', '}']
  [69] statement/} @ 2144-2144: ['}']
  [70] statement/ACTION @ 2145-2163: ['action', 'get_start_time', '(', ')', '-', '>', 'integer', '{', 'return', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}']
  [71] statement/} @ 2163-2163: ['}']
  [72] statement/ACTION @ 2164-2173: ['action', 'async', 'sleep', '(', 'seconds', ':', 'float', ')', '{', '}']
  [73] statement/} @ 2173-2173: ['}']
  [74] statement/} @ 2174-2174: ['}']
  [75] statement/ACTION @ 2175-2288: ['action', 'async', 'test_enhanced_websocket', '(', ')', '{', 'print', '(', 'ğŸ”Œ Testing Enhanced WebSocket RPC...', ')', 'let', 'mock_rpc', '=', '{', 'format_block', ':', 'action', '(', 'block', ',', 'full', ')', '{', 'return', 'block', '}', '}', 'let', 'ws_server', '=', 'WebSocketRPCServer', '(', 'rpc_server', ':', 'mock_rpc', ',', 'port', ':', '8546', ')', 'if', 'ws_server', '.', 'start', '(', ')', '{', 'print', '(', 'âœ… WebSocket server started', ')', 'let', 'test_connection', '=', 'conn_test_123', 'ws_server', '.', 'handle_connection', '(', 'test_connection', ',', '192.168.1.100', ',', 'ZiverApp/1.0', ')', 'let', 'sub_message', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscribe', ',', 'params', ':', '[', 'newHeads', ']', ',', 'id', ':', '1', '}', 'ws_server', '.', 'handle_message', '(', 'test_connection', ',', 'sub_message', ')', 'let', 'stats', '=', 'ws_server', '.', 'get_connection_stats', '(', ')', 'print', '(', 'WebSocket Stats: ', '+', 'string', '(', 'stats', ')', ')', '}', '}']
  [76] statement/} @ 2288-2288: ['}']
  [77] statement/EXPORT @ 2289-2296: ['export', '{', 'WebSocketRPCServer', ',', 'WebSocketRPCProtocol', ',', 'test_enhanced_websocket', '}']
  [78] statement/} @ 2296-2297: ['}']
ğŸ”§ Parsing 79 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math', 'protocol', 'WebSocketRPCProtocol', '{']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math', 'protocol', 'WebSocketRPCProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found action statement: ['action', 'start', '(', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_new_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_new_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
  âœ… Parsed: BlockStatement at line 16
  ğŸ”§ Populating empty BlockStatement from 13 tokens
    ğŸ“ Parsing 13 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_connection_stats', '(', ')', '-', '>', 'map', '}', 'contract', 'WebSocketRPCServer', 'implements', 'WebSocketRPCProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 16
  âœ… Parsed: BlockStatement at line 20
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['port', ':', 'integer']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 20
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['rpc_server', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
  âœ… Parsed: BlockStatement at line 22
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['connections', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 22
  âœ… Parsed: BlockStatement at line 23
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['subscriptions', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 23
  âœ… Parsed: BlockStatement at line 24
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['message_queue', ':', 'list']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 24
  âœ… Parsed: BlockStatement at line 25
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['is_running', ':', 'boolean', '=', 'false']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 25
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: WebSocketConnection
  ğŸ“ Found property name: id
  ğŸ“ Property: id: string
  ğŸ“ Found property name: connected_at
  ğŸ“ Property: connected_at: integer
  ğŸ“ Found property name: last_active
  ğŸ“ Property: last_active: integer
  ğŸ“ Found property name: subscription_count
  ğŸ“ Property: subscription_count: integer
  ğŸ“ Found property name: message_count
  ğŸ“ Property: message_count: integer
  ğŸ“ Found property name: remote_address
  ğŸ“ Property: remote_address: string
  ğŸ“ Found property name: user_agent
  ğŸ“ Property: user_agent: string
  ğŸ“ Found property name: ?
  âœ… Parsed: EntityStatement at line 27
  âœ… Parsed: EntityStatement at line 27
  âœ… Parsed: BlockStatement at line 37
  ğŸ”§ Populating empty BlockStatement from 77 tokens
    ğŸ“ Parsing 77 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', 'rpc_server', ':', 'any', ',', 'port', ':', 'integer', '=', '8546', ')', '{', 'this', '.', 'rpc_server', '=', 'rpc_server', 'this', '.', 'port', '=', 'port', 'this', '.', 'connections', '=', '{', '}', 'this', '.', 'subscriptions', '=', '{', 'newHeads', ':', '{', '}', ',', 'logs', ':', '{', '}', ',', 'newPendingTransactions', ':', '{', '}', ',', 'socialCapitalUpdates', ':', '{', '}', ',', 'defiEvents', ':', '{', '}', ',', 'aiAlerts', ':', '{', '}', ',', 'quantumSecurity', ':', '{', '}', '}', 'this', '.', 'message_queue', '=', '[', ']', '}']
    ğŸ“ Parsing 62 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'rpc_server', '=', 'rpc_server', 'this', '.', 'port', '=', 'port', 'this', '.', 'connections', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'subscriptions', '=', '{', 'newHeads', ':', '{', '}', ',', 'logs', ':', '{', '}', ',', 'newPendingTransactions', ':', '{', '}', ',', 'socialCapitalUpdates', ':', '{', '}', ',', 'defiEvents', ':', '{', '}', ',', 'aiAlerts', ':', '{', '}', ',', 'quantumSecurity', ':', '{', '}']
  ğŸ” Parsing expression from tokens: ['this', '.', 'message_queue', '=', '[', ']']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 37
  âœ… Parsed: BlockStatement at line 51
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 51
  âœ… Parsed: BlockStatement at line 53
  ğŸ”§ Populating empty BlockStatement from 65 tokens
    ğŸ“ Parsing 65 tokens into statements
    ğŸ“ Found action statement: ['action', 'start', '(', ')', '-', '>', 'boolean', '{', 'this', '.', 'is_running', '=', 'true', 'print', '(', 'ğŸ”Œ WebSocket RPC starting on ws://localhost:', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'print', '(', 'ğŸ“¡ Available subscriptions: ', '+', 'string', '(', 'this', '.', 'subscriptions', '.', 'keys', '(', ')', '.', 'join', '(', ', ', ')', ')', ')', 'spawn', 'this', '.', 'start_websocket_server', '(', ')', 'spawn', 'this', '.', 'process_message_queue', '(', ')', 'spawn', 'this', '.', 'cleanup_inactive_connections', '(', ')', 'return', 'true', '}']
    ğŸ“ Parsing 56 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_running', '=', 'true']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”Œ WebSocket RPC starting on ws://localhost:', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'print', '(', 'ğŸ“¡ Available subscriptions: ', '+', 'string', '(', 'this', '.', 'subscriptions', '.', 'keys', '(', ')', '.', 'join', '(', ', ', ')', ')', ')', 'spawn', 'this', '.', 'start_websocket_server', '(', ')', 'spawn', 'this', '.', 'process_message_queue', '(', ')', 'spawn', 'this', '.', 'cleanup_inactive_connections', '(', ')', 'return', 'true']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 53
  âœ… Parsed: BlockStatement at line 65
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 65
  âœ… Parsed: BlockStatement at line 67
  ğŸ”§ Populating empty BlockStatement from 127 tokens
    ğŸ“ Parsing 127 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_connection', '(', 'connection_id', ':', 'string', ',', 'remote_address', ':', 'string', ',', 'user_agent', ':', 'string', '?', ')', '{', 'let', 'connection', '=', 'WebSocketConnection', '{', 'id', ':', 'connection_id', ',', 'remote_address', ':', 'remote_address', ',', 'user_agent', ':', 'user_agent', ',', 'connected_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'last_active', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'this', '.', 'connections', '[', 'connection_id', ']', '=', 'connection', 'print', '(', 'ğŸ”— WebSocket connected: ', '+', 'connection_id', '+', ' from ', '+', 'remote_address', ')', 'let', 'welcome_msg', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_welcome', ',', 'params', ':', '{', 'connection_id', ':', 'connection_id', ',', 'available_subscriptions', ':', 'this', '.', 'subscriptions', '.', 'keys', '(', ')', ',', 'server_version', ':', 'ZiverChain/3.0.0', ',', 'quantum_secure', ':', 'true', ',', 'ai_enhanced', ':', 'true', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'welcome_msg', ')', '}']
    ğŸ“ Parsing 109 tokens into statements
    ğŸ“ Found let statement: ['let', 'connection', '=', 'WebSocketConnection']
  ğŸ” Parsing expression from tokens: ['WebSocketConnection']
  ğŸ” Parsing expression from tokens: ['{', 'id', ':', 'connection_id', ',', 'remote_address', ':', 'remote_address', ',', 'user_agent', ':', 'user_agent', ',', 'connected_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'last_active', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['connection_id']
  ğŸ—ºï¸ [Map] Added pair: id -> Identifier
  ğŸ” Parsing expression from tokens: ['remote_address']
  ğŸ—ºï¸ [Map] Added pair: remote_address -> Identifier
  ğŸ” Parsing expression from tokens: ['user_agent']
  ğŸ—ºï¸ [Map] Added pair: user_agent -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: connected_at -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_active -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'connections', '[', 'connection_id', ']', '=', 'connection']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”— WebSocket connected: ', '+', 'connection_id', '+', ' from ', '+', 'remote_address', ')', 'let', 'welcome_msg', '=']
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_welcome', ',', 'params', ':', '{', 'connection_id', ':', 'connection_id', ',', 'available_subscriptions', ':', 'this', '.', 'subscriptions', '.', 'keys', '(', ')', ',', 'server_version', ':', 'ZiverChain/3.0.0', ',', 'quantum_secure', ':', 'true', ',', 'ai_enhanced', ':', 'true', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ziver_welcome']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['{', 'connection_id', ':', 'connection_id']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['connection_id']
  ğŸ—ºï¸ [Map] Added pair: connection_id -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: params -> MapLiteral
  ğŸ” Parsing expression from tokens: ['this', '.', 'subscriptions', '.', 'keys', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: available_subscriptions -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['ZiverChain/3.0.0']
  ğŸ—ºï¸ [Map] Added pair: server_version -> StringLiteral
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: quantum_secure -> Boolean
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: ai_enhanced -> Boolean
  ğŸ—ºï¸ [Map] Successfully parsed map with 7 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'send_to_connection', '(', 'connection_id', ',', 'welcome_msg', ')']
  ğŸ” Parsing expression from tokens: ['connection_id']
  ğŸ” Parsing expression from tokens: ['welcome_msg']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 67
  âœ… Parsed: BlockStatement at line 94
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 94
  âœ… Parsed: BlockStatement at line 96
  ğŸ”§ Populating empty BlockStatement from 147 tokens
    ğŸ“ Parsing 147 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_message', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'if', 'not', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'print', '(', 'âŒ Unknown connection: ', '+', 'connection_id', ')', 'return', '}', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'message_count', '+', '=', '1', 'let', 'method', '=', 'message', '.', 'get', '(', 'method', ',', '', ')', 'if', 'method', '==', 'eth_subscribe', '{', 'this', '.', 'handle_subscription', '(', 'connection_id', ',', 'message', ')', '}', 'else', 'if', 'method', '==', 'eth_unsubscribe', '{', 'this', '.', 'handle_unsubscription', '(', 'connection_id', ',', 'message', ')', '}', 'else', 'if', 'method', '==', 'ziver_subscribe', '{', 'this', '.', 'handle_ziver_subscription', '(', 'connection_id', ',', 'message', ')', '}', 'else', '{', 'this', '.', 'message_queue', '.', 'push', '(', '{', 'connection_id', ':', 'connection_id', ',', 'message', ':', 'message', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', ')', '}', '}']
    ğŸ“ Parsing 134 tokens into statements
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'print', '(', 'âŒ Unknown connection: ', '+', 'connection_id', ')', 'return']
  ğŸ” Parsing expression from tokens: ['this', '.', 'connections', '[', 'connection_id', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'message_count', '+', '=', '1']
    ğŸ“ Found let statement: ['let', 'method', '=', 'message', '.', 'get', '(', 'method', ',', '', ')', 'if', 'method', '==', 'eth_subscribe']
  ğŸ” Parsing expression from tokens: ['message', '.', 'get', '(', 'method', ',', '', ')', 'if', 'method', '==', 'eth_subscribe']
  ğŸ” Parsing expression from tokens: ['method']
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'handle_subscription', '(', 'connection_id', ',', 'message', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['else']
  ğŸ” Parsing expression from tokens: ['method', '==', 'eth_unsubscribe', '{', 'this', '.', 'handle_unsubscription', '(', 'connection_id', ',', 'message', ')']
  ğŸ” Parsing expression from tokens: ['eth_unsubscribe', '{', 'this', '.', 'handle_unsubscription', '(', 'connection_id', ',', 'message', ')']
  ğŸ” Parsing expression from tokens: ['else']
  ğŸ” Parsing expression from tokens: ['method', '==', 'ziver_subscribe', '{', 'this', '.', 'handle_ziver_subscription', '(', 'connection_id', ',', 'message', ')']
  ğŸ” Parsing expression from tokens: ['ziver_subscribe', '{', 'this', '.', 'handle_ziver_subscription', '(', 'connection_id', ',', 'message', ')']
  ğŸ” Parsing expression from tokens: ['else', '{', 'this', '.', 'message_queue', '.', 'push', '(', '{', 'connection_id', ':', 'connection_id', ',', 'message', ':', 'message', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', ')']
    âœ… Parsed 9 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 96
  âœ… Parsed: BlockStatement at line 123
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 123
  âœ… Parsed: BlockStatement at line 125
  ğŸ”§ Populating empty BlockStatement from 168 tokens
    ğŸ“ Parsing 168 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_subscription', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'let', 'subscription_type', '=', 'message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'let', 'subscription_id', '=', 'sub_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'if', 'this', '.', 'subscriptions', '.', 'has', '(', 'subscription_type', ')', '{', 'this', '.', 'subscriptions', '[', 'subscription_type', ']', '[', 'connection_id', ']', '=', 'subscription_id', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'subscription_count', '+', '=', '1', 'let', 'response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', 'result', ':', 'subscription_id', ',', 'ziver_metadata', ':', '{', 'subscription_type', ':', 'subscription_type', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'response', ')', 'print', '(', 'ğŸ“¡ Subscription created: ', '+', 'subscription_type', '+', ' for ', '+', 'connection_id', ')', '}', 'else', '{', 'this', '.', 'send_error', '(', 'connection_id', ',', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', '-', '32602', ',', 'Invalid subscription type: ', '+', 'subscription_type', ')', '}', '}']
    ğŸ“ Parsing 155 tokens into statements
    ğŸ“ Found let statement: ['let', 'subscription_type', '=', 'message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'let', 'subscription_id', '=', 'sub_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'if', 'this', '.', 'subscriptions', '.', 'has', '(', 'subscription_type', ')']
  ğŸ” Parsing expression from tokens: ['message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'let', 'subscription_id', '=', 'sub_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'if', 'this', '.', 'subscriptions', '.', 'has', '(', 'subscription_type', ')']
  ğŸ” Parsing expression from tokens: ['params']
  ğŸ” Parsing expression from tokens: ['[', '', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['']
  âœ… Parsed list with 2 elements
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'subscriptions', '[', 'subscription_type', ']', '[', 'connection_id', ']', '=', 'subscription_id', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'subscription_count', '+', '=', '1', 'let', 'response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', 'result', ':', 'subscription_id', ',', 'ziver_metadata', ':', '{', 'subscription_type', ':', 'subscription_type', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'response', ')', 'print', '(', 'ğŸ“¡ Subscription created: ', '+', 'subscription_type', '+', ' for ', '+', 'connection_id', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['message', '.', 'get', '(', 'id']
  ğŸ” Parsing expression from tokens: ['id']
  ğŸ—ºï¸ [Map] Added pair: id -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['subscription_id']
  ğŸ—ºï¸ [Map] Added pair: result -> Identifier
  ğŸ” Parsing expression from tokens: ['{', 'subscription_type', ':', 'subscription_type']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['subscription_type']
  ğŸ—ºï¸ [Map] Added pair: subscription_type -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: ziver_metadata -> MapLiteral
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: created_at -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
  ğŸ” Parsing expression from tokens: ['else', '{', 'this', '.', 'send_error', '(', 'connection_id', ',', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', '-', '32602', ',', 'Invalid subscription type: ', '+', 'subscription_type', ')']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 125
  âœ… Parsed: BlockStatement at line 151
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 151
  âœ… Parsed: BlockStatement at line 153
  ğŸ”§ Populating empty BlockStatement from 208 tokens
    ğŸ“ Parsing 208 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_ziver_subscription', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'let', 'subscription_type', '=', 'message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'let', 'filters', '=', 'message', '.', 'get', '(', 'params', ',', '[', '{', '}', ']', ')', '[', '1', ']', '?', '?', '{', '}', 'let', 'ziver_subscriptions', '=', '[', 'socialCapitalUpdates', ',', 'defiEvents', ',', 'aiAlerts', ',', 'quantumSecurity', ',', 'bounceBackNotifications', ',', 'crossChainUpdates', ']', 'if', 'ziver_subscriptions', '.', 'contains', '(', 'subscription_type', ')', '{', 'let', 'subscription_id', '=', 'ziv_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'this', '.', 'subscriptions', '[', 'subscription_type', ']', '[', 'connection_id', ']', '=', '{', 'id', ':', 'subscription_id', ',', 'filters', ':', 'filters', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', 'result', ':', 'subscription_id', ',', 'ziver_features', ':', '{', 'ai_explanations', ':', 'true', ',', 'quantum_secure', ':', 'true', ',', 'real_time_updates', ':', 'true', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'response', ')', 'print', '(', 'ğŸ¯ Ziver subscription: ', '+', 'subscription_type', '+', ' for ', '+', 'connection_id', ')', '}', 'else', '{', 'this', '.', 'send_error', '(', 'connection_id', ',', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', '-', '32602', ',', 'Unknown Ziver subscription: ', '+', 'subscription_type', ')', '}', '}']
    ğŸ“ Parsing 195 tokens into statements
    ğŸ“ Found let statement: ['let', 'subscription_type', '=', 'message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'let', 'filters', '=', 'message', '.', 'get', '(', 'params', ',', '[']
  ğŸ” Parsing expression from tokens: ['message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'let', 'filters', '=', 'message', '.', 'get', '(', 'params', ',', '[']
  ğŸ” Parsing expression from tokens: ['params']
  ğŸ” Parsing expression from tokens: ['[', '', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['']
  âœ… Parsed list with 2 elements
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [']', ')', '[', '1', ']', '?', '?', '{']
    ğŸ“ Found let statement: ['let', 'ziver_subscriptions', '=', '[', 'socialCapitalUpdates', ',', 'defiEvents', ',', 'aiAlerts', ',', 'quantumSecurity', ',', 'bounceBackNotifications', ',', 'crossChainUpdates', ']', 'if', 'ziver_subscriptions', '.', 'contains', '(', 'subscription_type', ')']
  ğŸ” Parsing expression from tokens: ['[', 'socialCapitalUpdates', ',', 'defiEvents', ',', 'aiAlerts', ',', 'quantumSecurity', ',', 'bounceBackNotifications', ',', 'crossChainUpdates', ']', 'if', 'ziver_subscriptions', '.', 'contains', '(', 'subscription_type', ')']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['socialCapitalUpdates']
  ğŸ” Parsing expression from tokens: ['defiEvents']
  ğŸ” Parsing expression from tokens: ['aiAlerts']
  ğŸ” Parsing expression from tokens: ['quantumSecurity']
  ğŸ” Parsing expression from tokens: ['bounceBackNotifications']
  ğŸ” Parsing expression from tokens: ['crossChainUpdates']
  ğŸ” Parsing expression from tokens: ['crossChainUpdates']
  âœ… Parsed list with 7 elements
  ğŸ” Parsing expression from tokens: ['{', 'let', 'subscription_id', '=', 'ziv_', '+', 'crypto', '.', 'keccak256', '(', 'connection_id', '+', 'subscription_type', ')', '.', 'slice', '(', '0', ',', '16', ')', 'this', '.', 'subscriptions', '[', 'subscription_type', ']', '[', 'connection_id', ']', '=', '{', 'id', ':', 'subscription_id', ',', 'filters', ':', 'filters', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', 'result', ':', 'subscription_id', ',', 'ziver_features', ':', '{', 'ai_explanations', ':', 'true', ',', 'quantum_secure', ':', 'true', ',', 'real_time_updates', ':', 'true', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'response', ')', 'print', '(', 'ğŸ¯ Ziver subscription: ', '+', 'subscription_type', '+', ' for ', '+', 'connection_id', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['subscription_id']
  ğŸ—ºï¸ [Map] Added pair: id -> Identifier
  ğŸ” Parsing expression from tokens: ['filters']
  ğŸ—ºï¸ [Map] Added pair: filters -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: created_at -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['else', '{', 'this', '.', 'send_error', '(', 'connection_id', ',', 'message', '.', 'get', '(', 'id', ',', '1', ')', ',', '-', '32602', ',', 'Unknown Ziver subscription: ', '+', 'subscription_type', ')']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 153
  âœ… Parsed: BlockStatement at line 188
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 188
  âœ… Parsed: BlockStatement at line 190
  ğŸ”§ Populating empty BlockStatement from 112 tokens
    ğŸ“ Parsing 112 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_new_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean', '{', 'let', 'subscribers', '=', 'this', '.', 'subscriptions', '[', 'newHeads', ']', 'if', 'subscribers', '.', 'is_empty', '(', ')', '{', 'return', 'false', '}', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscription', ',', 'params', ':', '{', 'subscription', ':', 'newHeads', ',', 'result', ':', 'this', '.', 'format_block_for_websocket', '(', 'block', ')', '}', '}', 'let', 'success_count', '=', '0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers', '{', 'if', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'notification', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'print', '(', 'ğŸ“¢ Broadcast block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'success_count', ')', '+', ' subscribers', ')', 'return', 'success_count', '>', '0', '}']
    ğŸ“ Parsing 100 tokens into statements
    ğŸ“ Found let statement: ['let', 'subscribers', '=', 'this', '.', 'subscriptions', '[', 'newHeads', ']', 'if', 'subscribers', '.', 'is_empty', '(', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'subscriptions', '[', 'newHeads', ']', 'if', 'subscribers', '.', 'is_empty', '(', ')']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'notification', '=']
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscription', ',', 'params', ':', '{', 'subscription', ':', 'newHeads', ',', 'result', ':', 'this', '.', 'format_block_for_websocket', '(', 'block', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['eth_subscription']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['{', 'subscription', ':', 'newHeads']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['newHeads']
  ğŸ—ºï¸ [Map] Added pair: subscription -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: params -> MapLiteral
  ğŸ” Parsing expression from tokens: ['this', '.', 'format_block_for_websocket', '(', 'block', ')']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ—ºï¸ [Map] Added pair: result -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    ğŸ“ Found let statement: ['let', 'success_count', '=', '0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'notification', ')', '{', 'success_count', '+', '=', '1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“¢ Broadcast block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'success_count', ')', '+', ' subscribers', ')', 'return', 'success_count', '>', '0']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 190
  âœ… Parsed: BlockStatement at line 214
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 214
  âœ… Parsed: BlockStatement at line 216
  ğŸ”§ Populating empty BlockStatement from 118 tokens
    ğŸ“ Parsing 118 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_new_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'let', 'subscribers', '=', 'this', '.', 'subscriptions', '[', 'newPendingTransactions', ']', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscription', ',', 'params', ':', '{', 'subscription', ':', 'newPendingTransactions', ',', 'result', ':', 'tx', '.', 'hash', ',', 'ziver_enhanced', ':', '{', 'bounce_back_protected', ':', 'tx', '.', 'bounce_back_protection', '?', '?', 'false', ',', 'social_capital_impact', ':', 'this', '.', 'calculate_social_capital_impact', '(', 'tx', ')', ',', 'ai_risk_assessment', ':', 'this', '.', 'get_ai_risk_assessment', '(', 'tx', ')', '}', '}', '}', 'let', 'success_count', '=', '0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers', '{', 'if', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'notification', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'this', '.', 'broadcast_to_ziver_subscribers', '(', 'defiEvents', ',', 'tx', ')', 'return', 'success_count', '>', '0', '}']
    ğŸ“ Parsing 106 tokens into statements
    ğŸ“ Found let statement: ['let', 'subscribers', '=', 'this', '.', 'subscriptions', '[', 'newPendingTransactions', ']', 'let', 'notification', '=']
  ğŸ” Parsing expression from tokens: ['this', '.', 'subscriptions', '[', 'newPendingTransactions', ']', 'let', 'notification', '=']
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscription', ',', 'params', ':', '{', 'subscription', ':', 'newPendingTransactions', ',', 'result', ':', 'tx', '.', 'hash', ',', 'ziver_enhanced', ':', '{', 'bounce_back_protected', ':', 'tx', '.', 'bounce_back_protection', '?', '?', 'false', ',', 'social_capital_impact', ':', 'this', '.', 'calculate_social_capital_impact', '(', 'tx', ')', ',', 'ai_risk_assessment', ':', 'this', '.', 'get_ai_risk_assessment', '(', 'tx', ')', '}', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['eth_subscription']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['{', 'subscription', ':', 'newPendingTransactions']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['newPendingTransactions']
  ğŸ—ºï¸ [Map] Added pair: subscription -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: params -> MapLiteral
  ğŸ” Parsing expression from tokens: ['tx', '.', 'hash']
  ğŸ—ºï¸ [Map] Added pair: result -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['{', 'bounce_back_protected', ':', 'tx', '.', 'bounce_back_protection', '?', '?', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['tx', '.', 'bounce_back_protection', '?', '?', 'false']
  ğŸ—ºï¸ [Map] Added pair: bounce_back_protected -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: ziver_enhanced -> MapLiteral
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_social_capital_impact', '(', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['tx']
  ğŸ—ºï¸ [Map] Added pair: social_capital_impact -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_ai_risk_assessment', '(', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['tx']
  ğŸ—ºï¸ [Map] Added pair: ai_risk_assessment -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 7 pairs
    ğŸ“ Found let statement: ['let', 'success_count', '=', '0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'connection_id', ',', 'sub_id', 'in', 'subscribers']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'notification', ')', '{', 'success_count', '+', '=', '1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'broadcast_to_ziver_subscribers', '(', 'defiEvents', ',', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['defiEvents']
  ğŸ” Parsing expression from tokens: ['tx']
  ğŸ” Parsing expression from tokens: ['success_count', '>', '0']
  ğŸ” Parsing expression from tokens: ['0']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 216
  âœ… Parsed: BlockStatement at line 244
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 244
  âœ… Parsed: BlockStatement at line 246
  ğŸ”§ Populating empty BlockStatement from 85 tokens
    ğŸ“ Parsing 85 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_social_capital_update', '(', 'user', ':', 'string', ',', 'new_score', ':', 'float', ')', '{', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_subscription', ',', 'params', ':', '{', 'subscription', ':', 'socialCapitalUpdates', ',', 'result', ':', '{', 'user', ':', 'user', ',', 'new_score', ':', 'new_score', ',', 'tier', ':', 'this', '.', 'calculate_tier', '(', 'new_score', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'ai_explanation', ':', 'this', '.', 'generate_score_explanation', '(', 'user', ',', 'new_score', ')', '}', '}', '}', 'this', '.', 'broadcast_to_ziver_subscribers', '(', 'socialCapitalUpdates', ',', 'notification', ')', '}']
    ğŸ“ Parsing 72 tokens into statements
    ğŸ“ Found let statement: ['let', 'notification', '=']
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_subscription', ',', 'params', ':', '{', 'subscription', ':', 'socialCapitalUpdates', ',', 'result', ':', '{', 'user', ':', 'user', ',', 'new_score', ':', 'new_score', ',', 'tier', ':', 'this', '.', 'calculate_tier', '(', 'new_score', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'ai_explanation', ':', 'this', '.', 'generate_score_explanation', '(', 'user', ',', 'new_score', ')', '}', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ziver_subscription']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['{', 'subscription', ':', 'socialCapitalUpdates']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['socialCapitalUpdates']
  ğŸ—ºï¸ [Map] Added pair: subscription -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: params -> MapLiteral
  ğŸ” Parsing expression from tokens: ['{', 'user', ':', 'user']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ—ºï¸ [Map] Added pair: user -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: result -> MapLiteral
  ğŸ” Parsing expression from tokens: ['new_score']
  ğŸ—ºï¸ [Map] Added pair: new_score -> Identifier
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_tier', '(', 'new_score', ')']
  ğŸ” Parsing expression from tokens: ['new_score']
  ğŸ—ºï¸ [Map] Added pair: tier -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'generate_score_explanation', '(', 'user']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ—ºï¸ [Map] Added pair: ai_explanation -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 8 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'broadcast_to_ziver_subscribers', '(', 'socialCapitalUpdates', ',', 'notification', ')']
  ğŸ” Parsing expression from tokens: ['socialCapitalUpdates']
  ğŸ” Parsing expression from tokens: ['notification']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 246
  âœ… Parsed: BlockStatement at line 263
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 263
  âœ… Parsed: BlockStatement at line 265
  ğŸ”§ Populating empty BlockStatement from 106 tokens
    ğŸ“ Parsing 106 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_ai_alert', '(', 'alert_type', ':', 'string', ',', 'data', ':', 'map', ')', '{', 'let', 'notification', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_subscription', ',', 'params', ':', '{', 'subscription', ':', 'aiAlerts', ',', 'result', ':', '{', 'alert_type', ':', 'alert_type', ',', 'severity', ':', 'data', '.', 'get', '(', 'severity', ',', 'info', ')', ',', 'message', ':', 'data', '.', 'get', '(', 'message', ',', '', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'suggested_actions', ':', 'data', '.', 'get', '(', 'actions', ',', '[', ']', ')', ',', 'confidence', ':', 'data', '.', 'get', '(', 'confidence', ',', '0.0', ')', '}', '}', '}', 'this', '.', 'broadcast_to_ziver_subscribers', '(', 'aiAlerts', ',', 'notification', ')', '}']
    ğŸ“ Parsing 93 tokens into statements
    ğŸ“ Found let statement: ['let', 'notification', '=']
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'ziver_subscription', ',', 'params', ':', '{', 'subscription', ':', 'aiAlerts', ',', 'result', ':', '{', 'alert_type', ':', 'alert_type', ',', 'severity', ':', 'data', '.', 'get', '(', 'severity', ',', 'info', ')', ',', 'message', ':', 'data', '.', 'get', '(', 'message', ',', '', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'suggested_actions', ':', 'data', '.', 'get', '(', 'actions', ',', '[', ']', ')', ',', 'confidence', ':', 'data', '.', 'get', '(', 'confidence', ',', '0.0', ')', '}', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ziver_subscription']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['{', 'subscription', ':', 'aiAlerts']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['aiAlerts']
  ğŸ—ºï¸ [Map] Added pair: subscription -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: params -> MapLiteral
  ğŸ” Parsing expression from tokens: ['{', 'alert_type', ':', 'alert_type']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['alert_type']
  ğŸ—ºï¸ [Map] Added pair: alert_type -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: result -> MapLiteral
  ğŸ” Parsing expression from tokens: ['data', '.', 'get', '(', 'severity']
  ğŸ” Parsing expression from tokens: ['severity']
  ğŸ—ºï¸ [Map] Added pair: severity -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['data', '.', 'get', '(', 'message']
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ—ºï¸ [Map] Added pair: message -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['data', '.', 'get', '(', 'actions']
  ğŸ” Parsing expression from tokens: ['actions']
  ğŸ—ºï¸ [Map] Added pair: suggested_actions -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['data', '.', 'get', '(', 'confidence']
  ğŸ” Parsing expression from tokens: ['confidence']
  ğŸ—ºï¸ [Map] Added pair: confidence -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 9 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'broadcast_to_ziver_subscribers', '(', 'aiAlerts', ',', 'notification', ')']
  ğŸ” Parsing expression from tokens: ['aiAlerts']
  ğŸ” Parsing expression from tokens: ['notification']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 265
  âœ… Parsed: BlockStatement at line 283
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 283
  âœ… Parsed: BlockStatement at line 286
  ğŸ”§ Populating empty BlockStatement from 57 tokens
    ğŸ“ Parsing 57 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_to_ziver_subscribers', '(', 'subscription_type', ':', 'string', ',', 'data', ':', 'any', ')', '{', 'let', 'subscribers', '=', 'this', '.', 'subscriptions', '.', 'get', '(', 'subscription_type', ',', '{', '}', ')', 'for', 'each', 'connection_id', ',', 'subscription_data', 'in', 'subscribers', '{', 'if', 'this', '.', 'passes_filters', '(', 'subscription_data', '.', 'filters', ',', 'data', ')', '{', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'data', ')', '}', '}', '}']
    ğŸ“ Parsing 44 tokens into statements
    ğŸ“ Found let statement: ['let', 'subscribers', '=', 'this', '.', 'subscriptions', '.', 'get', '(', 'subscription_type', ',']
  ğŸ” Parsing expression from tokens: ['this', '.', 'subscriptions', '.', 'get', '(', 'subscription_type', ',']
  ğŸ” Parsing expression from tokens: ['subscription_type']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
  ğŸ” Parsing expression from tokens: ['each', 'connection_id', ',', 'subscription_data', 'in', 'subscribers', '{', 'if', 'this', '.', 'passes_filters', '(', 'subscription_data', '.', 'filters', ',', 'data', ')', '{', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'data', ')', '}']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 286
  âœ… Parsed: BlockStatement at line 295
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 295
  âœ… Parsed: BlockStatement at line 297
  ğŸ”§ Populating empty BlockStatement from 64 tokens
    ğŸ“ Parsing 64 tokens into statements
    ğŸ“ Found action statement: ['action', 'format_block_for_websocket', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'let', 'formatted', '=', 'this', '.', 'rpc_server', '.', 'format_block', '(', 'block', ',', 'false', ')', 'formatted', '[', 'ziver_enhanced', ']', '=', '{', 'seb_defi_activity', ':', 'this', '.', 'calculate_defi_activity', '(', 'block', ')', ',', 'ai_consensus_data', ':', 'this', '.', 'get_ai_consensus_data', '(', 'block', ')', ',', 'quantum_signature_verified', ':', 'true', ',', 'social_capital_distribution', ':', 'this', '.', 'get_social_capital_stats', '(', 'block', ')', '}', 'return', 'formatted', '}']
    ğŸ“ Parsing 52 tokens into statements
    ğŸ“ Found let statement: ['let', 'formatted', '=', 'this', '.', 'rpc_server', '.', 'format_block', '(', 'block', ',', 'false', ')', 'formatted', '[', 'ziver_enhanced', ']', '=']
  ğŸ” Parsing expression from tokens: ['this', '.', 'rpc_server', '.', 'format_block', '(', 'block', ',', 'false', ')', 'formatted', '[', 'ziver_enhanced', ']', '=']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ” Parsing expression from tokens: ['false']
  ğŸ” Parsing expression from tokens: ['{', 'seb_defi_activity', ':', 'this', '.', 'calculate_defi_activity', '(', 'block', ')', ',', 'ai_consensus_data', ':', 'this', '.', 'get_ai_consensus_data', '(', 'block', ')', ',', 'quantum_signature_verified', ':', 'true', ',', 'social_capital_distribution', ':', 'this', '.', 'get_social_capital_stats', '(', 'block', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_defi_activity', '(', 'block', ')']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ—ºï¸ [Map] Added pair: seb_defi_activity -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_ai_consensus_data', '(', 'block', ')']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ—ºï¸ [Map] Added pair: ai_consensus_data -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: quantum_signature_verified -> Boolean
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_social_capital_stats', '(', 'block', ')']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ—ºï¸ [Map] Added pair: social_capital_distribution -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
  ğŸ” Parsing expression from tokens: ['formatted']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 297
  âœ… Parsed: BlockStatement at line 309
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 309
  âœ… Parsed: BlockStatement at line 311
  ğŸ”§ Populating empty BlockStatement from 101 tokens
    ğŸ“ Parsing 101 tokens into statements
    ğŸ“ Found action statement: ['action', 'send_to_connection', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '-', '>', 'boolean', '{', 'if', 'not', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'return', 'false', '}', 'try', '{', 'print', '(', 'ğŸ“¤ WS â†’ ', '+', 'connection_id', '.', 'slice', '(', '0', ',', '8', ')', '+', ': ', '+', 'string', '(', 'message', '.', 'get', '(', 'method', ',', 'unknown', ')', ')', ')', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'true', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send to ', '+', 'connection_id', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'return', 'false', '}', '}']
    ğŸ“ Parsing 85 tokens into statements
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'ğŸ“¤ WS â†’ ', '+', 'connection_id', '.', 'slice', '(', '0', ',', '8', ')', '+', ': ', '+', 'string', '(', 'message', '.', 'get', '(', 'method', ',', 'unknown', ')', ')', ')', 'this', '.', 'connections', '[', 'connection_id', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send to ', '+', 'connection_id', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['error']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 311
  âœ… Parsed: BlockStatement at line 327
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 327
  âœ… Parsed: BlockStatement at line 329
  ğŸ”§ Populating empty BlockStatement from 53 tokens
    ğŸ“ Parsing 53 tokens into statements
    ğŸ“ Found action statement: ['action', 'send_error', '(', 'connection_id', ':', 'string', ',', 'request_id', ':', 'integer', ',', 'code', ':', 'integer', ',', 'message', ':', 'string', ')', '{', 'let', 'error_response', '=', '{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'request_id', ',', 'error', ':', '{', 'code', ':', 'code', ',', 'message', ':', 'message', '}', '}', 'this', '.', 'send_to_connection', '(', 'connection_id', ',', 'error_response', ')', '}']
    ğŸ“ Parsing 32 tokens into statements
    ğŸ“ Found let statement: ['let', 'error_response', '=']
  ğŸ” Parsing expression from tokens: ['{', 'jsonrpc', ':', '2.0', ',', 'id', ':', 'request_id', ',', 'error', ':', '{', 'code', ':', 'code', ',', 'message', ':', 'message', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['request_id']
  ğŸ—ºï¸ [Map] Added pair: id -> Identifier
  ğŸ” Parsing expression from tokens: ['{', 'code', ':', 'code']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ—ºï¸ [Map] Added pair: code -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: error -> MapLiteral
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ—ºï¸ [Map] Added pair: message -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'send_to_connection', '(', 'connection_id', ',', 'error_response', ')']
  ğŸ” Parsing expression from tokens: ['connection_id']
  ğŸ” Parsing expression from tokens: ['error_response']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 329
  âœ… Parsed: BlockStatement at line 340
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 340
  âœ… Parsed: BlockStatement at line 342
  ğŸ”§ Populating empty BlockStatement from 62 tokens
    ğŸ“ Parsing 62 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'process_message_queue', '(', ')', '{', 'while', 'this', '.', 'is_running', '{', 'if', 'not', 'this', '.', 'message_queue', '.', 'is_empty', '(', ')', '{', 'let', 'item', '=', 'this', '.', 'message_queue', '.', 'shift', '(', ')', 'let', 'response', '=', 'this', '.', 'rpc_server', '.', 'handle_request', '(', 'item', '.', 'message', ')', 'this', '.', 'send_to_connection', '(', 'item', '.', 'connection_id', ',', 'response', ')', '}', 'await', 'sleep', '(', '0.01', ')', '}', '}']
    ğŸ“ Parsing 55 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_running', '{', 'if', 'not', 'this', '.', 'message_queue', '.', 'is_empty', '(', ')', '{', 'let', 'item', '=', 'this', '.', 'message_queue', '.', 'shift', '(', ')', 'let', 'response', '=', 'this', '.', 'rpc_server', '.', 'handle_request', '(', 'item', '.', 'message', ')', 'this', '.', 'send_to_connection', '(', 'item', '.', 'connection_id', ',', 'response', ')', '}', 'await', 'sleep', '(', '0.01', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 342
  âœ… Parsed: BlockStatement at line 351
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 351
  âœ… Parsed: BlockStatement at line 353
  ğŸ”§ Populating empty BlockStatement from 77 tokens
    ğŸ“ Parsing 77 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'cleanup_inactive_connections', '(', ')', '{', 'while', 'this', '.', 'is_running', '{', 'let', 'current_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'inactive_connections', '=', '[', ']', 'for', 'each', 'connection_id', ',', 'connection', 'in', 'this', '.', 'connections', '{', 'if', 'current_time', '-', 'connection', '.', 'last_active', '>', '300', '{', 'inactive_connections', '.', 'push', '(', 'connection_id', ')', '}', '}', 'for', 'each', 'connection_id', 'in', 'inactive_connections', '{', 'this', '.', 'handle_connection_close', '(', 'connection_id', ',', 'inactive', ')', '}', 'await', 'sleep', '(', '60', ')', '}', '}']
    ğŸ“ Parsing 70 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_running', '{', 'let', 'current_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'inactive_connections', '=', '[', ']', 'for', 'each', 'connection_id', ',', 'connection', 'in', 'this', '.', 'connections', '{', 'if', 'current_time', '-', 'connection', '.', 'last_active', '>', '300', '{', 'inactive_connections', '.', 'push', '(', 'connection_id', ')', '}', '}', 'for', 'each', 'connection_id', 'in', 'inactive_connections', '{', 'this', '.', 'handle_connection_close', '(', 'connection_id', ',', 'inactive', ')', '}', 'await', 'sleep', '(', '60', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 353
  âœ… Parsed: BlockStatement at line 370
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 370
  âœ… Parsed: BlockStatement at line 372
  ğŸ”§ Populating empty BlockStatement from 70 tokens
    ğŸ“ Parsing 70 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_connection_close', '(', 'connection_id', ':', 'string', ',', 'reason', ':', 'string', ')', '{', 'print', '(', 'ğŸ”Œ WebSocket disconnected: ', '+', 'connection_id', '+', ' (', '+', 'reason', '+', ')', ')', 'for', 'each', 'subscription_type', ',', 'subscribers', 'in', 'this', '.', 'subscriptions', '{', 'if', 'subscribers', '.', 'has', '(', 'connection_id', ')', '{', 'subscribers', '.', 'delete', '(', 'connection_id', ')', '}', '}', 'if', 'this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'this', '.', 'connections', '.', 'delete', '(', 'connection_id', ')', '}', '}']
    ğŸ“ Parsing 57 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”Œ WebSocket disconnected: ', '+', 'connection_id', '+', ' (', '+', 'reason', '+', ')', ')', 'for', 'each', 'subscription_type', ',', 'subscribers', 'in', 'this', '.', 'subscriptions']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'subscribers', '.', 'has', '(', 'connection_id', ')', '{', 'subscribers', '.', 'delete', '(', 'connection_id', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'connections', '.', 'has', '(', 'connection_id', ')', '{', 'this', '.', 'connections', '.', 'delete', '(', 'connection_id', ')']
  ğŸ” Parsing expression from tokens: ['connection_id']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 372
  âœ… Parsed: BlockStatement at line 386
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 386
  âœ… Parsed: BlockStatement at line 388
  ğŸ”§ Populating empty BlockStatement from 95 tokens
    ğŸ“ Parsing 95 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_connection_stats', '(', ')', '-', '>', 'map', '{', 'let', 'total_connections', '=', 'len', '(', 'this', '.', 'connections', ')', 'let', 'total_subscriptions', '=', '0', 'let', 'active_subscriptions', '=', '{', '}', 'for', 'each', 'subscription_type', ',', 'subscribers', 'in', 'this', '.', 'subscriptions', '{', 'active_subscriptions', '[', 'subscription_type', ']', '=', 'len', '(', 'subscribers', ')', 'total_subscriptions', '+', '=', 'len', '(', 'subscribers', ')', '}', 'return', '{', 'total_connections', ':', 'total_connections', ',', 'total_subscriptions', ':', 'total_subscriptions', ',', 'active_subscriptions', ':', 'active_subscriptions', ',', 'message_queue_size', ':', 'len', '(', 'this', '.', 'message_queue', ')', ',', 'uptime', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')', '}', '}']
    ğŸ“ Parsing 86 tokens into statements
    ğŸ“ Found let statement: ['let', 'total_connections', '=', 'len', '(', 'this', '.', 'connections', ')', 'let', 'total_subscriptions', '=', '0', 'let', 'active_subscriptions', '=']
  ğŸ” Parsing expression from tokens: ['len', '(', 'this', '.', 'connections', ')', 'let', 'total_subscriptions', '=', '0', 'let', 'active_subscriptions', '=']
  ğŸ” Parsing expression from tokens: ['this', '.', 'connections']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'subscription_type', ',', 'subscribers', 'in', 'this', '.', 'subscriptions', '{', 'active_subscriptions', '[', 'subscription_type', ']', '=', 'len', '(', 'subscribers', ')', 'total_subscriptions', '+', '=', 'len', '(', 'subscribers', ')']
  ğŸ” Parsing expression from tokens: ['{', 'total_connections', ':', 'total_connections', ',', 'total_subscriptions', ':', 'total_subscriptions', ',', 'active_subscriptions', ':', 'active_subscriptions', ',', 'message_queue_size', ':', 'len', '(', 'this', '.', 'message_queue', ')', ',', 'uptime', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['total_connections']
  ğŸ—ºï¸ [Map] Added pair: total_connections -> Identifier
  ğŸ” Parsing expression from tokens: ['total_subscriptions']
  ğŸ—ºï¸ [Map] Added pair: total_subscriptions -> Identifier
  ğŸ” Parsing expression from tokens: ['active_subscriptions']
  ğŸ—ºï¸ [Map] Added pair: active_subscriptions -> Identifier
  ğŸ” Parsing expression from tokens: ['len', '(', 'this', '.', 'message_queue', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'message_queue']
  ğŸ—ºï¸ [Map] Added pair: message_queue_size -> CallExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'this', '.', 'get_start_time', '(', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_start_time', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: uptime -> InfixExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 388
  âœ… Parsed: BlockStatement at line 405
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 405
  âœ… Parsed: BlockStatement at line 408
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_social_capital_impact', '(', 'tx', ':', 'any', ')', '-', '>', 'float', '{', 'return', '0.1', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['0.1']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 408
  âœ… Parsed: BlockStatement at line 410
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 410
  âœ… Parsed: BlockStatement at line 412
  ğŸ”§ Populating empty BlockStatement from 22 tokens
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_ai_risk_assessment', '(', 'tx', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.8', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.8']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['low']
  ğŸ—ºï¸ [Map] Added pair: risk_level -> StringLiteral
  ğŸ” Parsing expression from tokens: ['0.8']
  ğŸ—ºï¸ [Map] Added pair: confidence -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 412
  âœ… Parsed: BlockStatement at line 414
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 414
  âœ… Parsed: BlockStatement at line 416
  ğŸ”§ Populating empty BlockStatement from 42 tokens
    ğŸ“ Parsing 42 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_tier', '(', 'score', ':', 'float', ')', '-', '>', 'string', '{', 'if', 'score', '>=', '0.9', ':', 'return', 'DIAMOND', 'if', 'score', '>=', '0.75', ':', 'return', 'PLATINUM', 'if', 'score', '>=', '0.6', ':', 'return', 'GOLD', 'if', 'score', '>=', '0.4', ':', 'return', 'SILVER', 'return', 'BRONZE', '}']
    ğŸ“ Parsing 30 tokens into statements
  ğŸ” Parsing expression from tokens: ['score', '>=', '0.9', ':']
  ğŸ” Parsing expression from tokens: ['0.9', ':']
  ğŸ” Parsing expression from tokens: ['DIAMOND']
  ğŸ” Parsing expression from tokens: ['score', '>=', '0.75', ':']
  ğŸ” Parsing expression from tokens: ['0.75', ':']
  ğŸ” Parsing expression from tokens: ['PLATINUM']
  ğŸ” Parsing expression from tokens: ['score', '>=', '0.6', ':']
  ğŸ” Parsing expression from tokens: ['0.6', ':']
  ğŸ” Parsing expression from tokens: ['GOLD']
  ğŸ” Parsing expression from tokens: ['score', '>=', '0.4', ':']
  ğŸ” Parsing expression from tokens: ['0.4', ':']
  ğŸ” Parsing expression from tokens: ['SILVER']
  ğŸ” Parsing expression from tokens: ['BRONZE']
    âœ… Parsed 9 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 416
  âœ… Parsed: BlockStatement at line 422
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 422
  âœ… Parsed: BlockStatement at line 424
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_score_explanation', '(', 'user', ':', 'string', ',', 'score', ':', 'float', ')', '-', '>', 'string', '{', 'return', 'AI-generated explanation for score change', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['AI-generated explanation for score change']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 424
  âœ… Parsed: BlockStatement at line 426
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 426
  âœ… Parsed: BlockStatement at line 428
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_defi_activity', '(', 'block', ':', 'any', ')', '-', '>', 'float', '{', 'return', '0.5', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['0.5']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 428
  âœ… Parsed: BlockStatement at line 430
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 430
  âœ… Parsed: BlockStatement at line 432
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_ai_consensus_data', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'ai_trust_score', ':', '0.95', '}', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'ai_trust_score', ':', '0.95']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.95']
  ğŸ—ºï¸ [Map] Added pair: ai_trust_score -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 432
  âœ… Parsed: BlockStatement at line 434
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 434
  âœ… Parsed: BlockStatement at line 436
  ğŸ”§ Populating empty BlockStatement from 26 tokens
    ğŸ“ Parsing 26 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_social_capital_stats', '(', 'block', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'average', ':', '0.6', ',', 'min', ':', '0.1', ',', 'max', ':', '0.95', '}', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'average', ':', '0.6', ',', 'min', ':', '0.1', ',', 'max', ':', '0.95']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.6']
  ğŸ—ºï¸ [Map] Added pair: average -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['0.1']
  ğŸ—ºï¸ [Map] Added pair: min -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['0.95']
  ğŸ—ºï¸ [Map] Added pair: max -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 436
  âœ… Parsed: BlockStatement at line 438
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 438
  âœ… Parsed: BlockStatement at line 440
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'passes_filters', '(', 'filters', ':', 'map', ',', 'data', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'true', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 440
  âœ… Parsed: BlockStatement at line 442
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 442
  âœ… Parsed: BlockStatement at line 444
  ğŸ”§ Populating empty BlockStatement from 35 tokens
    ğŸ“ Parsing 35 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_unsubscription', '(', 'connection_id', ':', 'string', ',', 'message', ':', 'map', ')', '{', 'let', 'subscription_id', '=', 'message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'print', '(', 'ğŸ“¡ Unsubscribing: ', '+', 'subscription_id', ')', '}']
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found let statement: ['let', 'subscription_id', '=', 'message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'print', '(', 'ğŸ“¡ Unsubscribing: ', '+', 'subscription_id', ')']
  ğŸ” Parsing expression from tokens: ['message', '.', 'get', '(', 'params', ',', '[', '', ']', ')', '[', '0', ']', 'print', '(', 'ğŸ“¡ Unsubscribing: ', '+', 'subscription_id', ')']
  ğŸ” Parsing expression from tokens: ['params']
  ğŸ” Parsing expression from tokens: ['[', '', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['']
  ğŸ” Parsing expression from tokens: ['']
  âœ… Parsed list with 2 elements
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 444
  âœ… Parsed: BlockStatement at line 448
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 448
  âœ… Parsed: BlockStatement at line 450
  ğŸ”§ Populating empty BlockStatement from 29 tokens
    ğŸ“ Parsing 29 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'start_websocket_server', '(', ')', '{', 'print', '(', 'ğŸŒ WebSocket Server listening on port ', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'while', 'this', '.', 'is_running', '{', 'await', 'sleep', '(', '1', ')', '}', '}']
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸŒ WebSocket Server listening on port ', '+', 'string', '(', 'this', '.', 'port', ')', ')', 'while', 'this', '.', 'is_running']
  ğŸ” Parsing expression from tokens: ['{', 'await', 'sleep', '(', '1', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 450
  âœ… Parsed: BlockStatement at line 456
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 456
  âœ… Parsed: BlockStatement at line 458
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_start_time', '(', ')', '-', '>', 'integer', '{', 'return', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 458
  âœ… Parsed: BlockStatement at line 460
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 460
  âœ… Parsed: BlockStatement at line 462
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'sleep', '(', 'seconds', ':', 'float', ')', '{', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 462
  âœ… Parsed: BlockStatement at line 464
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 464
  âœ… Parsed: BlockStatement at line 465
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 465
  âœ… Parsed: BlockStatement at line 468
  ğŸ”§ Populating empty BlockStatement from 114 tokens
    ğŸ“ Parsing 114 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_enhanced_websocket', '(', ')', '{', 'print', '(', 'ğŸ”Œ Testing Enhanced WebSocket RPC...', ')', 'let', 'mock_rpc', '=', '{', 'format_block', ':', 'action', '(', 'block', ',', 'full', ')', '{', 'return', 'block', '}', '}', 'let', 'ws_server', '=', 'WebSocketRPCServer', '(', 'rpc_server', ':', 'mock_rpc', ',', 'port', ':', '8546', ')', 'if', 'ws_server', '.', 'start', '(', ')', '{', 'print', '(', 'âœ… WebSocket server started', ')', 'let', 'test_connection', '=', 'conn_test_123', 'ws_server', '.', 'handle_connection', '(', 'test_connection', ',', '192.168.1.100', ',', 'ZiverApp/1.0', ')', 'let', 'sub_message', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscribe', ',', 'params', ':', '[', 'newHeads', ']', ',', 'id', ':', '1', '}', 'ws_server', '.', 'handle_message', '(', 'test_connection', ',', 'sub_message', ')', 'let', 'stats', '=', 'ws_server', '.', 'get_connection_stats', '(', ')', 'print', '(', 'WebSocket Stats: ', '+', 'string', '(', 'stats', ')', ')', '}', '}']
    ğŸ“ Parsing 107 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”Œ Testing Enhanced WebSocket RPC...', ')', 'let', 'mock_rpc', '=']
  ğŸ” Parsing expression from tokens: ['{', 'format_block', ':', 'action', '(', 'block', ',', 'full', ')', '{', 'return', 'block', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['action', '(', 'block']
  ğŸ” Parsing expression from tokens: ['block']
  ğŸ—ºï¸ [Map] Added pair: format_block -> CallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
    ğŸ“ Found let statement: ['let', 'ws_server', '=', 'WebSocketRPCServer', '(', 'rpc_server', ':', 'mock_rpc', ',', 'port', ':', '8546', ')', 'if', 'ws_server', '.', 'start', '(', ')']
  ğŸ” Parsing expression from tokens: ['WebSocketRPCServer', '(', 'rpc_server', ':', 'mock_rpc', ',', 'port', ':', '8546', ')', 'if', 'ws_server', '.', 'start', '(', ')']
  ğŸ” Parsing expression from tokens: ['rpc_server', ':', 'mock_rpc']
  ğŸ” Parsing expression from tokens: ['port', ':', '8546']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âœ… WebSocket server started', ')', 'let', 'test_connection', '=', 'conn_test_123', 'ws_server', '.', 'handle_connection', '(', 'test_connection', ',', '192.168.1.100', ',', 'ZiverApp/1.0', ')', 'let', 'sub_message', '=', '{', 'jsonrpc', ':', '2.0', ',', 'method', ':', 'eth_subscribe', ',', 'params', ':', '[', 'newHeads', ']', ',', 'id', ':', '1', '}', 'ws_server', '.', 'handle_message', '(', 'test_connection', ',', 'sub_message', ')', 'let', 'stats', '=', 'ws_server', '.', 'get_connection_stats', '(', ')', 'print', '(', 'WebSocket Stats: ', '+', 'string', '(', 'stats', ')', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['2.0']
  ğŸ—ºï¸ [Map] Added pair: jsonrpc -> StringLiteral
  ğŸ” Parsing expression from tokens: ['eth_subscribe']
  ğŸ—ºï¸ [Map] Added pair: method -> StringLiteral
  ğŸ” Parsing expression from tokens: ['[', 'newHeads', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['newHeads']
  ğŸ” Parsing expression from tokens: ['newHeads']
  âœ… Parsed list with 2 elements
  ğŸ—ºï¸ [Map] Added pair: params -> ListLiteral
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: id -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 468
  âœ… Parsed: BlockStatement at line 494
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 494
  âœ… Parsed: BlockStatement at line 496
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'WebSocketRPCServer', ',', 'WebSocketRPCProtocol', ',', 'test_enhanced_websocket', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 496
  âœ… Parsed: BlockStatement at line 500
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 500
âœ… Parsing Complete: 79 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/use_statement @ 8-14: ['use', 'math', 'as', 'math', 'protocol', 'ContractRuntimeProtocol', '{']
  [3] statement/ACTION @ 15-33: ['action', 'execute_contract_call', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'ExecutionResult']
  [4] statement/ACTION @ 33-43: ['action', 'deploy_contract', '(', 'deployment', ':', 'ContractDeployment', ')', '-', '>', 'DeploymentResult']
  [5] statement/ACTION @ 43-57: ['action', 'simulate_call', '(', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'SimulationResult']
  [6] statement/ACTION @ 57-77: ['action', 'validate_contract_security', '(', 'code', ':', 'string', ',', 'deployer', ':', 'string', ')', '-', '>', 'SecurityAssessment', '}', 'contract', 'ContractRuntime', 'implements', 'ContractRuntimeProtocol', '{']
  [7] statement/PERSISTENT @ 77-82: ['persistent', 'storage', 'vm', ':', 'any']
  [8] statement/PERSISTENT @ 82-87: ['persistent', 'storage', 'gas_tracker', ':', 'any']
  [9] statement/PERSISTENT @ 87-92: ['persistent', 'storage', 'event_emitter', ':', 'any']
  [10] statement/PERSISTENT @ 92-97: ['persistent', 'storage', 'security_manager', ':', 'any']
  [11] statement/PERSISTENT @ 97-102: ['persistent', 'storage', 'seb_defi_integration', ':', 'any']
  [12] statement/PERSISTENT @ 102-107: ['persistent', 'storage', 'execution_history', ':', 'list']
  [13] statement/PERSISTENT @ 107-112: ['persistent', 'storage', 'sandbox_environments', ':', 'map']
  [14] statement/entity_statement @ 112-134: ['entity', 'ContractCall', '{', 'contract_address', ':', 'string', 'function', ':', 'string', 'arguments', ':', 'list', 'value', ':', 'integer', '=', '0', 'gas_limit', ':', 'integer', '=', '0', '}']
  [15] statement/entity_statement @ 135-163: ['entity', 'ExecutionContext', '{', 'caller', ':', 'string', 'gas_limit', ':', 'integer', 'block_number', ':', 'integer', 'timestamp', ':', 'integer', 'transaction_hash', ':', 'string', 'social_capital', ':', 'float', '=', '0.0', 'chain_type', ':', 'string', '=', 'ZIVER', '}']
  [16] statement/entity_statement @ 164-188: ['entity', 'ExecutionResult', '{', 'success', ':', 'boolean', 'return_value', ':', 'any', 'gas_used', ':', 'integer', 'events', ':', 'list', 'state_changes', ':', 'map', 'ai_assessment', ':', 'map', 'seb_defi_impact', ':', 'map', '}']
  [17] statement/entity_statement @ 189-210: ['entity', 'DeploymentResult', '{', 'success', ':', 'boolean', 'contract_address', ':', 'string', 'gas_used', ':', 'integer', 'transaction_hash', ':', 'string', 'security_level', ':', 'string', 'seb_defi_tier', ':', 'string', '}']
  [18] statement/entity_statement @ 211-238: ['entity', 'SimulationResult', '{', 'return_value', ':', 'any', 'gas_used', ':', 'integer', 'would_succeed', ':', 'boolean', 'estimated_gas', ':', 'integer', 'ai_confidence', ':', 'float', 'risk_assessment', ':', 'list', 'seb_defi_impact', ':', 'map', 'suggested_improvements', ':', 'list', '}']
  [19] statement/entity_statement @ 239-263: ['entity', 'SecurityAssessment', '{', 'passed', ':', 'boolean', 'issues', ':', 'list', 'security_level', ':', 'string', 'ai_analysis', ':', 'map', 'quantum_resistance', ':', 'map', 'seb_defi_compliance', ':', 'map', 'suggestions', ':', 'list', '}']
  [20] statement/ACTION @ 264-334: ['action', 'init', '(', ')', '{', 'this', '.', 'vm', '=', 'this', '.', 'initialize_virtual_machine', '(', ')', 'this', '.', 'gas_tracker', '=', 'GasTracker', '{', '}', 'this', '.', 'event_emitter', '=', 'EventEmitter', '{', '}', 'this', '.', 'security_manager', '=', 'SecurityManager', '{', '}', 'this', '.', 'seb_defi_integration', '=', 'SEBDeFiIntegration', '{', '}', 'this', '.', 'execution_history', '=', '[', ']', 'this', '.', 'sandbox_environments', '=', '{', '}', 'print', '(', 'ğŸ”„ Advanced Contract Runtime initialized', ')', 'print', '(', 'âœ… SEB-DeFi Integration: Active', ')', 'print', '(', 'âœ… Quantum Security: Enabled', ')', 'print', '(', 'âœ… AI Risk Assessment: Available', ')', '}']
  [21] statement/} @ 334-334: ['}']
  [22] statement/ACTION @ 335-668: ['action', 'execute_contract_call', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'ExecutionResult', '{', 'print', '(', 'âš¡ Executing contract call: ', '+', 'contract_address', '+', '.', '+', 'call', '.', 'function', ')', 'let', 'security_check', '=', 'this', '.', 'security_manager', '.', 'can_execute_with_ai', '(', 'context', '.', 'caller', ',', 'contract_address', ',', 'call', '.', 'function', ',', 'context', ')', 'if', 'not', 'security_check', '.', 'allowed', '{', 'throw', 'Security violation: ', '+', 'security_check', '.', 'reason', '}', 'if', 'this', '.', 'is_financial_operation', '(', 'call', '.', 'function', ')', '{', 'let', 'defi_access', '=', 'this', '.', 'seb_defi_integration', '.', 'check_access', '(', 'context', '.', 'caller', ',', 'call', '.', 'function', ',', 'call', '.', 'value', ')', 'if', 'not', 'defi_access', '.', 'granted', '{', 'throw', 'SEB-DeFi access denied: ', '+', 'defi_access', '.', 'reason', '}', '}', 'let', 'estimated_gas', '=', 'this', '.', 'gas_tracker', '.', 'estimate_gas_with_ai', '(', 'contract_address', ',', 'call', ',', 'context', ')', 'if', 'context', '.', 'gas_limit', '<', 'estimated_gas', '{', 'throw', 'Insufficient gas: ', '+', 'string', '(', 'estimated_gas', ')', '+', ' required, ', '+', 'string', '(', 'context', '.', 'gas_limit', ')', '+', ' provided', '}', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_gas', '=', 'context', '.', 'gas_limit', 'let', 'result', '=', 'this', '.', 'vm', '.', 'execute_contract', '(', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'gas_used', '=', 'this', '.', 'gas_tracker', '.', 'calculate_actual_gas', '(', 'start_gas', ',', 'result', ',', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', ')', 'if', 'result', '.', 'events', '!=', 'null', 'and', 'not', 'result', '.', 'events', '.', 'is_empty', '(', ')', '{', 'for', 'each', 'event', 'in', 'result', '.', 'events', '{', 'let', 'enhanced_event', '=', 'this', '.', 'enhance_event_with_seb_data', '(', 'event', ',', 'context', ')', 'this', '.', 'event_emitter', '.', 'emit_event', '(', 'enhanced_event', ')', '}', '}', 'this', '.', 'record_execution', '(', 'contract_address', ',', 'call', ',', 'context', ',', 'result', ',', 'gas_used', ')', 'return', 'ExecutionResult', '{', 'success', ':', 'true', ',', 'return_value', ':', 'result', '.', 'return_value', ',', 'gas_used', ':', 'gas_used', ',', 'events', ':', 'result', '.', 'events', ',', 'state_changes', ':', 'result', '.', 'state_changes', ',', 'ai_assessment', ':', 'this', '.', 'generate_ai_assessment', '(', 'result', ')', ',', 'seb_defi_impact', ':', 'this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'result', ')', '}', '}']
  [23] statement/} @ 668-668: ['}']
  [24] statement/ACTION @ 669-881: ['action', 'deploy_contract', '(', 'deployment', ':', 'ContractDeployment', ')', '-', '>', 'DeploymentResult', '{', 'print', '(', 'ğŸ“¦ Deploying contract: ', '+', 'deployment', '.', 'name', ')', 'let', 'security_scan', '=', 'this', '.', 'security_manager', '.', 'scan_contract_code', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ')', 'if', 'not', 'security_scan', '.', 'passed', '{', 'throw', 'Contract security scan failed: ', '+', 'security_scan', '.', 'issues', '.', 'join', '(', ', ', ')', '}', 'if', 'this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')', '{', 'let', 'compliance', '=', 'this', '.', 'seb_defi_integration', '.', 'validate_defi_compliance', '(', 'deployment', '.', 'code', ')', 'if', 'not', 'compliance', '.', 'valid', '{', 'throw', 'SEB-DeFi compliance failed: ', '+', 'compliance', '.', 'reasons', '.', 'join', '(', ', ', ')', '}', '}', 'let', 'deployment_gas', '=', 'this', '.', 'gas_tracker', '.', 'estimate_deployment_gas_with_ai', '(', 'deployment', '.', 'code', ')', 'let', 'contract_address', '=', 'this', '.', 'vm', '.', 'deploy_contract_with_security', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ',', 'deployment', '.', 'initial_balance', ')', 'this', '.', 'security_manager', '.', 'register_contract_with_features', '(', 'contract_address', ',', 'deployment', '.', 'owner', ',', 'this', '.', 'analyze_contract_features', '(', 'deployment', '.', 'code', ')', ')', 'if', 'this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')', '{', 'this', '.', 'seb_defi_integration', '.', 'track_contract', '(', 'contract_address', ',', 'deployment', '.', 'owner', ')', '}', 'return', 'DeploymentResult', '{', 'success', ':', 'true', ',', 'contract_address', ':', 'contract_address', ',', 'gas_used', ':', 'deployment_gas', ',', 'transaction_hash', ':', 'deploy_tx_', '+', 'contract_address', ',', 'security_level', ':', 'security_scan', '.', 'security_level', ',', 'seb_defi_tier', ':', 'this', '.', 'seb_defi_integration', '.', 'get_contract_tier', '(', 'contract_address', ')', '}', '}']
  [25] statement/} @ 881-881: ['}']
  [26] statement/ACTION @ 882-1059: ['action', 'simulate_call', '(', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'SimulationResult', '{', 'print', '(', 'ğŸ”® Simulating contract call: ', '+', 'call', '.', 'contract_address', '+', '.', '+', 'call', '.', 'function', ')', 'let', 'sandbox_id', '=', 'this', '.', 'create_sandbox_environment', '(', ')', 'let', 'sandbox_vm', '=', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', 'let', 'sandbox_result', '=', 'sandbox_vm', '.', 'execute_contract', '(', 'call', '.', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'success_prediction', '=', 'this', '.', 'predict_execution_success', '(', 'call', '.', 'contract_address', ',', 'call', '.', 'function', ',', 'context', '.', 'caller', ',', 'sandbox_result', ')', 'let', 'defi_impact_simulation', '=', 'this', '.', 'simulate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'call', ',', 'sandbox_result', ')', 'this', '.', 'destroy_sandbox_environment', '(', 'sandbox_id', ')', 'return', 'SimulationResult', '{', 'return_value', ':', 'sandbox_result', '.', 'return_value', ',', 'gas_used', ':', 'sandbox_result', '.', 'gas_used', ',', 'would_succeed', ':', 'success_prediction', '.', 'confidence', '>', '0.7', ',', 'estimated_gas', ':', 'this', '.', 'gas_tracker', '.', 'estimate_gas', '(', 'call', '.', 'contract_address', ',', 'call', ')', ',', 'ai_confidence', ':', 'success_prediction', '.', 'confidence', ',', 'risk_assessment', ':', 'success_prediction', '.', 'risks', ',', 'seb_defi_impact', ':', 'defi_impact_simulation', ',', 'suggested_improvements', ':', 'success_prediction', '.', 'improvements', '}', '}']
  [27] statement/} @ 1059-1059: ['}']
  [28] statement/ACTION @ 1060-1250: ['action', 'validate_contract_security', '(', 'code', ':', 'string', ',', 'deployer', ':', 'string', ')', '-', '>', 'SecurityAssessment', '{', 'let', 'assessment', '=', 'SecurityAssessment', '{', 'passed', ':', 'true', ',', 'issues', ':', '[', ']', ',', 'security_level', ':', 'HIGH', ',', 'ai_analysis', ':', '{', '}', ',', 'quantum_resistance', ':', 'this', '.', 'check_quantum_resistance', '(', 'code', ')', ',', 'seb_defi_compliance', ':', 'this', '.', 'check_seb_defi_compliance', '(', 'code', ')', ',', 'suggestions', ':', '[', ']', '}', 'let', 'static_issues', '=', 'this', '.', 'perform_static_analysis', '(', 'code', ')', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'static_issues', ')', 'let', 'ai_analysis', '=', 'this', '.', 'ai_security_scan', '(', 'code', ')', 'assessment', '.', 'ai_analysis', '=', 'ai_analysis', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'ai_analysis', '.', 'vulnerabilities', ')', 'if', 'not', 'assessment', '.', 'quantum_resistance', '.', 'adequate', '{', 'assessment', '.', 'issues', '.', 'push', '(', 'Inadequate quantum resistance measures', ')', '}', 'if', 'this', '.', 'contains_financial_operations', '(', 'code', ')', '{', 'let', 'compliance', '=', 'this', '.', 'seb_defi_integration', '.', 'analyze_compliance', '(', 'code', ')', 'assessment', '.', 'seb_defi_compliance', '=', 'compliance', 'if', 'not', 'compliance', '.', 'fully_compliant', '{', 'assessment', '.', 'issues', '.', 'push', '(', 'SEB-DeFi compliance issues detected', ')', '}', '}', 'assessment', '.', 'passed', '=', 'assessment', '.', 'issues', '.', 'is_empty', '(', ')', 'assessment', '.', 'security_level', '=', 'this', '.', 'calculate_security_level', '(', 'assessment', ')', 'return', 'assessment', '}']
  [29] statement/} @ 1250-1250: ['}']
  [30] statement/ACTION @ 1251-1298: ['action', 'is_financial_operation', '(', 'function', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'financial_keywords', '=', '[', 'transfer', ',', 'withdraw', ',', 'deposit', ',', 'borrow', ',', 'lend', ',', 'stake', ']', 'for', 'each', 'keyword', 'in', 'financial_keywords', '{', 'if', 'function', '.', 'contains', '(', 'keyword', ')', '{', 'return', 'true', '}', '}', 'return', 'false', '}']
  [31] statement/} @ 1298-1298: ['}']
  [32] statement/ACTION @ 1299-1344: ['action', 'is_defi_contract', '(', 'code', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'defi_patterns', '=', '[', 'lending', ',', 'borrowing', ',', 'staking', ',', 'yield', ',', 'liquidity', ']', 'for', 'each', 'pattern', 'in', 'defi_patterns', '{', 'if', 'code', '.', 'contains', '(', 'pattern', ')', '{', 'return', 'true', '}', '}', 'return', 'false', '}']
  [33] statement/} @ 1344-1344: ['}']
  [34] statement/ACTION @ 1345-1422: ['action', 'enhance_event_with_seb_data', '(', 'event', ':', 'any', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'any', '{', 'let', 'enhanced', '=', '{', '}', 'for', 'each', 'key', ',', 'value', 'in', 'event', '{', 'enhanced', '[', 'key', ']', '=', 'value', '}', 'enhanced', '[', 'seb_defi_context', ']', '=', '{', 'caller_social_capital', ':', 'context', '.', 'social_capital', ',', 'execution_tier', ':', 'this', '.', 'seb_defi_integration', '.', 'get_user_tier', '(', 'context', '.', 'caller', ')', ',', 'risk_adjusted', ':', 'true', ',', 'ai_verified', ':', 'this', '.', 'ai_verify_event', '(', 'event', ',', 'context', ')', '}', 'return', 'enhanced', '}']
  [35] statement/} @ 1422-1422: ['}']
  [36] statement/ACTION @ 1423-1549: ['action', 'record_execution', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ',', 'result', ':', 'any', ',', 'gas_used', ':', 'integer', ')', '{', 'let', 'record', '=', '{', 'contract_address', ':', 'contract_address', ',', 'function', ':', 'call', '.', 'function', ',', 'caller', ':', 'context', '.', 'caller', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'gas_used', ':', 'gas_used', ',', 'success', ':', 'result', '.', 'success', ',', 'social_capital', ':', 'context', '.', 'social_capital', ',', 'ai_assessment', ':', 'this', '.', 'generate_ai_assessment', '(', 'result', ')', ',', 'seb_defi_impact', ':', 'this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'result', ')', '}', 'this', '.', 'execution_history', '.', 'push', '(', 'record', ')', 'if', 'this', '.', 'execution_history', '.', 'count', '(', ')', '>', '10000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', '1000', ')', '}', '}']
  [37] statement/} @ 1549-1549: ['}']
  [38] statement/ACTION @ 1550-1650: ['action', 'initialize_virtual_machine', '(', ')', '-', '>', 'any', '{', 'return', '{', 'execute_contract', ':', 'action', '(', 'addr', ',', 'func', ',', 'args', ',', 'caller', ',', 'value', ',', 'ctx', ')', '{', 'return', '{', 'return_value', ':', 'args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']', ',', 'events', ':', '[', ']', ',', 'state_changes', ':', '{', '}', ',', 'success', ':', 'true', '}', '}', ',', 'deploy_contract_with_security', ':', 'action', '(', 'code', ',', 'owner', ',', 'balance', ')', '{', 'return', 'CONTRACT_', '+', 'crypto', '.', 'keccak256', '(', 'code', ')', '.', 'slice', '(', '0', ',', '16', ')', '}', ',', 'create_sandbox', ':', 'action', '(', ')', '{', 'return', '{', '}', '}', '}', '}']
  [39] statement/} @ 1650-1650: ['}']
  [40] statement/ACTION @ 1651-1697: ['action', 'create_sandbox_environment', '(', ')', '-', '>', 'string', '{', 'let', 'sandbox_id', '=', 'sandbox_', '+', 'crypto', '.', 'keccak256', '(', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', '=', 'this', '.', 'vm', '.', 'create_sandbox', '(', ')', 'return', 'sandbox_id', '}']
  [41] statement/} @ 1697-1697: ['}']
  [42] statement/ACTION @ 1698-1714: ['action', 'destroy_sandbox_environment', '(', 'sandbox_id', ':', 'string', ')', '{', 'this', '.', 'sandbox_environments', '.', 'delete', '(', 'sandbox_id', ')', '}']
  [43] statement/} @ 1714-1714: ['}']
  [44] statement/ACTION @ 1715-1755: ['action', 'predict_execution_success', '(', 'contract', ':', 'string', ',', 'function', ':', 'string', ',', 'caller', ':', 'string', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'confidence', ':', '0.85', ',', 'risks', ':', '[', 'none', ']', ',', 'improvements', ':', '[', ']', '}', '}']
  [45] statement/} @ 1755-1755: ['}']
  [46] statement/ACTION @ 1756-1789: ['action', 'simulate_seb_defi_impact', '(', 'caller', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'social_capital_change', ':', '0.1', ',', 'tier_impact', ':', 'none', ',', 'borrowing_power_change', ':', '0', '}', '}']
  [47] statement/} @ 1789-1789: ['}']
  [48] statement/ACTION @ 1790-1817: ['action', 'generate_ai_assessment', '(', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.9', ',', 'explanations', ':', '[', 'Execution completed successfully', ']', '}', '}']
  [49] statement/} @ 1817-1817: ['}']
  [50] statement/ACTION @ 1818-1843: ['action', 'calculate_seb_defi_impact', '(', 'caller', ':', 'string', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'social_capital_delta', ':', '0.05', ',', 'defi_activity_score', ':', '0.8', '}', '}']
  [51] statement/} @ 1843-1843: ['}']
  [52] statement/ACTION @ 1844-1867: ['action', 'check_quantum_resistance', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'adequate', ':', 'true', ',', 'measures', ':', '[', 'post_quantum_crypto', ']', '}', '}']
  [53] statement/} @ 1867-1867: ['}']
  [54] statement/ACTION @ 1868-1889: ['action', 'check_seb_defi_compliance', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'compliant', ':', 'true', ',', 'checks_passed', ':', '5', '}', '}']
  [55] statement/} @ 1889-1889: ['}']
  [56] statement/ACTION @ 1890-1904: ['action', 'perform_static_analysis', '(', 'code', ':', 'string', ')', '-', '>', 'list', '{', 'return', '[', ']', '}']
  [57] statement/} @ 1904-1904: ['}']
  [58] statement/ACTION @ 1905-1927: ['action', 'ai_security_scan', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'vulnerabilities', ':', '[', ']', ',', 'confidence', ':', '0.95', '}', '}']
  [59] statement/} @ 1927-1927: ['}']
  [60] statement/ACTION @ 1928-1953: ['action', 'contains_financial_operations', '(', 'code', ':', 'string', ')', '-', '>', 'boolean', '{', 'return', 'code', '.', 'contains', '(', 'transfer', ')', 'or', 'code', '.', 'contains', '(', 'balance', ')', '}']
  [61] statement/} @ 1953-1953: ['}']
  [62] statement/ACTION @ 1954-1977: ['action', 'calculate_security_level', '(', 'assessment', ':', 'SecurityAssessment', ')', '-', '>', 'string', '{', 'return', 'assessment', '.', 'issues', '.', 'is_empty', '(', ')', '?', 'HIGH', ':', 'MEDIUM', '}']
  [63] statement/} @ 1977-1977: ['}']
  [64] statement/ACTION @ 1978-1995: ['action', 'ai_verify_event', '(', 'event', ':', 'any', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'boolean', '{', 'return', 'true', '}']
  [65] statement/} @ 1995-1995: ['}']
  [66] statement/ACTION @ 1996-2019: ['action', 'analyze_contract_features', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'features', ':', '[', 'standard', ']', ',', 'complexity', ':', 'low', '}', '}']
  [67] statement/} @ 2019-2019: ['}']
  [68] statement/} @ 2020-2020: ['}']
  [69] statement/entity_statement @ 2021-2204: ['entity', 'GasTracker', '{', 'action', 'estimate_gas_with_ai', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'any', ',', 'context', ':', 'any', ')', '-', '>', 'integer', '{', 'let', 'base_cost', '=', '21000', 'let', 'function_cost', '=', 'call', '.', 'function', '.', 'length', '(', ')', '*', '100', 'let', 'args_cost', '=', 'call', '.', 'arguments', '.', 'count', '(', ')', '*', '500', 'let', 'value_cost', '=', 'call', '.', 'value', '>', '0', '?', '9000', ':', '0', 'let', 'complexity_cost', '=', 'this', '.', 'estimate_complexity_cost', '(', 'call', '.', 'function', ')', 'let', 'social_capital_discount', '=', 'integer', '(', '(', '1.0', '-', 'context', '.', 'social_capital', ')', '*', '1000', ')', 'return', 'base_cost', '+', 'function_cost', '+', 'args_cost', '+', 'value_cost', '+', 'complexity_cost', '-', 'social_capital_discount', '}', 'action', 'estimate_complexity_cost', '(', 'function', ':', 'string', ')', '-', '>', 'integer', '{', 'let', 'complex_functions', '=', '[', 'calculate_yield', ',', 'process_liquidity', ',', 'compound_rewards', ']', 'for', 'each', 'func', 'in', 'complex_functions', '{', 'if', 'function', '.', 'contains', '(', 'func', ')', '{', 'return', '5000', '}', '}', 'return', '1000', '}', 'action', 'calculate_actual_gas', '(', 'start_gas', ':', 'integer', ',', 'result', ':', 'any', ',', 'execution_time', ':', 'integer', ')', '-', '>', 'integer', '{', 'let', 'time_based_cost', '=', 'integer', '(', 'execution_time', '*', '1000', ')', 'return', 'math', '.', 'min', '(', 'start_gas', ',', '50000', '+', 'time_based_cost', ')', '}', '}']
  [70] statement/entity_statement @ 2205-2309: ['entity', 'SecurityManager', '{', 'action', 'can_execute_with_ai', '(', 'caller', ':', 'string', ',', 'contract', ':', 'string', ',', 'function', ':', 'string', ',', 'context', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'allowed', ':', 'true', ',', 'reason', ':', ',', 'ai_confidence', ':', '0.95', ',', 'risk_factors', ':', '[', ']', '}', '}', 'action', 'scan_contract_code', '(', 'code', ':', 'string', ',', 'owner', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'passed', ':', 'true', ',', 'issues', ':', '[', ']', ',', 'security_level', ':', 'HIGH', ',', 'quantum_secure', ':', 'true', '}', '}', 'action', 'register_contract_with_features', '(', 'contract_address', ':', 'string', ',', 'owner', ':', 'string', ',', 'features', ':', 'map', ')', '{', 'print', '(', 'âœ… Registered contract with enhanced security: ', '+', 'contract_address', ')', '}', '}']
  [71] statement/entity_statement @ 2310-2338: ['entity', 'EventEmitter', '{', 'action', 'emit_event', '(', 'event', ':', 'any', ')', '{', 'print', '(', 'ğŸ“¢ Enhanced event emitted: ', '+', 'string', '(', 'event', '.', 'get', '(', 'name', ',', 'unknown', ')', ')', ')', '}', '}']
  [72] statement/entity_statement @ 2339-2465: ['entity', 'SEBDeFiIntegration', '{', 'action', 'check_access', '(', 'caller', ':', 'string', ',', 'function', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'map', '{', 'return', '{', 'granted', ':', 'true', ',', 'reason', ':', '}', '}', 'action', 'validate_defi_compliance', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'valid', ':', 'true', ',', 'reasons', ':', '[', ']', '}', '}', 'action', 'track_contract', '(', 'contract_address', ':', 'string', ',', 'owner', ':', 'string', ')', '{', 'print', '(', 'ğŸ“Š Tracking SEB-DeFi contract: ', '+', 'contract_address', ')', '}', 'action', 'get_contract_tier', '(', 'contract_address', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'STANDARD', '}', 'action', 'get_user_tier', '(', 'caller', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'SILVER', '}', 'action', 'analyze_compliance', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'fully_compliant', ':', 'true', ',', 'issues', ':', '[', ']', '}', '}', '}']
  [73] statement/ACTION @ 2466-2564: ['action', 'async', 'test_advanced_contract_runtime', '(', ')', '{', 'print', '(', 'âš¡ Testing Advanced Contract Runtime...', ')', 'let', 'runtime', '=', 'ContractRuntime', '{', '}', 'let', 'test_call', '=', 'ContractCall', '{', 'contract_address', ':', 'CONTRACT_TEST', ',', 'function', ':', 'transfer', ',', 'arguments', ':', '[', 'ZIV_recipient', ',', '100', ']', ',', 'value', ':', '0', '}', 'let', 'context', '=', 'ExecutionContext', '{', 'caller', ':', 'ZIV_caller', ',', 'gas_limit', ':', '100000', ',', 'block_number', ':', '1', ',', 'transaction_hash', ':', 'test_tx', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'security_assessment', '=', 'runtime', '.', 'validate_contract_security', '(', 'contract_code', ',', 'deployer', ')', 'print', '(', 'Security Assessment: ', '+', 'string', '(', 'security_assessment', ')', ')', 'print', '(', 'âœ… Advanced Contract Runtime ready with SEB-DeFi integration', ')', '}']
  [74] statement/} @ 2564-2564: ['}']
  [75] statement/EXPORT @ 2565-2572: ['export', '{', 'ContractRuntime', ',', 'ContractRuntimeProtocol', ',', 'test_advanced_contract_runtime', '}']
  [76] statement/} @ 2572-2573: ['}']
ğŸ”§ Parsing 77 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math', 'protocol', 'ContractRuntimeProtocol', '{']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math', 'protocol', 'ContractRuntimeProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'execute_contract_call', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'ExecutionResult']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'deploy_contract', '(', 'deployment', ':', 'ContractDeployment', ')', '-', '>', 'DeploymentResult']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'simulate_call', '(', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'SimulationResult']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
  âœ… Parsed: BlockStatement at line 16
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_contract_security', '(', 'code', ':', 'string', ',', 'deployer', ':', 'string', ')', '-', '>', 'SecurityAssessment', '}', 'contract', 'ContractRuntime', 'implements', 'ContractRuntimeProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 16
  âœ… Parsed: BlockStatement at line 20
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['vm', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 20
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['gas_tracker', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
  âœ… Parsed: BlockStatement at line 22
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['event_emitter', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 22
  âœ… Parsed: BlockStatement at line 23
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['security_manager', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 23
  âœ… Parsed: BlockStatement at line 24
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['seb_defi_integration', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 24
  âœ… Parsed: BlockStatement at line 25
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['execution_history', ':', 'list']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 25
  âœ… Parsed: BlockStatement at line 26
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['sandbox_environments', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 26
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ContractCall
  ğŸ“ Found property name: contract_address
  ğŸ“ Property: contract_address: string
  ğŸ“ Found property name: function
  ğŸ“ Property: function: string
  ğŸ“ Found property name: arguments
  ğŸ“ Property: arguments: list
  ğŸ“ Found property name: value
  ğŸ“ Property: value: integer
  ğŸ“ Found property name: gas_limit
  ğŸ“ Property: gas_limit: integer
  âœ… Parsed: EntityStatement at line 28
  âœ… Parsed: EntityStatement at line 28
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ExecutionContext
  ğŸ“ Found property name: caller
  ğŸ“ Property: caller: string
  ğŸ“ Found property name: gas_limit
  ğŸ“ Property: gas_limit: integer
  ğŸ“ Found property name: block_number
  ğŸ“ Property: block_number: integer
  ğŸ“ Found property name: timestamp
  ğŸ“ Property: timestamp: integer
  ğŸ“ Found property name: transaction_hash
  ğŸ“ Property: transaction_hash: string
  ğŸ“ Found property name: social_capital
  ğŸ“ Property: social_capital: float
  ğŸ“ Found property name: chain_type
  ğŸ“ Property: chain_type: string
  âœ… Parsed: EntityStatement at line 36
  âœ… Parsed: EntityStatement at line 36
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ExecutionResult
  ğŸ“ Found property name: success
  ğŸ“ Property: success: boolean
  ğŸ“ Found property name: return_value
  ğŸ“ Property: return_value: any
  ğŸ“ Found property name: gas_used
  ğŸ“ Property: gas_used: integer
  ğŸ“ Found property name: events
  ğŸ“ Property: events: list
  ğŸ“ Found property name: state_changes
  ğŸ“ Property: state_changes: map
  ğŸ“ Found property name: ai_assessment
  ğŸ“ Property: ai_assessment: map
  ğŸ“ Found property name: seb_defi_impact
  ğŸ“ Property: seb_defi_impact: map
  âœ… Parsed: EntityStatement at line 46
  âœ… Parsed: EntityStatement at line 46
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: DeploymentResult
  ğŸ“ Found property name: success
  ğŸ“ Property: success: boolean
  ğŸ“ Found property name: contract_address
  ğŸ“ Property: contract_address: string
  ğŸ“ Found property name: gas_used
  ğŸ“ Property: gas_used: integer
  ğŸ“ Found property name: transaction_hash
  ğŸ“ Property: transaction_hash: string
  ğŸ“ Found property name: security_level
  ğŸ“ Property: security_level: string
  ğŸ“ Found property name: seb_defi_tier
  ğŸ“ Property: seb_defi_tier: string
  âœ… Parsed: EntityStatement at line 56
  âœ… Parsed: EntityStatement at line 56
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: SimulationResult
  ğŸ“ Found property name: return_value
  ğŸ“ Property: return_value: any
  ğŸ“ Found property name: gas_used
  ğŸ“ Property: gas_used: integer
  ğŸ“ Found property name: would_succeed
  ğŸ“ Property: would_succeed: boolean
  ğŸ“ Found property name: estimated_gas
  ğŸ“ Property: estimated_gas: integer
  ğŸ“ Found property name: ai_confidence
  ğŸ“ Property: ai_confidence: float
  ğŸ“ Found property name: risk_assessment
  ğŸ“ Property: risk_assessment: list
  ğŸ“ Found property name: seb_defi_impact
  ğŸ“ Property: seb_defi_impact: map
  ğŸ“ Found property name: suggested_improvements
  ğŸ“ Property: suggested_improvements: list
  âœ… Parsed: EntityStatement at line 65
  âœ… Parsed: EntityStatement at line 65
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: SecurityAssessment
  ğŸ“ Found property name: passed
  ğŸ“ Property: passed: boolean
  ğŸ“ Found property name: issues
  ğŸ“ Property: issues: list
  ğŸ“ Found property name: security_level
  ğŸ“ Property: security_level: string
  ğŸ“ Found property name: ai_analysis
  ğŸ“ Property: ai_analysis: map
  ğŸ“ Found property name: quantum_resistance
  ğŸ“ Property: quantum_resistance: map
  ğŸ“ Found property name: seb_defi_compliance
  ğŸ“ Property: seb_defi_compliance: map
  ğŸ“ Found property name: suggestions
  ğŸ“ Property: suggestions: list
  âœ… Parsed: EntityStatement at line 76
  âœ… Parsed: EntityStatement at line 76
  âœ… Parsed: BlockStatement at line 86
  ğŸ”§ Populating empty BlockStatement from 71 tokens
    ğŸ“ Parsing 71 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', ')', '{', 'this', '.', 'vm', '=', 'this', '.', 'initialize_virtual_machine', '(', ')', 'this', '.', 'gas_tracker', '=', 'GasTracker', '{', '}', 'this', '.', 'event_emitter', '=', 'EventEmitter', '{', '}', 'this', '.', 'security_manager', '=', 'SecurityManager', '{', '}', 'this', '.', 'seb_defi_integration', '=', 'SEBDeFiIntegration', '{', '}', 'this', '.', 'execution_history', '=', '[', ']', 'this', '.', 'sandbox_environments', '=', '{', '}', 'print', '(', 'ğŸ”„ Advanced Contract Runtime initialized', ')', 'print', '(', 'âœ… SEB-DeFi Integration: Active', ')', 'print', '(', 'âœ… Quantum Security: Enabled', ')', 'print', '(', 'âœ… AI Risk Assessment: Available', ')', '}']
    ğŸ“ Parsing 65 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'vm', '=', 'this', '.', 'initialize_virtual_machine', '(', ')', 'this', '.', 'gas_tracker', '=', 'GasTracker', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'event_emitter', '=', 'EventEmitter', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'security_manager', '=', 'SecurityManager', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'seb_defi_integration', '=', 'SEBDeFiIntegration', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'execution_history', '=', '[', ']', 'this', '.', 'sandbox_environments', '=', '{']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Advanced Contract Runtime initialized', ')', 'print', '(', 'âœ… SEB-DeFi Integration: Active', ')', 'print', '(', 'âœ… Quantum Security: Enabled', ')', 'print', '(', 'âœ… AI Risk Assessment: Available', ')']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 86
  âœ… Parsed: BlockStatement at line 99
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 99
  âœ… Parsed: BlockStatement at line 101
  ğŸ”§ Populating empty BlockStatement from 334 tokens
    ğŸ“ Parsing 334 tokens into statements
    ğŸ“ Found action statement: ['action', 'execute_contract_call', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'ExecutionResult', '{', 'print', '(', 'âš¡ Executing contract call: ', '+', 'contract_address', '+', '.', '+', 'call', '.', 'function', ')', 'let', 'security_check', '=', 'this', '.', 'security_manager', '.', 'can_execute_with_ai', '(', 'context', '.', 'caller', ',', 'contract_address', ',', 'call', '.', 'function', ',', 'context', ')', 'if', 'not', 'security_check', '.', 'allowed', '{', 'throw', 'Security violation: ', '+', 'security_check', '.', 'reason', '}', 'if', 'this', '.', 'is_financial_operation', '(', 'call', '.', 'function', ')', '{', 'let', 'defi_access', '=', 'this', '.', 'seb_defi_integration', '.', 'check_access', '(', 'context', '.', 'caller', ',', 'call', '.', 'function', ',', 'call', '.', 'value', ')', 'if', 'not', 'defi_access', '.', 'granted', '{', 'throw', 'SEB-DeFi access denied: ', '+', 'defi_access', '.', 'reason', '}', '}', 'let', 'estimated_gas', '=', 'this', '.', 'gas_tracker', '.', 'estimate_gas_with_ai', '(', 'contract_address', ',', 'call', ',', 'context', ')', 'if', 'context', '.', 'gas_limit', '<', 'estimated_gas', '{', 'throw', 'Insufficient gas: ', '+', 'string', '(', 'estimated_gas', ')', '+', ' required, ', '+', 'string', '(', 'context', '.', 'gas_limit', ')', '+', ' provided', '}', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_gas', '=', 'context', '.', 'gas_limit', 'let', 'result', '=', 'this', '.', 'vm', '.', 'execute_contract', '(', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'gas_used', '=', 'this', '.', 'gas_tracker', '.', 'calculate_actual_gas', '(', 'start_gas', ',', 'result', ',', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', ')', 'if', 'result', '.', 'events', '!=', 'null', 'and', 'not', 'result', '.', 'events', '.', 'is_empty', '(', ')', '{', 'for', 'each', 'event', 'in', 'result', '.', 'events', '{', 'let', 'enhanced_event', '=', 'this', '.', 'enhance_event_with_seb_data', '(', 'event', ',', 'context', ')', 'this', '.', 'event_emitter', '.', 'emit_event', '(', 'enhanced_event', ')', '}', '}', 'this', '.', 'record_execution', '(', 'contract_address', ',', 'call', ',', 'context', ',', 'result', ',', 'gas_used', ')', 'return', 'ExecutionResult', '{', 'success', ':', 'true', ',', 'return_value', ':', 'result', '.', 'return_value', ',', 'gas_used', ':', 'gas_used', ',', 'events', ':', 'result', '.', 'events', ',', 'state_changes', ':', 'result', '.', 'state_changes', ',', 'ai_assessment', ':', 'this', '.', 'generate_ai_assessment', '(', 'result', ')', ',', 'seb_defi_impact', ':', 'this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'result', ')', '}', '}']
    ğŸ“ Parsing 314 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'âš¡ Executing contract call: ', '+', 'contract_address', '+', '.', '+', 'call', '.', 'function', ')', 'let', 'security_check', '=', 'this', '.', 'security_manager', '.', 'can_execute_with_ai', '(', 'context', '.', 'caller', ',', 'contract_address', ',', 'call', '.', 'function', ',', 'context', ')', 'if', 'not', 'security_check', '.', 'allowed']
  ğŸ” Parsing expression from tokens: ['{', 'throw', 'Security violation: ', '+', 'security_check', '.', 'reason']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_financial_operation', '(', 'call', '.', 'function', ')', '{', 'let', 'defi_access', '=', 'this', '.', 'seb_defi_integration', '.', 'check_access', '(', 'context', '.', 'caller', ',', 'call', '.', 'function', ',', 'call', '.', 'value', ')', 'if', 'not', 'defi_access', '.', 'granted', '{', 'throw', 'SEB-DeFi access denied: ', '+', 'defi_access', '.', 'reason', '}']
  ğŸ” Parsing expression from tokens: ['call', '.', 'function']
    ğŸ“ Found let statement: ['let', 'estimated_gas', '=', 'this', '.', 'gas_tracker', '.', 'estimate_gas_with_ai', '(', 'contract_address', ',', 'call', ',', 'context', ')', 'if', 'context', '.', 'gas_limit', '<', 'estimated_gas']
  ğŸ” Parsing expression from tokens: ['this', '.', 'gas_tracker', '.', 'estimate_gas_with_ai', '(', 'contract_address', ',', 'call', ',', 'context', ')', 'if', 'context', '.', 'gas_limit', '<', 'estimated_gas']
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ” Parsing expression from tokens: ['call']
  ğŸ” Parsing expression from tokens: ['context']
  ğŸ” Parsing expression from tokens: ['{', 'throw', 'Insufficient gas: ', '+', 'string', '(', 'estimated_gas', ')', '+', ' required, ', '+', 'string', '(', 'context', '.', 'gas_limit', ')', '+', ' provided']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_gas', '=', 'context', '.', 'gas_limit', 'let', 'result', '=', 'this', '.', 'vm', '.', 'execute_contract', '(', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'gas_used', '=', 'this', '.', 'gas_tracker', '.', 'calculate_actual_gas', '(', 'start_gas', ',', 'result', ',', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', ')', 'if', 'result', '.', 'events', '!=', 'null', 'and', 'not', 'result', '.', 'events', '.', 'is_empty', '(', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_gas', '=', 'context', '.', 'gas_limit', 'let', 'result', '=', 'this', '.', 'vm', '.', 'execute_contract', '(', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'gas_used', '=', 'this', '.', 'gas_tracker', '.', 'calculate_actual_gas', '(', 'start_gas', ',', 'result', ',', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', ')', 'if', 'result', '.', 'events', '!=', 'null', 'and', 'not', 'result', '.', 'events', '.', 'is_empty', '(', ')']
  ğŸ” Parsing expression from tokens: ['{', 'for', 'each', 'event', 'in', 'result', '.', 'events', '{', 'let', 'enhanced_event', '=', 'this', '.', 'enhance_event_with_seb_data', '(', 'event', ',', 'context', ')', 'this', '.', 'event_emitter', '.', 'emit_event', '(', 'enhanced_event', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'record_execution', '(', 'contract_address', ',', 'call', ',', 'context', ',', 'result', ',', 'gas_used', ')']
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ” Parsing expression from tokens: ['call']
  ğŸ” Parsing expression from tokens: ['context']
  ğŸ” Parsing expression from tokens: ['result']
  ğŸ” Parsing expression from tokens: ['gas_used']
  ğŸ” Parsing expression from tokens: ['ExecutionResult', '{', 'success', ':', 'true', ',', 'return_value', ':', 'result', '.', 'return_value', ',', 'gas_used', ':', 'gas_used', ',', 'events', ':', 'result', '.', 'events', ',', 'state_changes', ':', 'result', '.', 'state_changes', ',', 'ai_assessment', ':', 'this', '.', 'generate_ai_assessment', '(', 'result', ')', ',', 'seb_defi_impact', ':', 'this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'result', ')']
    âœ… Parsed 9 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 101
  âœ… Parsed: BlockStatement at line 180
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 180
  âœ… Parsed: BlockStatement at line 182
  ğŸ”§ Populating empty BlockStatement from 213 tokens
    ğŸ“ Parsing 213 tokens into statements
    ğŸ“ Found action statement: ['action', 'deploy_contract', '(', 'deployment', ':', 'ContractDeployment', ')', '-', '>', 'DeploymentResult', '{', 'print', '(', 'ğŸ“¦ Deploying contract: ', '+', 'deployment', '.', 'name', ')', 'let', 'security_scan', '=', 'this', '.', 'security_manager', '.', 'scan_contract_code', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ')', 'if', 'not', 'security_scan', '.', 'passed', '{', 'throw', 'Contract security scan failed: ', '+', 'security_scan', '.', 'issues', '.', 'join', '(', ', ', ')', '}', 'if', 'this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')', '{', 'let', 'compliance', '=', 'this', '.', 'seb_defi_integration', '.', 'validate_defi_compliance', '(', 'deployment', '.', 'code', ')', 'if', 'not', 'compliance', '.', 'valid', '{', 'throw', 'SEB-DeFi compliance failed: ', '+', 'compliance', '.', 'reasons', '.', 'join', '(', ', ', ')', '}', '}', 'let', 'deployment_gas', '=', 'this', '.', 'gas_tracker', '.', 'estimate_deployment_gas_with_ai', '(', 'deployment', '.', 'code', ')', 'let', 'contract_address', '=', 'this', '.', 'vm', '.', 'deploy_contract_with_security', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ',', 'deployment', '.', 'initial_balance', ')', 'this', '.', 'security_manager', '.', 'register_contract_with_features', '(', 'contract_address', ',', 'deployment', '.', 'owner', ',', 'this', '.', 'analyze_contract_features', '(', 'deployment', '.', 'code', ')', ')', 'if', 'this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')', '{', 'this', '.', 'seb_defi_integration', '.', 'track_contract', '(', 'contract_address', ',', 'deployment', '.', 'owner', ')', '}', 'return', 'DeploymentResult', '{', 'success', ':', 'true', ',', 'contract_address', ':', 'contract_address', ',', 'gas_used', ':', 'deployment_gas', ',', 'transaction_hash', ':', 'deploy_tx_', '+', 'contract_address', ',', 'security_level', ':', 'security_scan', '.', 'security_level', ',', 'seb_defi_tier', ':', 'this', '.', 'seb_defi_integration', '.', 'get_contract_tier', '(', 'contract_address', ')', '}', '}']
    ğŸ“ Parsing 201 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“¦ Deploying contract: ', '+', 'deployment', '.', 'name', ')', 'let', 'security_scan', '=', 'this', '.', 'security_manager', '.', 'scan_contract_code', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ')', 'if', 'not', 'security_scan', '.', 'passed']
  ğŸ” Parsing expression from tokens: ['{', 'throw', 'Contract security scan failed: ', '+', 'security_scan', '.', 'issues', '.', 'join', '(', ', ', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')', '{', 'let', 'compliance', '=', 'this', '.', 'seb_defi_integration', '.', 'validate_defi_compliance', '(', 'deployment', '.', 'code', ')', 'if', 'not', 'compliance', '.', 'valid', '{', 'throw', 'SEB-DeFi compliance failed: ', '+', 'compliance', '.', 'reasons', '.', 'join', '(', ', ', ')', '}']
  ğŸ” Parsing expression from tokens: ['deployment', '.', 'code']
    ğŸ“ Found let statement: ['let', 'deployment_gas', '=', 'this', '.', 'gas_tracker', '.', 'estimate_deployment_gas_with_ai', '(', 'deployment', '.', 'code', ')', 'let', 'contract_address', '=', 'this', '.', 'vm', '.', 'deploy_contract_with_security', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ',', 'deployment', '.', 'initial_balance', ')', 'this', '.', 'security_manager', '.', 'register_contract_with_features', '(', 'contract_address', ',', 'deployment', '.', 'owner', ',', 'this', '.', 'analyze_contract_features', '(', 'deployment', '.', 'code', ')', ')', 'if', 'this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'gas_tracker', '.', 'estimate_deployment_gas_with_ai', '(', 'deployment', '.', 'code', ')', 'let', 'contract_address', '=', 'this', '.', 'vm', '.', 'deploy_contract_with_security', '(', 'deployment', '.', 'code', ',', 'deployment', '.', 'owner', ',', 'deployment', '.', 'initial_balance', ')', 'this', '.', 'security_manager', '.', 'register_contract_with_features', '(', 'contract_address', ',', 'deployment', '.', 'owner', ',', 'this', '.', 'analyze_contract_features', '(', 'deployment', '.', 'code', ')', ')', 'if', 'this', '.', 'is_defi_contract', '(', 'deployment', '.', 'code', ')']
  ğŸ” Parsing expression from tokens: ['deployment', '.', 'code']
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'seb_defi_integration', '.', 'track_contract', '(', 'contract_address', ',', 'deployment', '.', 'owner', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['DeploymentResult', '{', 'success', ':', 'true', ',', 'contract_address', ':', 'contract_address', ',', 'gas_used', ':', 'deployment_gas', ',', 'transaction_hash', ':', 'deploy_tx_', '+', 'contract_address', ',', 'security_level', ':', 'security_scan', '.', 'security_level', ',', 'seb_defi_tier', ':', 'this', '.', 'seb_defi_integration', '.', 'get_contract_tier', '(', 'contract_address', ')']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 182
  âœ… Parsed: BlockStatement at line 233
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 233
  âœ… Parsed: BlockStatement at line 235
  ğŸ”§ Populating empty BlockStatement from 178 tokens
    ğŸ“ Parsing 178 tokens into statements
    ğŸ“ Found action statement: ['action', 'simulate_call', '(', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'SimulationResult', '{', 'print', '(', 'ğŸ”® Simulating contract call: ', '+', 'call', '.', 'contract_address', '+', '.', '+', 'call', '.', 'function', ')', 'let', 'sandbox_id', '=', 'this', '.', 'create_sandbox_environment', '(', ')', 'let', 'sandbox_vm', '=', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', 'let', 'sandbox_result', '=', 'sandbox_vm', '.', 'execute_contract', '(', 'call', '.', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'success_prediction', '=', 'this', '.', 'predict_execution_success', '(', 'call', '.', 'contract_address', ',', 'call', '.', 'function', ',', 'context', '.', 'caller', ',', 'sandbox_result', ')', 'let', 'defi_impact_simulation', '=', 'this', '.', 'simulate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'call', ',', 'sandbox_result', ')', 'this', '.', 'destroy_sandbox_environment', '(', 'sandbox_id', ')', 'return', 'SimulationResult', '{', 'return_value', ':', 'sandbox_result', '.', 'return_value', ',', 'gas_used', ':', 'sandbox_result', '.', 'gas_used', ',', 'would_succeed', ':', 'success_prediction', '.', 'confidence', '>', '0.7', ',', 'estimated_gas', ':', 'this', '.', 'gas_tracker', '.', 'estimate_gas', '(', 'call', '.', 'contract_address', ',', 'call', ')', ',', 'ai_confidence', ':', 'success_prediction', '.', 'confidence', ',', 'risk_assessment', ':', 'success_prediction', '.', 'risks', ',', 'seb_defi_impact', ':', 'defi_impact_simulation', ',', 'suggested_improvements', ':', 'success_prediction', '.', 'improvements', '}', '}']
    ğŸ“ Parsing 162 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”® Simulating contract call: ', '+', 'call', '.', 'contract_address', '+', '.', '+', 'call', '.', 'function', ')', 'let', 'sandbox_id', '=', 'this', '.', 'create_sandbox_environment', '(', ')', 'let', 'sandbox_vm', '=', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', 'let', 'sandbox_result', '=', 'sandbox_vm', '.', 'execute_contract', '(', 'call', '.', 'contract_address', ',', 'call', '.', 'function', ',', 'call', '.', 'arguments', ',', 'context', '.', 'caller', ',', 'call', '.', 'value', ',', 'context', ')', 'let', 'success_prediction', '=', 'this', '.', 'predict_execution_success', '(', 'call', '.', 'contract_address', ',', 'call', '.', 'function', ',', 'context', '.', 'caller', ',', 'sandbox_result', ')', 'let', 'defi_impact_simulation', '=', 'this', '.', 'simulate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'call', ',', 'sandbox_result', ')', 'this', '.', 'destroy_sandbox_environment', '(', 'sandbox_id', ')', 'return', 'SimulationResult']
  ğŸ” Parsing expression from tokens: ['{', 'return_value', ':', 'sandbox_result', '.', 'return_value', ',', 'gas_used', ':', 'sandbox_result', '.', 'gas_used', ',', 'would_succeed', ':', 'success_prediction', '.', 'confidence', '>', '0.7', ',', 'estimated_gas', ':', 'this', '.', 'gas_tracker', '.', 'estimate_gas', '(', 'call', '.', 'contract_address', ',', 'call', ')', ',', 'ai_confidence', ':', 'success_prediction', '.', 'confidence', ',', 'risk_assessment', ':', 'success_prediction', '.', 'risks', ',', 'seb_defi_impact', ':', 'defi_impact_simulation', ',', 'suggested_improvements', ':', 'success_prediction', '.', 'improvements']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['sandbox_result', '.', 'return_value']
  ğŸ—ºï¸ [Map] Added pair: return_value -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['sandbox_result', '.', 'gas_used']
  ğŸ—ºï¸ [Map] Added pair: gas_used -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['success_prediction', '.', 'confidence', '>', '0.7']
  ğŸ” Parsing expression from tokens: ['0.7']
  ğŸ—ºï¸ [Map] Added pair: would_succeed -> InfixExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'gas_tracker', '.', 'estimate_gas', '(', 'call', '.', 'contract_address']
  ğŸ” Parsing expression from tokens: ['call', '.', 'contract_address']
  ğŸ—ºï¸ [Map] Added pair: estimated_gas -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['success_prediction', '.', 'confidence']
  ğŸ—ºï¸ [Map] Added pair: ai_confidence -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['success_prediction', '.', 'risks']
  ğŸ—ºï¸ [Map] Added pair: risk_assessment -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['defi_impact_simulation']
  ğŸ—ºï¸ [Map] Added pair: seb_defi_impact -> Identifier
  ğŸ” Parsing expression from tokens: ['success_prediction', '.', 'improvements']
  ğŸ—ºï¸ [Map] Added pair: suggested_improvements -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 8 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 235
  âœ… Parsed: BlockStatement at line 279
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 279
  âœ… Parsed: BlockStatement at line 281
  ğŸ”§ Populating empty BlockStatement from 191 tokens
    ğŸ“ Parsing 191 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_contract_security', '(', 'code', ':', 'string', ',', 'deployer', ':', 'string', ')', '-', '>', 'SecurityAssessment', '{', 'let', 'assessment', '=', 'SecurityAssessment', '{', 'passed', ':', 'true', ',', 'issues', ':', '[', ']', ',', 'security_level', ':', 'HIGH', ',', 'ai_analysis', ':', '{', '}', ',', 'quantum_resistance', ':', 'this', '.', 'check_quantum_resistance', '(', 'code', ')', ',', 'seb_defi_compliance', ':', 'this', '.', 'check_seb_defi_compliance', '(', 'code', ')', ',', 'suggestions', ':', '[', ']', '}', 'let', 'static_issues', '=', 'this', '.', 'perform_static_analysis', '(', 'code', ')', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'static_issues', ')', 'let', 'ai_analysis', '=', 'this', '.', 'ai_security_scan', '(', 'code', ')', 'assessment', '.', 'ai_analysis', '=', 'ai_analysis', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'ai_analysis', '.', 'vulnerabilities', ')', 'if', 'not', 'assessment', '.', 'quantum_resistance', '.', 'adequate', '{', 'assessment', '.', 'issues', '.', 'push', '(', 'Inadequate quantum resistance measures', ')', '}', 'if', 'this', '.', 'contains_financial_operations', '(', 'code', ')', '{', 'let', 'compliance', '=', 'this', '.', 'seb_defi_integration', '.', 'analyze_compliance', '(', 'code', ')', 'assessment', '.', 'seb_defi_compliance', '=', 'compliance', 'if', 'not', 'compliance', '.', 'fully_compliant', '{', 'assessment', '.', 'issues', '.', 'push', '(', 'SEB-DeFi compliance issues detected', ')', '}', '}', 'assessment', '.', 'passed', '=', 'assessment', '.', 'issues', '.', 'is_empty', '(', ')', 'assessment', '.', 'security_level', '=', 'this', '.', 'calculate_security_level', '(', 'assessment', ')', 'return', 'assessment', '}']
    ğŸ“ Parsing 175 tokens into statements
    ğŸ“ Found let statement: ['let', 'assessment', '=', 'SecurityAssessment']
  ğŸ” Parsing expression from tokens: ['SecurityAssessment']
  ğŸ” Parsing expression from tokens: ['{', 'passed', ':', 'true', ',', 'issues', ':', '[', ']', ',', 'security_level', ':', 'HIGH', ',', 'ai_analysis', ':', '{', '}', ',', 'quantum_resistance', ':', 'this', '.', 'check_quantum_resistance', '(', 'code', ')', ',', 'seb_defi_compliance', ':', 'this', '.', 'check_seb_defi_compliance', '(', 'code', ')', ',', 'suggestions', ':', '[', ']']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: passed -> Boolean
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ—ºï¸ [Map] Added pair: issues -> ListLiteral
  ğŸ” Parsing expression from tokens: ['HIGH']
  ğŸ—ºï¸ [Map] Added pair: security_level -> StringLiteral
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ—ºï¸ [Map] Added pair: ai_analysis -> MapLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    ğŸ“ Found let statement: ['let', 'static_issues', '=', 'this', '.', 'perform_static_analysis', '(', 'code', ')', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'static_issues', ')', 'let', 'ai_analysis', '=', 'this', '.', 'ai_security_scan', '(', 'code', ')', 'assessment', '.', 'ai_analysis', '=', 'ai_analysis', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'ai_analysis', '.', 'vulnerabilities', ')', 'if', 'not', 'assessment', '.', 'quantum_resistance', '.', 'adequate']
  ğŸ” Parsing expression from tokens: ['this', '.', 'perform_static_analysis', '(', 'code', ')', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'static_issues', ')', 'let', 'ai_analysis', '=', 'this', '.', 'ai_security_scan', '(', 'code', ')', 'assessment', '.', 'ai_analysis', '=', 'ai_analysis', 'assessment', '.', 'issues', '=', 'assessment', '.', 'issues', '.', 'concat', '(', 'ai_analysis', '.', 'vulnerabilities', ')', 'if', 'not', 'assessment', '.', 'quantum_resistance', '.', 'adequate']
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ” Parsing expression from tokens: ['{', 'assessment', '.', 'issues', '.', 'push', '(', 'Inadequate quantum resistance measures', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'contains_financial_operations', '(', 'code', ')', '{', 'let', 'compliance', '=', 'this', '.', 'seb_defi_integration', '.', 'analyze_compliance', '(', 'code', ')', 'assessment', '.', 'seb_defi_compliance', '=', 'compliance', 'if', 'not', 'compliance', '.', 'fully_compliant', '{', 'assessment', '.', 'issues', '.', 'push', '(', 'SEB-DeFi compliance issues detected', ')', '}']
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ” Parsing expression from tokens: ['assessment', '.', 'passed', '=', 'assessment', '.', 'issues', '.', 'is_empty', '(', ')', 'assessment', '.', 'security_level', '=', 'this', '.', 'calculate_security_level', '(', 'assessment', ')']
  ğŸ” Parsing expression from tokens: ['assessment']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 281
  âœ… Parsed: BlockStatement at line 319
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 319
  âœ… Parsed: BlockStatement at line 322
  ğŸ”§ Populating empty BlockStatement from 48 tokens
    ğŸ“ Parsing 48 tokens into statements
    ğŸ“ Found action statement: ['action', 'is_financial_operation', '(', 'function', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'financial_keywords', '=', '[', 'transfer', ',', 'withdraw', ',', 'deposit', ',', 'borrow', ',', 'lend', ',', 'stake', ']', 'for', 'each', 'keyword', 'in', 'financial_keywords', '{', 'if', 'function', '.', 'contains', '(', 'keyword', ')', '{', 'return', 'true', '}', '}', 'return', 'false', '}']
    ğŸ“ Parsing 36 tokens into statements
    ğŸ“ Found let statement: ['let', 'financial_keywords', '=', '[', 'transfer', ',', 'withdraw', ',', 'deposit', ',', 'borrow', ',', 'lend', ',', 'stake', ']', 'for', 'each', 'keyword', 'in', 'financial_keywords']
  ğŸ” Parsing expression from tokens: ['[', 'transfer', ',', 'withdraw', ',', 'deposit', ',', 'borrow', ',', 'lend', ',', 'stake', ']', 'for', 'each', 'keyword', 'in', 'financial_keywords']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['transfer']
  ğŸ” Parsing expression from tokens: ['withdraw']
  ğŸ” Parsing expression from tokens: ['deposit']
  ğŸ” Parsing expression from tokens: ['borrow']
  ğŸ” Parsing expression from tokens: ['lend']
  ğŸ” Parsing expression from tokens: ['stake']
  ğŸ” Parsing expression from tokens: ['stake']
  âœ… Parsed list with 7 elements
  ğŸ” Parsing expression from tokens: ['{', 'if', 'function', '.', 'contains', '(', 'keyword', ')', '{', 'return', 'true', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['false']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 322
  âœ… Parsed: BlockStatement at line 330
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 330
  âœ… Parsed: BlockStatement at line 332
  ğŸ”§ Populating empty BlockStatement from 46 tokens
    ğŸ“ Parsing 46 tokens into statements
    ğŸ“ Found action statement: ['action', 'is_defi_contract', '(', 'code', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'defi_patterns', '=', '[', 'lending', ',', 'borrowing', ',', 'staking', ',', 'yield', ',', 'liquidity', ']', 'for', 'each', 'pattern', 'in', 'defi_patterns', '{', 'if', 'code', '.', 'contains', '(', 'pattern', ')', '{', 'return', 'true', '}', '}', 'return', 'false', '}']
    ğŸ“ Parsing 34 tokens into statements
    ğŸ“ Found let statement: ['let', 'defi_patterns', '=', '[', 'lending', ',', 'borrowing', ',', 'staking', ',', 'yield', ',', 'liquidity', ']', 'for', 'each', 'pattern', 'in', 'defi_patterns']
  ğŸ” Parsing expression from tokens: ['[', 'lending', ',', 'borrowing', ',', 'staking', ',', 'yield', ',', 'liquidity', ']', 'for', 'each', 'pattern', 'in', 'defi_patterns']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['lending']
  ğŸ” Parsing expression from tokens: ['borrowing']
  ğŸ” Parsing expression from tokens: ['staking']
  ğŸ” Parsing expression from tokens: ['yield']
  ğŸ” Parsing expression from tokens: ['liquidity']
  ğŸ” Parsing expression from tokens: ['liquidity']
  âœ… Parsed list with 6 elements
  ğŸ” Parsing expression from tokens: ['{', 'if', 'code', '.', 'contains', '(', 'pattern', ')', '{', 'return', 'true', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['false']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 332
  âœ… Parsed: BlockStatement at line 340
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 340
  âœ… Parsed: BlockStatement at line 342
  ğŸ”§ Populating empty BlockStatement from 78 tokens
    ğŸ“ Parsing 78 tokens into statements
    ğŸ“ Found action statement: ['action', 'enhance_event_with_seb_data', '(', 'event', ':', 'any', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'any', '{', 'let', 'enhanced', '=', '{', '}', 'for', 'each', 'key', ',', 'value', 'in', 'event', '{', 'enhanced', '[', 'key', ']', '=', 'value', '}', 'enhanced', '[', 'seb_defi_context', ']', '=', '{', 'caller_social_capital', ':', 'context', '.', 'social_capital', ',', 'execution_tier', ':', 'this', '.', 'seb_defi_integration', '.', 'get_user_tier', '(', 'context', '.', 'caller', ')', ',', 'risk_adjusted', ':', 'true', ',', 'ai_verified', ':', 'this', '.', 'ai_verify_event', '(', 'event', ',', 'context', ')', '}', 'return', 'enhanced', '}']
    ğŸ“ Parsing 62 tokens into statements
    ğŸ“ Found let statement: ['let', 'enhanced', '=']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'key', ',', 'value', 'in', 'event', '{', 'enhanced', '[', 'key', ']', '=', 'value']
  ğŸ” Parsing expression from tokens: ['enhanced', '[', 'seb_defi_context', ']', '=', '{', 'caller_social_capital', ':', 'context', '.', 'social_capital', ',', 'execution_tier', ':', 'this', '.', 'seb_defi_integration', '.', 'get_user_tier', '(', 'context', '.', 'caller', ')', ',', 'risk_adjusted', ':', 'true', ',', 'ai_verified', ':', 'this', '.', 'ai_verify_event', '(', 'event', ',', 'context', ')']
  ğŸ” Parsing expression from tokens: ['enhanced']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 342
  âœ… Parsed: BlockStatement at line 354
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 354
  âœ… Parsed: BlockStatement at line 356
  ğŸ”§ Populating empty BlockStatement from 127 tokens
    ğŸ“ Parsing 127 tokens into statements
    ğŸ“ Found action statement: ['action', 'record_execution', '(', 'contract_address', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'context', ':', 'ExecutionContext', ',', 'result', ':', 'any', ',', 'gas_used', ':', 'integer', ')', '{', 'let', 'record', '=', '{', 'contract_address', ':', 'contract_address', ',', 'function', ':', 'call', '.', 'function', ',', 'caller', ':', 'context', '.', 'caller', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'gas_used', ':', 'gas_used', ',', 'success', ':', 'result', '.', 'success', ',', 'social_capital', ':', 'context', '.', 'social_capital', ',', 'ai_assessment', ':', 'this', '.', 'generate_ai_assessment', '(', 'result', ')', ',', 'seb_defi_impact', ':', 'this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'result', ')', '}', 'this', '.', 'execution_history', '.', 'push', '(', 'record', ')', 'if', 'this', '.', 'execution_history', '.', 'count', '(', ')', '>', '10000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', '1000', ')', '}', '}']
    ğŸ“ Parsing 102 tokens into statements
    ğŸ“ Found let statement: ['let', 'record', '=']
  ğŸ” Parsing expression from tokens: ['{', 'contract_address', ':', 'contract_address', ',', 'function', ':', 'call', '.', 'function', ',', 'caller', ':', 'context', '.', 'caller', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'gas_used', ':', 'gas_used', ',', 'success', ':', 'result', '.', 'success', ',', 'social_capital', ':', 'context', '.', 'social_capital', ',', 'ai_assessment', ':', 'this', '.', 'generate_ai_assessment', '(', 'result', ')', ',', 'seb_defi_impact', ':', 'this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller', ',', 'result', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ—ºï¸ [Map] Added pair: contract_address -> Identifier
  ğŸ” Parsing expression from tokens: ['call', '.', 'function']
  ğŸ—ºï¸ [Map] Added pair: function -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['context', '.', 'caller']
  ğŸ—ºï¸ [Map] Added pair: caller -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['gas_used']
  ğŸ—ºï¸ [Map] Added pair: gas_used -> Identifier
  ğŸ” Parsing expression from tokens: ['result', '.', 'success']
  ğŸ—ºï¸ [Map] Added pair: success -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['context', '.', 'social_capital']
  ğŸ—ºï¸ [Map] Added pair: social_capital -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'generate_ai_assessment', '(', 'result', ')']
  ğŸ” Parsing expression from tokens: ['result']
  ğŸ—ºï¸ [Map] Added pair: ai_assessment -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_seb_defi_impact', '(', 'context', '.', 'caller']
  ğŸ” Parsing expression from tokens: ['context', '.', 'caller']
  ğŸ—ºï¸ [Map] Added pair: seb_defi_impact -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 9 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'execution_history', '.', 'push', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['record']
  ğŸ” Parsing expression from tokens: ['this', '.', 'execution_history', '.', 'count', '(', ')', '>', '10000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', '1000', ')']
  ğŸ” Parsing expression from tokens: ['10000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', '1000', ')']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 356
  âœ… Parsed: BlockStatement at line 375
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 375
  âœ… Parsed: BlockStatement at line 378
  ğŸ”§ Populating empty BlockStatement from 101 tokens
    ğŸ“ Parsing 101 tokens into statements
    ğŸ“ Found action statement: ['action', 'initialize_virtual_machine', '(', ')', '-', '>', 'any', '{', 'return', '{', 'execute_contract', ':', 'action', '(', 'addr', ',', 'func', ',', 'args', ',', 'caller', ',', 'value', ',', 'ctx', ')', '{', 'return', '{', 'return_value', ':', 'args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']', ',', 'events', ':', '[', ']', ',', 'state_changes', ':', '{', '}', ',', 'success', ':', 'true', '}', '}', ',', 'deploy_contract_with_security', ':', 'action', '(', 'code', ',', 'owner', ',', 'balance', ')', '{', 'return', 'CONTRACT_', '+', 'crypto', '.', 'keccak256', '(', 'code', ')', '.', 'slice', '(', '0', ',', '16', ')', '}', ',', 'create_sandbox', ':', 'action', '(', ')', '{', 'return', '{', '}', '}', '}', '}']
    ğŸ“ Parsing 92 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'execute_contract', ':', 'action', '(', 'addr', ',', 'func', ',', 'args', ',', 'caller', ',', 'value', ',', 'ctx', ')', '{', 'return', '{', 'return_value', ':', 'args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']', ',', 'events', ':', '[', ']', ',', 'state_changes', ':', '{', '}', ',', 'success', ':', 'true', '}', '}', ',', 'deploy_contract_with_security', ':', 'action', '(', 'code', ',', 'owner', ',', 'balance', ')', '{', 'return', 'CONTRACT_', '+', 'crypto', '.', 'keccak256', '(', 'code', ')', '.', 'slice', '(', '0', ',', '16', ')', '}', ',', 'create_sandbox', ':', 'action', '(', ')', '{', 'return', '{', '}', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['action', '(', 'addr']
  ğŸ” Parsing expression from tokens: ['addr']
  ğŸ—ºï¸ [Map] Added pair: execute_contract -> CallExpression
  ğŸ” Parsing expression from tokens: ['args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']']
  ğŸ—ºï¸ [Map] Added pair: return_value -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ—ºï¸ [Map] Added pair: events -> ListLiteral
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ—ºï¸ [Map] Added pair: state_changes -> MapLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 378
  âœ… Parsed: BlockStatement at line 393
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 393
  âœ… Parsed: BlockStatement at line 395
  ğŸ”§ Populating empty BlockStatement from 47 tokens
    ğŸ“ Parsing 47 tokens into statements
    ğŸ“ Found action statement: ['action', 'create_sandbox_environment', '(', ')', '-', '>', 'string', '{', 'let', 'sandbox_id', '=', 'sandbox_', '+', 'crypto', '.', 'keccak256', '(', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', '=', 'this', '.', 'vm', '.', 'create_sandbox', '(', ')', 'return', 'sandbox_id', '}']
    ğŸ“ Parsing 38 tokens into statements
    ğŸ“ Found let statement: ['let', 'sandbox_id', '=', 'sandbox_', '+', 'crypto', '.', 'keccak256', '(', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', '=', 'this', '.', 'vm', '.', 'create_sandbox', '(', ')', 'return', 'sandbox_id']
  ğŸ” Parsing expression from tokens: ['sandbox_', '+', 'crypto', '.', 'keccak256', '(', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', '=', 'this', '.', 'vm', '.', 'create_sandbox', '(', ')', 'return', 'sandbox_id']
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'keccak256', '(', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', ')', 'this', '.', 'sandbox_environments', '[', 'sandbox_id', ']', '=', 'this', '.', 'vm', '.', 'create_sandbox', '(', ')', 'return', 'sandbox_id']
  ğŸ” Parsing expression from tokens: ['string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 395
  âœ… Parsed: BlockStatement at line 399
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 399
  âœ… Parsed: BlockStatement at line 401
  ğŸ”§ Populating empty BlockStatement from 17 tokens
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found action statement: ['action', 'destroy_sandbox_environment', '(', 'sandbox_id', ':', 'string', ')', '{', 'this', '.', 'sandbox_environments', '.', 'delete', '(', 'sandbox_id', ')', '}']
    ğŸ“ Parsing 8 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'sandbox_environments', '.', 'delete', '(', 'sandbox_id', ')']
  ğŸ” Parsing expression from tokens: ['sandbox_id']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 401
  âœ… Parsed: BlockStatement at line 403
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 403
  âœ… Parsed: BlockStatement at line 405
  ğŸ”§ Populating empty BlockStatement from 41 tokens
    ğŸ“ Parsing 41 tokens into statements
    ğŸ“ Found action statement: ['action', 'predict_execution_success', '(', 'contract', ':', 'string', ',', 'function', ':', 'string', ',', 'caller', ':', 'string', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'confidence', ':', '0.85', ',', 'risks', ':', '[', 'none', ']', ',', 'improvements', ':', '[', ']', '}', '}']
    ğŸ“ Parsing 17 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'confidence', ':', '0.85', ',', 'risks', ':', '[', 'none', ']', ',', 'improvements', ':', '[', ']']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.85']
  ğŸ—ºï¸ [Map] Added pair: confidence -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['[', 'none', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['none']
  ğŸ” Parsing expression from tokens: ['none']
  âœ… Parsed list with 2 elements
  ğŸ—ºï¸ [Map] Added pair: risks -> ListLiteral
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ—ºï¸ [Map] Added pair: improvements -> ListLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 405
  âœ… Parsed: BlockStatement at line 411
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 411
  âœ… Parsed: BlockStatement at line 413
  ğŸ”§ Populating empty BlockStatement from 34 tokens
    ğŸ“ Parsing 34 tokens into statements
    ğŸ“ Found action statement: ['action', 'simulate_seb_defi_impact', '(', 'caller', ':', 'string', ',', 'call', ':', 'ContractCall', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'social_capital_change', ':', '0.1', ',', 'tier_impact', ':', 'none', ',', 'borrowing_power_change', ':', '0', '}', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'social_capital_change', ':', '0.1', ',', 'tier_impact', ':', 'none', ',', 'borrowing_power_change', ':', '0']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.1']
  ğŸ—ºï¸ [Map] Added pair: social_capital_change -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['none']
  ğŸ—ºï¸ [Map] Added pair: tier_impact -> StringLiteral
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: borrowing_power_change -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 413
  âœ… Parsed: BlockStatement at line 419
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 419
  âœ… Parsed: BlockStatement at line 421
  ğŸ”§ Populating empty BlockStatement from 28 tokens
    ğŸ“ Parsing 28 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_ai_assessment', '(', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.9', ',', 'explanations', ':', '[', 'Execution completed successfully', ']', '}', '}']
    ğŸ“ Parsing 16 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.9', ',', 'explanations', ':', '[', 'Execution completed successfully', ']']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['low']
  ğŸ—ºï¸ [Map] Added pair: risk_level -> StringLiteral
  ğŸ” Parsing expression from tokens: ['0.9']
  ğŸ—ºï¸ [Map] Added pair: confidence -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['[', 'Execution completed successfully', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['Execution completed successfully']
  ğŸ” Parsing expression from tokens: ['Execution completed successfully']
  âœ… Parsed list with 2 elements
  ğŸ—ºï¸ [Map] Added pair: explanations -> ListLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 421
  âœ… Parsed: BlockStatement at line 427
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 427
  âœ… Parsed: BlockStatement at line 429
  ğŸ”§ Populating empty BlockStatement from 26 tokens
    ğŸ“ Parsing 26 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_seb_defi_impact', '(', 'caller', ':', 'string', ',', 'result', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'social_capital_delta', ':', '0.05', ',', 'defi_activity_score', ':', '0.8', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'social_capital_delta', ':', '0.05', ',', 'defi_activity_score', ':', '0.8']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0.05']
  ğŸ—ºï¸ [Map] Added pair: social_capital_delta -> FloatLiteral
  ğŸ” Parsing expression from tokens: ['0.8']
  ğŸ—ºï¸ [Map] Added pair: defi_activity_score -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 429
  âœ… Parsed: BlockStatement at line 434
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 434
  âœ… Parsed: BlockStatement at line 436
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'check_quantum_resistance', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'adequate', ':', 'true', ',', 'measures', ':', '[', 'post_quantum_crypto', ']', '}', '}']
    ğŸ“ Parsing 12 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'adequate', ':', 'true', ',', 'measures', ':', '[', 'post_quantum_crypto', ']']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: adequate -> Boolean
  ğŸ” Parsing expression from tokens: ['[', 'post_quantum_crypto', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['post_quantum_crypto']
  ğŸ” Parsing expression from tokens: ['post_quantum_crypto']
  âœ… Parsed list with 2 elements
  ğŸ—ºï¸ [Map] Added pair: measures -> ListLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 436
  âœ… Parsed: BlockStatement at line 438
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 438
  âœ… Parsed: BlockStatement at line 440
  ğŸ”§ Populating empty BlockStatement from 22 tokens
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found action statement: ['action', 'check_seb_defi_compliance', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'compliant', ':', 'true', ',', 'checks_passed', ':', '5', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'compliant', ':', 'true', ',', 'checks_passed', ':', '5']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: compliant -> Boolean
  ğŸ” Parsing expression from tokens: ['5']
  ğŸ—ºï¸ [Map] Added pair: checks_passed -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 440
  âœ… Parsed: BlockStatement at line 442
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 442
  âœ… Parsed: BlockStatement at line 444
  ğŸ”§ Populating empty BlockStatement from 15 tokens
    ğŸ“ Parsing 15 tokens into statements
    ğŸ“ Found action statement: ['action', 'perform_static_analysis', '(', 'code', ':', 'string', ')', '-', '>', 'list', '{', 'return', '[', ']', '}']
    ğŸ“ Parsing 3 tokens into statements
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 444
  âœ… Parsed: BlockStatement at line 446
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 446
  âœ… Parsed: BlockStatement at line 448
  ğŸ”§ Populating empty BlockStatement from 23 tokens
    ğŸ“ Parsing 23 tokens into statements
    ğŸ“ Found action statement: ['action', 'ai_security_scan', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'vulnerabilities', ':', '[', ']', ',', 'confidence', ':', '0.95', '}', '}']
    ğŸ“ Parsing 11 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'vulnerabilities', ':', '[', ']', ',', 'confidence', ':', '0.95']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ—ºï¸ [Map] Added pair: vulnerabilities -> ListLiteral
  ğŸ” Parsing expression from tokens: ['0.95']
  ğŸ—ºï¸ [Map] Added pair: confidence -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 448
  âœ… Parsed: BlockStatement at line 450
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 450
  âœ… Parsed: BlockStatement at line 452
  ğŸ”§ Populating empty BlockStatement from 26 tokens
    ğŸ“ Parsing 26 tokens into statements
    ğŸ“ Found action statement: ['action', 'contains_financial_operations', '(', 'code', ':', 'string', ')', '-', '>', 'boolean', '{', 'return', 'code', '.', 'contains', '(', 'transfer', ')', 'or', 'code', '.', 'contains', '(', 'balance', ')', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['code', '.', 'contains', '(', 'transfer', ')', 'or', 'code', '.', 'contains', '(', 'balance', ')']
  ğŸ” Parsing expression from tokens: ['transfer']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 452
  âœ… Parsed: BlockStatement at line 454
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 454
  âœ… Parsed: BlockStatement at line 456
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_security_level', '(', 'assessment', ':', 'SecurityAssessment', ')', '-', '>', 'string', '{', 'return', 'assessment', '.', 'issues', '.', 'is_empty', '(', ')', '?', 'HIGH', ':', 'MEDIUM', '}']
    ğŸ“ Parsing 12 tokens into statements
  ğŸ” Parsing expression from tokens: ['assessment', '.', 'issues', '.', 'is_empty', '(', ')', '?', 'HIGH', ':', 'MEDIUM']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 456
  âœ… Parsed: BlockStatement at line 458
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 458
  âœ… Parsed: BlockStatement at line 460
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'ai_verify_event', '(', 'event', ':', 'any', ',', 'context', ':', 'ExecutionContext', ')', '-', '>', 'boolean', '{', 'return', 'true', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 460
  âœ… Parsed: BlockStatement at line 462
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 462
  âœ… Parsed: BlockStatement at line 464
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'analyze_contract_features', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'features', ':', '[', 'standard', ']', ',', 'complexity', ':', 'low', '}', '}']
    ğŸ“ Parsing 12 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'features', ':', '[', 'standard', ']', ',', 'complexity', ':', 'low']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['[', 'standard', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['standard']
  ğŸ” Parsing expression from tokens: ['standard']
  âœ… Parsed list with 2 elements
  ğŸ—ºï¸ [Map] Added pair: features -> ListLiteral
  ğŸ” Parsing expression from tokens: ['low']
  ğŸ—ºï¸ [Map] Added pair: complexity -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 464
  âœ… Parsed: BlockStatement at line 466
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 466
  âœ… Parsed: BlockStatement at line 467
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 467
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: GasTracker
  ğŸ“ Found property name: estimate_gas_with_ai
  ğŸ“ Found property name: contract_address
  ğŸ“ Property: contract_address: string
  ğŸ“ Found property name: call
  ğŸ“ Property: call: any
  ğŸ“ Found property name: context
  ğŸ“ Property: context: any
  ğŸ“ Found property name: integer
  ğŸ“ Found property name: base_cost
  ğŸ“ Found property name: function_cost
  ğŸ“ Found property name: call
  ğŸ“ Found property name: function
  ğŸ“ Found property name: length
  ğŸ“ Found property name: args_cost
  ğŸ“ Found property name: call
  ğŸ“ Found property name: arguments
  ğŸ“ Found property name: count
  ğŸ“ Found property name: value_cost
  ğŸ“ Found property name: call
  ğŸ“ Found property name: value
  ğŸ“ Found property name: ?
  ğŸ“ Found property name: complexity_cost
  ğŸ“ Found property name: this
  ğŸ“ Found property name: estimate_complexity_cost
  ğŸ“ Found property name: call
  ğŸ“ Found property name: function
  ğŸ“ Found property name: social_capital_discount
  ğŸ“ Found property name: integer
  ğŸ“ Found property name: context
  ğŸ“ Found property name: social_capital
  ğŸ“ Found property name: base_cost
  ğŸ“ Found property name: function_cost
  ğŸ“ Found property name: args_cost
  ğŸ“ Found property name: value_cost
  ğŸ“ Found property name: complexity_cost
  ğŸ“ Found property name: social_capital_discount
  ğŸ“ Found property name: estimate_complexity_cost
  ğŸ“ Found property name: function
  ğŸ“ Property: function: string
  ğŸ“ Found property name: integer
  ğŸ“ Found property name: complex_functions
  ğŸ“ Found property name: func
  ğŸ“ Found property name: complex_functions
  ğŸ“ Found property name: function
  ğŸ“ Found property name: contains
  ğŸ“ Found property name: func
  ğŸ“ Found property name: calculate_actual_gas
  ğŸ“ Found property name: start_gas
  ğŸ“ Property: start_gas: integer
  ğŸ“ Found property name: result
  ğŸ“ Property: result: any
  ğŸ“ Found property name: execution_time
  ğŸ“ Property: execution_time: integer
  ğŸ“ Found property name: integer
  ğŸ“ Found property name: time_based_cost
  ğŸ“ Found property name: integer
  ğŸ“ Found property name: execution_time
  ğŸ“ Found property name: math
  ğŸ“ Found property name: min
  ğŸ“ Found property name: start_gas
  ğŸ“ Found property name: time_based_cost
  âœ… Parsed: EntityStatement at line 470
  âœ… Parsed: EntityStatement at line 470
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: SecurityManager
  ğŸ“ Found property name: can_execute_with_ai
  ğŸ“ Found property name: caller
  ğŸ“ Property: caller: string
  ğŸ“ Found property name: string
  ğŸ“ Found property name: function
  ğŸ“ Property: function: string
  ğŸ“ Found property name: context
  ğŸ“ Property: context: any
  ğŸ“ Found property name: map
  ğŸ“ Found property name: scan_contract_code
  ğŸ“ Found property name: code
  ğŸ“ Property: code: string
  ğŸ“ Found property name: owner
  ğŸ“ Property: owner: string
  ğŸ“ Found property name: map
  ğŸ“ Found property name: register_contract_with_features
  ğŸ“ Found property name: contract_address
  ğŸ“ Property: contract_address: string
  ğŸ“ Found property name: owner
  ğŸ“ Property: owner: string
  ğŸ“ Found property name: features
  ğŸ“ Property: features: map
  ğŸ“ Found property name: contract_address
  âœ… Parsed: EntityStatement at line 498
  âœ… Parsed: EntityStatement at line 498
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: EventEmitter
  ğŸ“ Found property name: emit_event
  ğŸ“ Found property name: any
  ğŸ“ Found property name: string
  ğŸ“ Found property name: get
  âœ… Parsed: EntityStatement at line 522
  âœ… Parsed: EntityStatement at line 522
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: SEBDeFiIntegration
  ğŸ“ Found property name: check_access
  ğŸ“ Found property name: caller
  ğŸ“ Property: caller: string
  ğŸ“ Found property name: function
  ğŸ“ Property: function: string
  ğŸ“ Found property name: value
  ğŸ“ Property: value: integer
  ğŸ“ Found property name: map
  ğŸ“ Found property name: validate_defi_compliance
  ğŸ“ Found property name: code
  ğŸ“ Property: code: string
  ğŸ“ Found property name: map
  ğŸ“ Found property name: track_contract
  ğŸ“ Found property name: contract_address
  ğŸ“ Property: contract_address: string
  ğŸ“ Found property name: owner
  ğŸ“ Property: owner: string
  ğŸ“ Found property name: contract_address
  ğŸ“ Found property name: get_contract_tier
  ğŸ“ Found property name: contract_address
  ğŸ“ Property: contract_address: string
  ğŸ“ Found property name: string
  ğŸ“ Found property name: get_user_tier
  ğŸ“ Found property name: caller
  ğŸ“ Property: caller: string
  ğŸ“ Found property name: string
  ğŸ“ Found property name: analyze_compliance
  ğŸ“ Found property name: code
  ğŸ“ Property: code: string
  ğŸ“ Found property name: map
  âœ… Parsed: EntityStatement at line 528
  âœ… Parsed: EntityStatement at line 528
  âœ… Parsed: BlockStatement at line 555
  ğŸ”§ Populating empty BlockStatement from 99 tokens
    ğŸ“ Parsing 99 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_advanced_contract_runtime', '(', ')', '{', 'print', '(', 'âš¡ Testing Advanced Contract Runtime...', ')', 'let', 'runtime', '=', 'ContractRuntime', '{', '}', 'let', 'test_call', '=', 'ContractCall', '{', 'contract_address', ':', 'CONTRACT_TEST', ',', 'function', ':', 'transfer', ',', 'arguments', ':', '[', 'ZIV_recipient', ',', '100', ']', ',', 'value', ':', '0', '}', 'let', 'context', '=', 'ExecutionContext', '{', 'caller', ':', 'ZIV_caller', ',', 'gas_limit', ':', '100000', ',', 'block_number', ':', '1', ',', 'transaction_hash', ':', 'test_tx', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'security_assessment', '=', 'runtime', '.', 'validate_contract_security', '(', 'contract_code', ',', 'deployer', ')', 'print', '(', 'Security Assessment: ', '+', 'string', '(', 'security_assessment', ')', ')', 'print', '(', 'âœ… Advanced Contract Runtime ready with SEB-DeFi integration', ')', '}']
    ğŸ“ Parsing 92 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'âš¡ Testing Advanced Contract Runtime...', ')', 'let', 'runtime', '=', 'ContractRuntime']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'test_call', '=', 'ContractCall']
  ğŸ” Parsing expression from tokens: ['ContractCall']
  ğŸ” Parsing expression from tokens: ['{', 'contract_address', ':', 'CONTRACT_TEST', ',', 'function', ':', 'transfer', ',', 'arguments', ':', '[', 'ZIV_recipient', ',', '100', ']', ',', 'value', ':', '0']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['CONTRACT_TEST']
  ğŸ—ºï¸ [Map] Added pair: contract_address -> StringLiteral
  ğŸ” Parsing expression from tokens: ['transfer']
  ğŸ—ºï¸ [Map] Added pair: function -> StringLiteral
  ğŸ” Parsing expression from tokens: ['[', 'ZIV_recipient']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['ZIV_recipient']
  âœ… Parsed list with 1 elements
  ğŸ—ºï¸ [Map] Added pair: arguments -> ListLiteral
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: value -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    ğŸ“ Found let statement: ['let', 'context', '=', 'ExecutionContext']
  ğŸ” Parsing expression from tokens: ['ExecutionContext']
  ğŸ” Parsing expression from tokens: ['{', 'caller', ':', 'ZIV_caller', ',', 'gas_limit', ':', '100000', ',', 'block_number', ':', '1', ',', 'transaction_hash', ':', 'test_tx', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['ZIV_caller']
  ğŸ—ºï¸ [Map] Added pair: caller -> StringLiteral
  ğŸ” Parsing expression from tokens: ['100000']
  ğŸ—ºï¸ [Map] Added pair: gas_limit -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: block_number -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['test_tx']
  ğŸ—ºï¸ [Map] Added pair: transaction_hash -> StringLiteral
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    ğŸ“ Found let statement: ['let', 'security_assessment', '=', 'runtime', '.', 'validate_contract_security', '(', 'contract_code', ',', 'deployer', ')', 'print', '(', 'Security Assessment: ', '+', 'string', '(', 'security_assessment', ')', ')', 'print', '(', 'âœ… Advanced Contract Runtime ready with SEB-DeFi integration', ')']
  ğŸ” Parsing expression from tokens: ['runtime', '.', 'validate_contract_security', '(', 'contract_code', ',', 'deployer', ')', 'print', '(', 'Security Assessment: ', '+', 'string', '(', 'security_assessment', ')', ')', 'print', '(', 'âœ… Advanced Contract Runtime ready with SEB-DeFi integration', ')']
  ğŸ” Parsing expression from tokens: ['contract_code']
  ğŸ” Parsing expression from tokens: ['deployer']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 555
  âœ… Parsed: BlockStatement at line 580
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 580
  âœ… Parsed: BlockStatement at line 582
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'ContractRuntime', ',', 'ContractRuntimeProtocol', ',', 'test_advanced_contract_runtime', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 582
  âœ… Parsed: BlockStatement at line 586
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 586
âœ… Parsing Complete: 77 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/use_statement @ 8-14: ['use', 'math', 'as', 'math', 'protocol', 'StateManagerProtocol', '{']
  [3] statement/ACTION @ 15-25: ['action', 'apply_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean']
  [4] statement/ACTION @ 25-35: ['action', 'apply_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean']
  [5] statement/ACTION @ 35-45: ['action', 'rollback_to_block', '(', 'block_number', ':', 'integer', ')', '-', '>', 'boolean']
  [6] statement/ACTION @ 45-55: ['action', 'get_account_state', '(', 'address', ':', 'string', ')', '-', '>', 'map']
  [7] statement/ACTION @ 55-62: ['action', 'get_state_root', '(', ')', '-', '>', 'string']
  [8] statement/ACTION @ 62-82: ['action', 'calculate_social_capital_impact', '(', 'address', ':', 'string', ',', 'transaction', ':', 'any', ')', '-', '>', 'map', '}', 'contract', 'StateManager', 'implements', 'StateManagerProtocol', '{']
  [9] statement/PERSISTENT @ 82-87: ['persistent', 'storage', 'current_state', ':', 'any']
  [10] statement/PERSISTENT @ 87-92: ['persistent', 'storage', 'state_history', ':', 'map']
  [11] statement/PERSISTENT @ 92-97: ['persistent', 'storage', 'state_transitions', ':', 'list']
  [12] statement/PERSISTENT @ 97-102: ['persistent', 'storage', 'seb_defi_tracker', ':', 'any']
  [13] statement/PERSISTENT @ 102-107: ['persistent', 'storage', 'ai_state_analyzer', ':', 'any']
  [14] statement/PERSISTENT @ 107-112: ['persistent', 'storage', 'quantum_state_verifier', ':', 'any']
  [15] statement/entity_statement @ 112-171: ['entity', 'ChainState', '{', 'block_number', ':', 'integer', '=', '0', 'block_hash', ':', 'string', '=', '0x0', 'total_difficulty', ':', 'integer', '=', '0', 'balances', ':', 'map', '=', '{', '}', 'nonces', ':', 'map', '=', '{', '}', 'contract_storage', ':', 'map', '=', '{', '}', 'contract_code', ':', 'map', '=', '{', '}', 'social_capital_scores', ':', 'map', '=', '{', '}', 'seb_defi_metrics', ':', 'map', '=', '{', '}', 'state_root', ':', 'string', '=', '0x0', '}']
  [16] statement/entity_statement @ 172-209: ['entity', 'StateTransition', '{', 'transaction_hash', ':', 'string', 'from_addr', ':', 'string', 'to_addr', ':', 'string', 'value', ':', 'integer', 'data', ':', 'string', '?', 'timestamp', ':', 'integer', 'social_capital_impact', ':', 'float', '=', '0.0', 'seb_defi_tier_change', ':', 'string', '?', 'ai_risk_assessment', ':', 'map', '=', '{', '}', '}']
  [17] statement/entity_statement @ 210-246: ['entity', 'AccountState', '{', 'address', ':', 'string', 'balance', ':', 'integer', 'nonce', ':', 'integer', 'storage_root', ':', 'string', 'code_hash', ':', 'string', 'social_capital', ':', 'float', '=', '0.0', 'seb_defi_tier', ':', 'string', '=', 'BRONZE', 'borrowing_power', ':', 'integer', '=', '0', 'last_activity', ':', 'integer', '}']
  [18] statement/ACTION @ 247-308: ['action', 'init', '(', ')', '{', 'this', '.', 'current_state', '=', 'ChainState', '{', '}', 'this', '.', 'state_history', '=', '{', '}', 'this', '.', 'state_transitions', '=', '[', ']', 'this', '.', 'seb_defi_tracker', '=', 'SEBDeFiTracker', '{', '}', 'this', '.', 'ai_state_analyzer', '=', 'AIStateAnalyzer', '{', '}', 'this', '.', 'quantum_state_verifier', '=', 'QuantumStateVerifier', '{', '}', 'print', '(', 'ğŸ”„ Advanced State Manager initialized', ')', 'print', '(', 'âœ… SEB-DeFi Tracking: Active', ')', 'print', '(', 'âœ… AI State Analysis: Enabled', ')', 'print', '(', 'âœ… Quantum State Verification: Ready', ')', '}']
  [19] statement/} @ 308-308: ['}']
  [20] statement/ACTION @ 309-517: ['action', 'apply_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean', '{', 'print', '(', 'ğŸ“ Applying block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to advanced state', ')', 'this', '.', 'state_history', '[', 'block', '.', 'index', '-', '1', ']', '=', 'this', '.', 'copy_chain_state', '(', 'this', '.', 'current_state', ')', 'let', 'state_integrity', '=', 'this', '.', 'quantum_state_verifier', '.', 'verify_state_integrity', '(', 'this', '.', 'current_state', ')', 'if', 'not', 'state_integrity', '.', 'valid', '{', 'throw', 'State integrity verification failed: ', '+', 'state_integrity', '.', 'reason', '}', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'if', 'not', 'this', '.', 'apply_transaction_with_seb', '(', 'tx', ')', '{', 'print', '(', 'âŒ Transaction failed, rolling back block', ')', 'this', '.', 'rollback_to_block', '(', 'block', '.', 'index', '-', '1', ')', 'return', 'false', '}', '}', 'this', '.', 'current_state', '.', 'block_number', '=', 'block', '.', 'index', 'this', '.', 'current_state', '.', 'block_hash', '=', 'block', '.', 'hash', 'this', '.', 'current_state', '.', 'total_difficulty', '+', '=', 'block', '.', 'difficulty', 'this', '.', 'current_state', '.', 'state_root', '=', 'this', '.', 'calculate_enhanced_state_root', '(', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_block_impact', '(', 'block', ',', 'this', '.', 'current_state', ')', 'this', '.', 'update_seb_defi_metrics', '(', 'block', ')', 'print', '(', 'âœ… Block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' applied successfully', ')', 'print', '(', '   State Root: ', '+', 'this', '.', 'current_state', '.', 'state_root', '.', 'slice', '(', '0', ',', '16', ')', '+', '...', ')', 'print', '(', '   SEB-DeFi Activity: ', '+', 'string', '(', 'this', '.', 'get_defi_activity_level', '(', ')', ')', ')', 'return', 'true', '}']
  [21] statement/} @ 517-517: ['}']
  [22] statement/ACTION @ 518-536: ['action', 'apply_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'this', '.', 'apply_transaction_with_seb', '(', 'tx', ')', '}']
  [23] statement/} @ 536-536: ['}']
  [24] statement/ACTION @ 537-770: ['action', 'apply_transaction_with_seb', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'let', 'transition', '=', 'StateTransition', '{', 'transaction_hash', ':', 'tx', '.', 'hash', ',', 'from_addr', ':', 'tx', '.', 'from_addr', ',', 'to_addr', ':', 'tx', '.', 'to_addr', ',', 'value', ':', 'tx', '.', 'value', ',', 'data', ':', 'tx', '.', 'data', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'from_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0', ')', 'let', 'to_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'to_addr', ',', '0', ')', 'if', 'from_balance', '<', 'tx', '.', 'value', '{', 'print', '(', 'âŒ Insufficient balance for transaction', ')', 'return', 'false', '}', 'this', '.', 'current_state', '.', 'balances', '[', 'tx', '.', 'from_addr', ']', '=', 'from_balance', '-', 'tx', '.', 'value', 'this', '.', 'current_state', '.', 'balances', '[', 'tx', '.', 'to_addr', ']', '=', 'to_balance', '+', 'tx', '.', 'value', 'this', '.', 'current_state', '.', 'nonces', '[', 'tx', '.', 'from_addr', ']', '=', 'tx', '.', 'nonce', 'let', 'seb_impact', '=', 'this', '.', 'calculate_social_capital_impact', '(', 'tx', '.', 'from_addr', ',', 'tx', ')', 'transition', '.', 'social_capital_impact', '=', 'seb_impact', '.', 'score_change', 'transition', '.', 'seb_defi_tier_change', '=', 'seb_impact', '.', 'tier_change', 'transition', '.', 'ai_risk_assessment', '=', 'this', '.', 'assess_transaction_risk', '(', 'tx', ')', 'this', '.', 'update_social_capital_scores', '(', 'tx', '.', 'from_addr', ',', 'tx', '.', 'to_addr', ',', 'seb_impact', ')', 'this', '.', 'seb_defi_tracker', '.', 'record_transaction', '(', 'tx', ',', 'seb_impact', ')', 'this', '.', 'state_transitions', '.', 'push', '(', 'transition', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_transaction_impact', '(', 'tx', ',', 'transition', ')', 'return', 'true', '}']
  [25] statement/} @ 770-770: ['}']
  [26] statement/ACTION @ 771-849: ['action', 'rollback_to_block', '(', 'block_number', ':', 'integer', ')', '-', '>', 'boolean', '{', 'if', 'this', '.', 'state_history', '.', 'has', '(', 'block_number', ')', '{', 'this', '.', 'current_state', '=', 'this', '.', 'copy_chain_state', '(', 'this', '.', 'state_history', '[', 'block_number', ']', ')', 'this', '.', 'recover_seb_defi_state', '(', 'block_number', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_rollback_impact', '(', 'block_number', ')', 'print', '(', 'â†©ï¸ Rolled back to block #', '+', 'string', '(', 'block_number', ')', '+', ' with state recovery', ')', 'return', 'true', '}', 'else', '{', 'print', '(', 'âŒ Cannot rollback to block #', '+', 'string', '(', 'block_number', ')', ')', 'return', 'false', '}', '}']
  [27] statement/} @ 849-849: ['}']
  [28] statement/ACTION @ 850-1015: ['action', 'get_account_state', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'let', 'basic_state', '=', 'AccountState', '{', 'address', ':', 'address', ',', 'balance', ':', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'address', ',', '0', ')', ',', 'nonce', ':', 'this', '.', 'current_state', '.', 'nonces', '.', 'get', '(', 'address', ',', '0', ')', ',', 'last_activity', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'seb_data', '=', 'this', '.', 'seb_defi_tracker', '.', 'get_account_data', '(', 'address', ')', 'let', 'social_capital', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'return', '{', 'address', ':', 'basic_state', '.', 'address', ',', 'balance', ':', 'basic_state', '.', 'balance', ',', 'nonce', ':', 'basic_state', '.', 'nonce', ',', 'storage_root', ':', 'this', '.', 'calculate_storage_root', '(', 'address', ')', ',', 'code_hash', ':', 'this', '.', 'get_code_hash', '(', 'address', ')', ',', 'social_capital', ':', 'social_capital', ',', 'seb_defi_tier', ':', 'seb_data', '.', 'tier', ',', 'borrowing_power', ':', 'seb_data', '.', 'borrowing_power', ',', 'defi_activity_score', ':', 'seb_data', '.', 'activity_score', ',', 'last_activity', ':', 'basic_state', '.', 'last_activity', ',', 'ai_trust_score', ':', 'this', '.', 'ai_state_analyzer', '.', 'get_trust_score', '(', 'address', ')', '}', '}']
  [29] statement/} @ 1015-1015: ['}']
  [30] statement/ACTION @ 1016-1030: ['action', 'get_state_root', '(', ')', '-', '>', 'string', '{', 'return', 'this', '.', 'current_state', '.', 'state_root', '}']
  [31] statement/} @ 1030-1030: ['}']
  [32] statement/ACTION @ 1031-1124: ['action', 'calculate_social_capital_impact', '(', 'address', ':', 'string', ',', 'transaction', ':', 'any', ')', '-', '>', 'map', '{', 'let', 'base_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'let', 'impact', '=', 'this', '.', 'seb_defi_tracker', '.', 'calculate_impact', '(', 'address', ',', 'transaction', ',', 'base_score', ')', 'return', '{', 'score_change', ':', 'impact', '.', 'delta', ',', 'new_score', ':', 'math', '.', 'max', '(', '0.0', ',', 'math', '.', 'min', '(', '1.0', ',', 'base_score', '+', 'impact', '.', 'delta', ')', ')', ',', 'tier_change', ':', 'impact', '.', 'tier_change', ',', 'factors', ':', 'impact', '.', 'factors', ',', 'ai_explanation', ':', 'impact', '.', 'explanation', '}', '}']
  [33] statement/} @ 1124-1124: ['}']
  [34] statement/ACTION @ 1125-1244: ['action', 'copy_chain_state', '(', 'state', ':', 'ChainState', ')', '-', '>', 'ChainState', '{', 'let', 'new_state', '=', 'ChainState', '{', '}', 'new_state', '.', 'block_number', '=', 'state', '.', 'block_number', 'new_state', '.', 'block_hash', '=', 'state', '.', 'block_hash', 'new_state', '.', 'total_difficulty', '=', 'state', '.', 'total_difficulty', 'new_state', '.', 'state_root', '=', 'state', '.', 'state_root', 'new_state', '.', 'balances', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'balances', ')', 'new_state', '.', 'nonces', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'nonces', ')', 'new_state', '.', 'contract_storage', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'contract_storage', ')', 'new_state', '.', 'contract_code', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'contract_code', ')', 'new_state', '.', 'social_capital_scores', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'social_capital_scores', ')', 'new_state', '.', 'seb_defi_metrics', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'seb_defi_metrics', ')', 'return', 'new_state', '}']
  [35] statement/} @ 1244-1244: ['}']
  [36] statement/ACTION @ 1245-1278: ['action', 'deep_copy_map', '(', 'original', ':', 'map', ')', '-', '>', 'map', '{', 'let', 'copy', '=', '{', '}', 'for', 'each', 'key', ',', 'value', 'in', 'original', '{', 'copy', '[', 'key', ']', '=', 'value', '}', 'return', 'copy', '}']
  [37] statement/} @ 1278-1278: ['}']
  [38] statement/ACTION @ 1279-1338: ['action', 'calculate_enhanced_state_root', '(', ')', '-', '>', 'string', '{', 'let', 'state_data', '=', 'string', '(', 'this', '.', 'current_state', '.', 'block_number', ')', '+', 'this', '.', 'current_state', '.', 'block_hash', '+', 'string', '(', 'this', '.', 'current_state', '.', 'total_difficulty', ')', '+', 'string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')', '}']
  [39] statement/} @ 1338-1338: ['}']
  [40] statement/ACTION @ 1339-1433: ['action', 'update_social_capital_scores', '(', 'from_addr', ':', 'string', ',', 'to_addr', ':', 'string', ',', 'impact', ':', 'map', ')', '{', 'if', 'impact', '.', 'score_change', '!=', '0', '{', 'let', 'current_from_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'from_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'from_addr', ']', '=', 'current_from_score', '+', 'impact', '.', 'score_change', 'if', 'impact', '.', 'score_change', '>', '0.1', '{', 'let', 'current_to_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'to_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'to_addr', ']', '=', 'current_to_score', '+', '(', 'impact', '.', 'score_change', '*', '0.1', ')', '}', '}', '}']
  [41] statement/} @ 1433-1433: ['}']
  [42] statement/ACTION @ 1434-1519: ['action', 'update_seb_defi_metrics', '(', 'block', ':', 'any', ')', '{', 'let', 'defi_activity', '=', '0', 'let', 'total_value', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'if', 'this', '.', 'is_defi_related', '(', 'tx', ')', '{', 'defi_activity', '+', '=', '1', 'total_value', '+', '=', 'tx', '.', 'value', '}', '}', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '[', 'block', '.', 'index', ']', '=', '{', 'defi_transaction_count', ':', 'defi_activity', ',', 'total_value_moved', ':', 'total_value', ',', 'social_capital_avg', ':', 'this', '.', 'calculate_average_social_capital', '(', 'block', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', '}']
  [43] statement/} @ 1519-1519: ['}']
  [44] statement/ACTION @ 1520-1542: ['action', 'recover_seb_defi_state', '(', 'block_number', ':', 'integer', ')', '{', 'this', '.', 'seb_defi_tracker', '.', 'recover_from_block', '(', 'block_number', ')', 'this', '.', 'recalculate_social_capital_scores', '(', 'block_number', ')', '}']
  [45] statement/} @ 1542-1542: ['}']
  [46] statement/ACTION @ 1543-1572: ['action', 'calculate_storage_root', '(', 'address', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'storage_data', '=', 'string', '(', 'this', '.', 'current_state', '.', 'contract_storage', ')', 'return', 'crypto', '.', 'keccak256', '(', 'storage_data', ')', '}']
  [47] statement/} @ 1572-1572: ['}']
  [48] statement/ACTION @ 1573-1612: ['action', 'get_code_hash', '(', 'address', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'code', '=', 'this', '.', 'current_state', '.', 'contract_code', '.', 'get', '(', 'address', ',', ')', 'return', 'code', '!=', '?', 'crypto', '.', 'keccak256', '(', 'code', ')', ':', '0x', '}']
  [49] statement/} @ 1612-1612: ['}']
  [50] statement/ACTION @ 1613-1659: ['action', 'is_defi_related', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'tx', '.', 'data', '!=', 'null', 'and', '(', 'tx', '.', 'data', '.', 'contains', '(', 'transfer', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'stake', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'lend', ')', ')', '}']
  [51] statement/} @ 1659-1659: ['}']
  [52] statement/ACTION @ 1660-1723: ['action', 'calculate_average_social_capital', '(', 'block', ':', 'any', ')', '-', '>', 'float', '{', 'let', 'total', '=', '0.0', 'let', 'count', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'let', 'score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0.0', ')', 'total', '+', '=', 'score', 'count', '+', '=', '1', '}', 'return', 'count', '>', '0', '?', 'total', '/', 'count', ':', '0.0', '}']
  [53] statement/} @ 1723-1723: ['}']
  [54] statement/ACTION @ 1724-1804: ['action', 'get_defi_activity_level', '(', ')', '-', '>', 'string', '{', 'let', 'recent_blocks', '=', '10', 'let', 'defi_count', '=', '0', 'for', 'each', 'i', 'in', 'range', '(', '0', ',', 'recent_blocks', ')', '{', 'let', 'block_num', '=', 'this', '.', 'current_state', '.', 'block_number', '-', 'i', 'if', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '.', 'has', '(', 'block_num', ')', '{', 'defi_count', '+', '=', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '[', 'block_num', ']', '.', 'defi_transaction_count', '}', '}', 'if', 'defi_count', '>', '50', ':', 'return', 'HIGH', 'if', 'defi_count', '>', '20', ':', 'return', 'MEDIUM', 'return', 'LOW', '}']
  [55] statement/} @ 1804-1804: ['}']
  [56] statement/ACTION @ 1805-1826: ['action', 'assess_transaction_risk', '(', 'tx', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.9', '}', '}']
  [57] statement/} @ 1826-1826: ['}']
  [58] statement/ACTION @ 1827-1835: ['action', 'recalculate_social_capital_scores', '(', 'block_number', ':', 'integer', ')', '{', '}']
  [59] statement/} @ 1835-1835: ['}']
  [60] statement/ACTION @ 1836-1858: ['action', 'calculate_social_capital_hash', '(', ')', '-', '>', 'string', '{', 'return', 'crypto', '.', 'keccak256', '(', 'string', '(', 'this', '.', 'current_state', '.', 'social_capital_scores', ')', ')', '}']
  [61] statement/} @ 1858-1858: ['}']
  [62] statement/ACTION @ 1859-1881: ['action', 'calculate_defi_metrics_hash', '(', ')', '-', '>', 'string', '{', 'return', 'crypto', '.', 'keccak256', '(', 'string', '(', 'this', '.', 'current_state', '.', 'seb_defi_metrics', ')', ')', '}']
  [63] statement/} @ 1881-1881: ['}']
  [64] statement/} @ 1882-1882: ['}']
  [65] statement/entity_statement @ 1883-1998: ['entity', 'SEBDeFiTracker', '{', 'action', 'calculate_impact', '(', 'address', ':', 'string', ',', 'transaction', ':', 'any', ',', 'current_score', ':', 'float', ')', '-', '>', 'map', '{', 'return', '{', 'delta', ':', '0.05', ',', 'tier_change', ':', 'null', ',', 'factors', ':', '[', 'transaction_completed', ']', ',', 'explanation', ':', 'Standard transaction impact', '}', '}', 'action', 'get_account_data', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'return', '{', 'tier', ':', 'SILVER', ',', 'borrowing_power', ':', '5000', ',', 'activity_score', ':', '0.7', '}', '}', 'action', 'record_transaction', '(', 'tx', ':', 'any', ',', 'impact', ':', 'map', ')', '{', 'print', '(', 'ğŸ“Š Recorded SEB-DeFi transaction: ', '+', 'tx', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', ')', '}', 'action', 'recover_from_block', '(', 'block_number', ':', 'integer', ')', '{', 'print', '(', 'ğŸ”„ Recovering SEB-DeFi state from block #', '+', 'string', '(', 'block_number', ')', ')', '}', '}']
  [66] statement/entity_statement @ 1999-2059: ['entity', 'AIStateAnalyzer', '{', 'action', 'analyze_block_impact', '(', 'block', ':', 'any', ',', 'state', ':', 'any', ')', '{', 'print', '(', 'ğŸ¤– AI analyzing block impact...', ')', '}', 'action', 'analyze_transaction_impact', '(', 'tx', ':', 'any', ',', 'transition', ':', 'any', ')', '{', '}', 'action', 'analyze_rollback_impact', '(', 'block_number', ':', 'integer', ')', '{', 'print', '(', 'ğŸ¤– AI analyzing rollback impact...', ')', '}', 'action', 'get_trust_score', '(', 'address', ':', 'string', ')', '-', '>', 'float', '{', 'return', '0.8', '}', '}']
  [67] statement/entity_statement @ 2060-2085: ['entity', 'QuantumStateVerifier', '{', 'action', 'verify_state_integrity', '(', 'state', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'valid', ':', 'true', ',', 'reason', ':', '}', '}', '}']
  [68] statement/ACTION @ 2086-2234: ['action', 'async', 'test_advanced_state_manager', '(', ')', '{', 'print', '(', 'ğŸ—„ï¸ Testing Advanced State Manager...', ')', 'let', 'state_manager', '=', 'StateManager', '{', '}', 'state_manager', '.', 'current_state', '.', 'balances', '[', 'ZIV_sender', ']', '=', '1000', 'state_manager', '.', 'current_state', '.', 'social_capital_scores', '[', 'ZIV_sender', ']', '=', '0.6', 'let', 'test_tx', '=', '{', 'hash', ':', 'test_tx_hash', ',', 'from_addr', ':', 'ZIV_sender', ',', 'to_addr', ':', 'ZIV_receiver', ',', 'value', ':', '100', ',', 'data', ':', 'null', ',', 'nonce', ':', '1', '}', 'print', '(', 'Initial balance sender: ', '+', 'string', '(', 'state_manager', '.', 'get_account_state', '(', 'ZIV_sender', ')', '.', 'balance', ')', ')', 'state_manager', '.', 'apply_transaction', '(', 'test_tx', ')', 'let', 'sender_state', '=', 'state_manager', '.', 'get_account_state', '(', 'ZIV_sender', ')', 'let', 'receiver_state', '=', 'state_manager', '.', 'get_account_state', '(', 'ZIV_receiver', ')', 'print', '(', 'After tx balance sender: ', '+', 'string', '(', 'sender_state', '.', 'balance', ')', ')', 'print', '(', 'After tx balance receiver: ', '+', 'string', '(', 'receiver_state', '.', 'balance', ')', ')', 'print', '(', 'Sender social capital: ', '+', 'string', '(', 'sender_state', '.', 'social_capital', ')', ')', 'print', '(', 'Receiver social capital: ', '+', 'string', '(', 'receiver_state', '.', 'social_capital', ')', ')', '}']
  [69] statement/} @ 2234-2234: ['}']
  [70] statement/EXPORT @ 2235-2242: ['export', '{', 'StateManager', ',', 'StateManagerProtocol', ',', 'test_advanced_state_manager', '}']
  [71] statement/} @ 2242-2243: ['}']
ğŸ”§ Parsing 72 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math', 'protocol', 'StateManagerProtocol', '{']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math', 'protocol', 'StateManagerProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'apply_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'apply_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'rollback_to_block', '(', 'block_number', ':', 'integer', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
  âœ… Parsed: BlockStatement at line 16
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_account_state', '(', 'address', ':', 'string', ')', '-', '>', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 16
  âœ… Parsed: BlockStatement at line 17
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_state_root', '(', ')', '-', '>', 'string']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 17
  âœ… Parsed: BlockStatement at line 18
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_social_capital_impact', '(', 'address', ':', 'string', ',', 'transaction', ':', 'any', ')', '-', '>', 'map', '}', 'contract', 'StateManager', 'implements', 'StateManagerProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 18
  âœ… Parsed: BlockStatement at line 22
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['current_state', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 22
  âœ… Parsed: BlockStatement at line 23
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['state_history', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 23
  âœ… Parsed: BlockStatement at line 24
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['state_transitions', ':', 'list']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 24
  âœ… Parsed: BlockStatement at line 25
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['seb_defi_tracker', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 25
  âœ… Parsed: BlockStatement at line 26
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['ai_state_analyzer', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 26
  âœ… Parsed: BlockStatement at line 27
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['quantum_state_verifier', ':', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 27
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ChainState
  ğŸ“ Found property name: block_number
  ğŸ“ Property: block_number: integer
  ğŸ“ Found property name: block_hash
  ğŸ“ Property: block_hash: string
  ğŸ“ Found property name: total_difficulty
  ğŸ“ Property: total_difficulty: integer
  ğŸ“ Found property name: balances
  ğŸ“ Property: balances: map
  ğŸ“ Found property name: nonces
  ğŸ“ Property: nonces: map
  ğŸ“ Found property name: contract_storage
  ğŸ“ Property: contract_storage: map
  ğŸ“ Found property name: contract_code
  ğŸ“ Property: contract_code: map
  ğŸ“ Found property name: social_capital_scores
  ğŸ“ Property: social_capital_scores: map
  ğŸ“ Found property name: seb_defi_metrics
  ğŸ“ Property: seb_defi_metrics: map
  ğŸ“ Found property name: state_root
  ğŸ“ Property: state_root: string
  âœ… Parsed: EntityStatement at line 29
  âœ… Parsed: EntityStatement at line 29
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: StateTransition
  ğŸ“ Found property name: transaction_hash
  ğŸ“ Property: transaction_hash: string
  ğŸ“ Found property name: from_addr
  ğŸ“ Property: from_addr: string
  ğŸ“ Found property name: to_addr
  ğŸ“ Property: to_addr: string
  ğŸ“ Found property name: value
  ğŸ“ Property: value: integer
  ğŸ“ Found property name: data
  ğŸ“ Property: data: string
  ğŸ“ Found property name: ?
  ğŸ“ Found property name: timestamp
  ğŸ“ Property: timestamp: integer
  ğŸ“ Found property name: social_capital_impact
  ğŸ“ Property: social_capital_impact: float
  ğŸ“ Found property name: seb_defi_tier_change
  ğŸ“ Property: seb_defi_tier_change: string
  ğŸ“ Found property name: ?
  ğŸ“ Found property name: ai_risk_assessment
  ğŸ“ Property: ai_risk_assessment: map
  âœ… Parsed: EntityStatement at line 42
  âœ… Parsed: EntityStatement at line 42
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: AccountState
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: balance
  ğŸ“ Property: balance: integer
  ğŸ“ Found property name: nonce
  ğŸ“ Property: nonce: integer
  ğŸ“ Found property name: storage_root
  ğŸ“ Property: storage_root: string
  ğŸ“ Found property name: code_hash
  ğŸ“ Property: code_hash: string
  ğŸ“ Found property name: social_capital
  ğŸ“ Property: social_capital: float
  ğŸ“ Found property name: seb_defi_tier
  ğŸ“ Property: seb_defi_tier: string
  ğŸ“ Found property name: borrowing_power
  ğŸ“ Property: borrowing_power: integer
  ğŸ“ Found property name: last_activity
  ğŸ“ Property: last_activity: integer
  âœ… Parsed: EntityStatement at line 54
  âœ… Parsed: EntityStatement at line 54
  âœ… Parsed: BlockStatement at line 66
  ğŸ”§ Populating empty BlockStatement from 62 tokens
    ğŸ“ Parsing 62 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', ')', '{', 'this', '.', 'current_state', '=', 'ChainState', '{', '}', 'this', '.', 'state_history', '=', '{', '}', 'this', '.', 'state_transitions', '=', '[', ']', 'this', '.', 'seb_defi_tracker', '=', 'SEBDeFiTracker', '{', '}', 'this', '.', 'ai_state_analyzer', '=', 'AIStateAnalyzer', '{', '}', 'this', '.', 'quantum_state_verifier', '=', 'QuantumStateVerifier', '{', '}', 'print', '(', 'ğŸ”„ Advanced State Manager initialized', ')', 'print', '(', 'âœ… SEB-DeFi Tracking: Active', ')', 'print', '(', 'âœ… AI State Analysis: Enabled', ')', 'print', '(', 'âœ… Quantum State Verification: Ready', ')', '}']
    ğŸ“ Parsing 56 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '=', 'ChainState', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'state_history', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'state_transitions', '=', '[', ']', 'this', '.', 'seb_defi_tracker', '=', 'SEBDeFiTracker', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'ai_state_analyzer', '=', 'AIStateAnalyzer', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'quantum_state_verifier', '=', 'QuantumStateVerifier', '{']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Advanced State Manager initialized', ')', 'print', '(', 'âœ… SEB-DeFi Tracking: Active', ')', 'print', '(', 'âœ… AI State Analysis: Enabled', ')', 'print', '(', 'âœ… Quantum State Verification: Ready', ')']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 66
  âœ… Parsed: BlockStatement at line 78
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 78
  âœ… Parsed: BlockStatement at line 80
  ğŸ”§ Populating empty BlockStatement from 209 tokens
    ğŸ“ Parsing 209 tokens into statements
    ğŸ“ Found action statement: ['action', 'apply_block', '(', 'block', ':', 'any', ')', '-', '>', 'boolean', '{', 'print', '(', 'ğŸ“ Applying block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to advanced state', ')', 'this', '.', 'state_history', '[', 'block', '.', 'index', '-', '1', ']', '=', 'this', '.', 'copy_chain_state', '(', 'this', '.', 'current_state', ')', 'let', 'state_integrity', '=', 'this', '.', 'quantum_state_verifier', '.', 'verify_state_integrity', '(', 'this', '.', 'current_state', ')', 'if', 'not', 'state_integrity', '.', 'valid', '{', 'throw', 'State integrity verification failed: ', '+', 'state_integrity', '.', 'reason', '}', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'if', 'not', 'this', '.', 'apply_transaction_with_seb', '(', 'tx', ')', '{', 'print', '(', 'âŒ Transaction failed, rolling back block', ')', 'this', '.', 'rollback_to_block', '(', 'block', '.', 'index', '-', '1', ')', 'return', 'false', '}', '}', 'this', '.', 'current_state', '.', 'block_number', '=', 'block', '.', 'index', 'this', '.', 'current_state', '.', 'block_hash', '=', 'block', '.', 'hash', 'this', '.', 'current_state', '.', 'total_difficulty', '+', '=', 'block', '.', 'difficulty', 'this', '.', 'current_state', '.', 'state_root', '=', 'this', '.', 'calculate_enhanced_state_root', '(', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_block_impact', '(', 'block', ',', 'this', '.', 'current_state', ')', 'this', '.', 'update_seb_defi_metrics', '(', 'block', ')', 'print', '(', 'âœ… Block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' applied successfully', ')', 'print', '(', '   State Root: ', '+', 'this', '.', 'current_state', '.', 'state_root', '.', 'slice', '(', '0', ',', '16', ')', '+', '...', ')', 'print', '(', '   SEB-DeFi Activity: ', '+', 'string', '(', 'this', '.', 'get_defi_activity_level', '(', ')', ')', ')', 'return', 'true', '}']
    ğŸ“ Parsing 197 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“ Applying block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to advanced state', ')', 'this', '.', 'state_history', '[', 'block', '.', 'index', '-', '1', ']', '=', 'this', '.', 'copy_chain_state', '(', 'this', '.', 'current_state', ')', 'let', 'state_integrity', '=', 'this', '.', 'quantum_state_verifier', '.', 'verify_state_integrity', '(', 'this', '.', 'current_state', ')', 'if', 'not', 'state_integrity', '.', 'valid']
  ğŸ” Parsing expression from tokens: ['{', 'throw', 'State integrity verification failed: ', '+', 'state_integrity', '.', 'reason']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'tx', 'in', 'block', '.', 'transactions', '{', 'if', 'not', 'this', '.', 'apply_transaction_with_seb', '(', 'tx', ')', '{', 'print', '(', 'âŒ Transaction failed, rolling back block', ')', 'this', '.', 'rollback_to_block', '(', 'block', '.', 'index', '-', '1', ')', 'return', 'false', '}']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'block_number', '=', 'block', '.', 'index', 'this', '.', 'current_state', '.', 'block_hash', '=', 'block', '.', 'hash', 'this', '.', 'current_state', '.', 'total_difficulty', '+', '=', 'block', '.', 'difficulty', 'this', '.', 'current_state', '.', 'state_root', '=', 'this', '.', 'calculate_enhanced_state_root', '(', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_block_impact', '(', 'block', ',', 'this', '.', 'current_state', ')', 'this', '.', 'update_seb_defi_metrics', '(', 'block', ')']
    ğŸ“ Found print statement: ['print', '(', 'âœ… Block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' applied successfully', ')', 'print', '(', '   State Root: ', '+', 'this', '.', 'current_state', '.', 'state_root', '.', 'slice', '(', '0', ',', '16', ')', '+', '...', ')', 'print', '(', '   SEB-DeFi Activity: ', '+', 'string', '(', 'this', '.', 'get_defi_activity_level', '(', ')', ')', ')', 'return', 'true']
    âœ… Parsed 5 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 80
  âœ… Parsed: BlockStatement at line 120
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 120
  âœ… Parsed: BlockStatement at line 122
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'apply_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'this', '.', 'apply_transaction_with_seb', '(', 'tx', ')', '}']
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'apply_transaction_with_seb', '(', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['tx']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 122
  âœ… Parsed: BlockStatement at line 124
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 124
  âœ… Parsed: BlockStatement at line 126
  ğŸ”§ Populating empty BlockStatement from 234 tokens
    ğŸ“ Parsing 234 tokens into statements
    ğŸ“ Found action statement: ['action', 'apply_transaction_with_seb', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'let', 'transition', '=', 'StateTransition', '{', 'transaction_hash', ':', 'tx', '.', 'hash', ',', 'from_addr', ':', 'tx', '.', 'from_addr', ',', 'to_addr', ':', 'tx', '.', 'to_addr', ',', 'value', ':', 'tx', '.', 'value', ',', 'data', ':', 'tx', '.', 'data', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'from_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0', ')', 'let', 'to_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'to_addr', ',', '0', ')', 'if', 'from_balance', '<', 'tx', '.', 'value', '{', 'print', '(', 'âŒ Insufficient balance for transaction', ')', 'return', 'false', '}', 'this', '.', 'current_state', '.', 'balances', '[', 'tx', '.', 'from_addr', ']', '=', 'from_balance', '-', 'tx', '.', 'value', 'this', '.', 'current_state', '.', 'balances', '[', 'tx', '.', 'to_addr', ']', '=', 'to_balance', '+', 'tx', '.', 'value', 'this', '.', 'current_state', '.', 'nonces', '[', 'tx', '.', 'from_addr', ']', '=', 'tx', '.', 'nonce', 'let', 'seb_impact', '=', 'this', '.', 'calculate_social_capital_impact', '(', 'tx', '.', 'from_addr', ',', 'tx', ')', 'transition', '.', 'social_capital_impact', '=', 'seb_impact', '.', 'score_change', 'transition', '.', 'seb_defi_tier_change', '=', 'seb_impact', '.', 'tier_change', 'transition', '.', 'ai_risk_assessment', '=', 'this', '.', 'assess_transaction_risk', '(', 'tx', ')', 'this', '.', 'update_social_capital_scores', '(', 'tx', '.', 'from_addr', ',', 'tx', '.', 'to_addr', ',', 'seb_impact', ')', 'this', '.', 'seb_defi_tracker', '.', 'record_transaction', '(', 'tx', ',', 'seb_impact', ')', 'this', '.', 'state_transitions', '.', 'push', '(', 'transition', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_transaction_impact', '(', 'tx', ',', 'transition', ')', 'return', 'true', '}']
    ğŸ“ Parsing 222 tokens into statements
    ğŸ“ Found let statement: ['let', 'transition', '=', 'StateTransition']
  ğŸ” Parsing expression from tokens: ['StateTransition']
  ğŸ” Parsing expression from tokens: ['{', 'transaction_hash', ':', 'tx', '.', 'hash', ',', 'from_addr', ':', 'tx', '.', 'from_addr', ',', 'to_addr', ':', 'tx', '.', 'to_addr', ',', 'value', ':', 'tx', '.', 'value', ',', 'data', ':', 'tx', '.', 'data', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['tx', '.', 'hash']
  ğŸ—ºï¸ [Map] Added pair: transaction_hash -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'from_addr']
  ğŸ—ºï¸ [Map] Added pair: from_addr -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'to_addr']
  ğŸ—ºï¸ [Map] Added pair: to_addr -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'value']
  ğŸ—ºï¸ [Map] Added pair: value -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['tx', '.', 'data']
  ğŸ—ºï¸ [Map] Added pair: data -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
    ğŸ“ Found let statement: ['let', 'from_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0', ')', 'let', 'to_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'to_addr', ',', '0', ')', 'if', 'from_balance', '<', 'tx', '.', 'value']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0', ')', 'let', 'to_balance', '=', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'tx', '.', 'to_addr', ',', '0', ')', 'if', 'from_balance', '<', 'tx', '.', 'value']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'from_addr']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Insufficient balance for transaction', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'balances', '[', 'tx', '.', 'from_addr', ']', '=', 'from_balance', '-', 'tx', '.', 'value', 'this', '.', 'current_state', '.', 'balances', '[', 'tx', '.', 'to_addr', ']', '=', 'to_balance', '+', 'tx', '.', 'value', 'this', '.', 'current_state', '.', 'nonces', '[', 'tx', '.', 'from_addr', ']', '=', 'tx', '.', 'nonce']
    ğŸ“ Found let statement: ['let', 'seb_impact', '=', 'this', '.', 'calculate_social_capital_impact', '(', 'tx', '.', 'from_addr', ',', 'tx', ')', 'transition', '.', 'social_capital_impact', '=', 'seb_impact', '.', 'score_change', 'transition', '.', 'seb_defi_tier_change', '=', 'seb_impact', '.', 'tier_change', 'transition', '.', 'ai_risk_assessment', '=', 'this', '.', 'assess_transaction_risk', '(', 'tx', ')', 'this', '.', 'update_social_capital_scores', '(', 'tx', '.', 'from_addr', ',', 'tx', '.', 'to_addr', ',', 'seb_impact', ')', 'this', '.', 'seb_defi_tracker', '.', 'record_transaction', '(', 'tx', ',', 'seb_impact', ')', 'this', '.', 'state_transitions', '.', 'push', '(', 'transition', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_transaction_impact', '(', 'tx', ',', 'transition', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_social_capital_impact', '(', 'tx', '.', 'from_addr', ',', 'tx', ')', 'transition', '.', 'social_capital_impact', '=', 'seb_impact', '.', 'score_change', 'transition', '.', 'seb_defi_tier_change', '=', 'seb_impact', '.', 'tier_change', 'transition', '.', 'ai_risk_assessment', '=', 'this', '.', 'assess_transaction_risk', '(', 'tx', ')', 'this', '.', 'update_social_capital_scores', '(', 'tx', '.', 'from_addr', ',', 'tx', '.', 'to_addr', ',', 'seb_impact', ')', 'this', '.', 'seb_defi_tracker', '.', 'record_transaction', '(', 'tx', ',', 'seb_impact', ')', 'this', '.', 'state_transitions', '.', 'push', '(', 'transition', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_transaction_impact', '(', 'tx', ',', 'transition', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'from_addr']
  ğŸ” Parsing expression from tokens: ['tx']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 126
  âœ… Parsed: BlockStatement at line 171
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 171
  âœ… Parsed: BlockStatement at line 173
  ğŸ”§ Populating empty BlockStatement from 79 tokens
    ğŸ“ Parsing 79 tokens into statements
    ğŸ“ Found action statement: ['action', 'rollback_to_block', '(', 'block_number', ':', 'integer', ')', '-', '>', 'boolean', '{', 'if', 'this', '.', 'state_history', '.', 'has', '(', 'block_number', ')', '{', 'this', '.', 'current_state', '=', 'this', '.', 'copy_chain_state', '(', 'this', '.', 'state_history', '[', 'block_number', ']', ')', 'this', '.', 'recover_seb_defi_state', '(', 'block_number', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_rollback_impact', '(', 'block_number', ')', 'print', '(', 'â†©ï¸ Rolled back to block #', '+', 'string', '(', 'block_number', ')', '+', ' with state recovery', ')', 'return', 'true', '}', 'else', '{', 'print', '(', 'âŒ Cannot rollback to block #', '+', 'string', '(', 'block_number', ')', ')', 'return', 'false', '}', '}']
    ğŸ“ Parsing 67 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'state_history', '.', 'has', '(', 'block_number', ')', '{', 'this', '.', 'current_state', '=', 'this', '.', 'copy_chain_state', '(', 'this', '.', 'state_history', '[', 'block_number', ']', ')', 'this', '.', 'recover_seb_defi_state', '(', 'block_number', ')', 'this', '.', 'ai_state_analyzer', '.', 'analyze_rollback_impact', '(', 'block_number', ')', 'print', '(', 'â†©ï¸ Rolled back to block #', '+', 'string', '(', 'block_number', ')', '+', ' with state recovery', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['block_number']
  ğŸ” Parsing expression from tokens: ['else', '{', 'print', '(', 'âŒ Cannot rollback to block #', '+', 'string', '(', 'block_number', ')', ')', 'return', 'false']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 173
  âœ… Parsed: BlockStatement at line 189
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 189
  âœ… Parsed: BlockStatement at line 191
  ğŸ”§ Populating empty BlockStatement from 166 tokens
    ğŸ“ Parsing 166 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_account_state', '(', 'address', ':', 'string', ')', '-', '>', 'map', '{', 'let', 'basic_state', '=', 'AccountState', '{', 'address', ':', 'address', ',', 'balance', ':', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'address', ',', '0', ')', ',', 'nonce', ':', 'this', '.', 'current_state', '.', 'nonces', '.', 'get', '(', 'address', ',', '0', ')', ',', 'last_activity', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'let', 'seb_data', '=', 'this', '.', 'seb_defi_tracker', '.', 'get_account_data', '(', 'address', ')', 'let', 'social_capital', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'return', '{', 'address', ':', 'basic_state', '.', 'address', ',', 'balance', ':', 'basic_state', '.', 'balance', ',', 'nonce', ':', 'basic_state', '.', 'nonce', ',', 'storage_root', ':', 'this', '.', 'calculate_storage_root', '(', 'address', ')', ',', 'code_hash', ':', 'this', '.', 'get_code_hash', '(', 'address', ')', ',', 'social_capital', ':', 'social_capital', ',', 'seb_defi_tier', ':', 'seb_data', '.', 'tier', ',', 'borrowing_power', ':', 'seb_data', '.', 'borrowing_power', ',', 'defi_activity_score', ':', 'seb_data', '.', 'activity_score', ',', 'last_activity', ':', 'basic_state', '.', 'last_activity', ',', 'ai_trust_score', ':', 'this', '.', 'ai_state_analyzer', '.', 'get_trust_score', '(', 'address', ')', '}', '}']
    ğŸ“ Parsing 154 tokens into statements
    ğŸ“ Found let statement: ['let', 'basic_state', '=', 'AccountState']
  ğŸ” Parsing expression from tokens: ['AccountState']
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'address', ',', 'balance', ':', 'this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'address', ',', '0', ')', ',', 'nonce', ':', 'this', '.', 'current_state', '.', 'nonces', '.', 'get', '(', 'address', ',', '0', ')', ',', 'last_activity', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'balances', '.', 'get', '(', 'address']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: balance -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'nonces', '.', 'get', '(', 'address']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: nonce -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_activity -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    ğŸ“ Found let statement: ['let', 'seb_data', '=', 'this', '.', 'seb_defi_tracker', '.', 'get_account_data', '(', 'address', ')', 'let', 'social_capital', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'return']
  ğŸ” Parsing expression from tokens: ['this', '.', 'seb_defi_tracker', '.', 'get_account_data', '(', 'address', ')', 'let', 'social_capital', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'return']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'basic_state', '.', 'address', ',', 'balance', ':', 'basic_state', '.', 'balance', ',', 'nonce', ':', 'basic_state', '.', 'nonce', ',', 'storage_root', ':', 'this', '.', 'calculate_storage_root', '(', 'address', ')', ',', 'code_hash', ':', 'this', '.', 'get_code_hash', '(', 'address', ')', ',', 'social_capital', ':', 'social_capital', ',', 'seb_defi_tier', ':', 'seb_data', '.', 'tier', ',', 'borrowing_power', ':', 'seb_data', '.', 'borrowing_power', ',', 'defi_activity_score', ':', 'seb_data', '.', 'activity_score', ',', 'last_activity', ':', 'basic_state', '.', 'last_activity', ',', 'ai_trust_score', ':', 'this', '.', 'ai_state_analyzer', '.', 'get_trust_score', '(', 'address', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['basic_state', '.', 'address']
  ğŸ—ºï¸ [Map] Added pair: address -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['basic_state', '.', 'balance']
  ğŸ—ºï¸ [Map] Added pair: balance -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['basic_state', '.', 'nonce']
  ğŸ—ºï¸ [Map] Added pair: nonce -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_storage_root', '(', 'address', ')']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: storage_root -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_code_hash', '(', 'address', ')']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: code_hash -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['social_capital']
  ğŸ—ºï¸ [Map] Added pair: social_capital -> Identifier
  ğŸ” Parsing expression from tokens: ['seb_data', '.', 'tier']
  ğŸ—ºï¸ [Map] Added pair: seb_defi_tier -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['seb_data', '.', 'borrowing_power']
  ğŸ—ºï¸ [Map] Added pair: borrowing_power -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['seb_data', '.', 'activity_score']
  ğŸ—ºï¸ [Map] Added pair: defi_activity_score -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['basic_state', '.', 'last_activity']
  ğŸ—ºï¸ [Map] Added pair: last_activity -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'ai_state_analyzer', '.', 'get_trust_score', '(', 'address', ')']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: ai_trust_score -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 11 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 191
  âœ… Parsed: BlockStatement at line 216
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 216
  âœ… Parsed: BlockStatement at line 218
  ğŸ”§ Populating empty BlockStatement from 15 tokens
    ğŸ“ Parsing 15 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_state_root', '(', ')', '-', '>', 'string', '{', 'return', 'this', '.', 'current_state', '.', 'state_root', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'state_root']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 218
  âœ… Parsed: BlockStatement at line 220
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 220
  âœ… Parsed: BlockStatement at line 222
  ğŸ”§ Populating empty BlockStatement from 94 tokens
    ğŸ“ Parsing 94 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_social_capital_impact', '(', 'address', ':', 'string', ',', 'transaction', ':', 'any', ')', '-', '>', 'map', '{', 'let', 'base_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'let', 'impact', '=', 'this', '.', 'seb_defi_tracker', '.', 'calculate_impact', '(', 'address', ',', 'transaction', ',', 'base_score', ')', 'return', '{', 'score_change', ':', 'impact', '.', 'delta', ',', 'new_score', ':', 'math', '.', 'max', '(', '0.0', ',', 'math', '.', 'min', '(', '1.0', ',', 'base_score', '+', 'impact', '.', 'delta', ')', ')', ',', 'tier_change', ':', 'impact', '.', 'tier_change', ',', 'factors', ':', 'impact', '.', 'factors', ',', 'ai_explanation', ':', 'impact', '.', 'explanation', '}', '}']
    ğŸ“ Parsing 78 tokens into statements
    ğŸ“ Found let statement: ['let', 'base_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'let', 'impact', '=', 'this', '.', 'seb_defi_tracker', '.', 'calculate_impact', '(', 'address', ',', 'transaction', ',', 'base_score', ')', 'return']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'address', ',', '0.0', ')', 'let', 'impact', '=', 'this', '.', 'seb_defi_tracker', '.', 'calculate_impact', '(', 'address', ',', 'transaction', ',', 'base_score', ')', 'return']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ” Parsing expression from tokens: ['0.0']
  ğŸ” Parsing expression from tokens: ['{', 'score_change', ':', 'impact', '.', 'delta', ',', 'new_score', ':', 'math', '.', 'max', '(', '0.0', ',', 'math', '.', 'min', '(', '1.0', ',', 'base_score', '+', 'impact', '.', 'delta', ')', ')', ',', 'tier_change', ':', 'impact', '.', 'tier_change', ',', 'factors', ':', 'impact', '.', 'factors', ',', 'ai_explanation', ':', 'impact', '.', 'explanation']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['impact', '.', 'delta']
  ğŸ—ºï¸ [Map] Added pair: score_change -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['math', '.', 'max', '(', '0.0']
  ğŸ” Parsing expression from tokens: ['0.0']
  ğŸ—ºï¸ [Map] Added pair: new_score -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['impact', '.', 'tier_change']
  ğŸ—ºï¸ [Map] Added pair: tier_change -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['impact', '.', 'factors']
  ğŸ—ºï¸ [Map] Added pair: factors -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['impact', '.', 'explanation']
  ğŸ—ºï¸ [Map] Added pair: ai_explanation -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 222
  âœ… Parsed: BlockStatement at line 233
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 233
  âœ… Parsed: BlockStatement at line 236
  ğŸ”§ Populating empty BlockStatement from 120 tokens
    ğŸ“ Parsing 120 tokens into statements
    ğŸ“ Found action statement: ['action', 'copy_chain_state', '(', 'state', ':', 'ChainState', ')', '-', '>', 'ChainState', '{', 'let', 'new_state', '=', 'ChainState', '{', '}', 'new_state', '.', 'block_number', '=', 'state', '.', 'block_number', 'new_state', '.', 'block_hash', '=', 'state', '.', 'block_hash', 'new_state', '.', 'total_difficulty', '=', 'state', '.', 'total_difficulty', 'new_state', '.', 'state_root', '=', 'state', '.', 'state_root', 'new_state', '.', 'balances', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'balances', ')', 'new_state', '.', 'nonces', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'nonces', ')', 'new_state', '.', 'contract_storage', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'contract_storage', ')', 'new_state', '.', 'contract_code', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'contract_code', ')', 'new_state', '.', 'social_capital_scores', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'social_capital_scores', ')', 'new_state', '.', 'seb_defi_metrics', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'seb_defi_metrics', ')', 'return', 'new_state', '}']
    ğŸ“ Parsing 108 tokens into statements
    ğŸ“ Found let statement: ['let', 'new_state', '=', 'ChainState']
  ğŸ” Parsing expression from tokens: ['ChainState']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['new_state', '.', 'block_number', '=', 'state', '.', 'block_number', 'new_state', '.', 'block_hash', '=', 'state', '.', 'block_hash', 'new_state', '.', 'total_difficulty', '=', 'state', '.', 'total_difficulty', 'new_state', '.', 'state_root', '=', 'state', '.', 'state_root', 'new_state', '.', 'balances', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'balances', ')', 'new_state', '.', 'nonces', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'nonces', ')', 'new_state', '.', 'contract_storage', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'contract_storage', ')', 'new_state', '.', 'contract_code', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'contract_code', ')', 'new_state', '.', 'social_capital_scores', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'social_capital_scores', ')', 'new_state', '.', 'seb_defi_metrics', '=', 'this', '.', 'deep_copy_map', '(', 'state', '.', 'seb_defi_metrics', ')']
  ğŸ” Parsing expression from tokens: ['new_state']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 236
  âœ… Parsed: BlockStatement at line 252
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 252
  âœ… Parsed: BlockStatement at line 254
  ğŸ”§ Populating empty BlockStatement from 34 tokens
    ğŸ“ Parsing 34 tokens into statements
    ğŸ“ Found action statement: ['action', 'deep_copy_map', '(', 'original', ':', 'map', ')', '-', '>', 'map', '{', 'let', 'copy', '=', '{', '}', 'for', 'each', 'key', ',', 'value', 'in', 'original', '{', 'copy', '[', 'key', ']', '=', 'value', '}', 'return', 'copy', '}']
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found let statement: ['let', 'copy', '=']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'key', ',', 'value', 'in', 'original', '{', 'copy', '[', 'key', ']', '=', 'value']
  ğŸ” Parsing expression from tokens: ['copy']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 254
  âœ… Parsed: BlockStatement at line 260
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 260
  âœ… Parsed: BlockStatement at line 262
  ğŸ”§ Populating empty BlockStatement from 60 tokens
    ğŸ“ Parsing 60 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_enhanced_state_root', '(', ')', '-', '>', 'string', '{', 'let', 'state_data', '=', 'string', '(', 'this', '.', 'current_state', '.', 'block_number', ')', '+', 'this', '.', 'current_state', '.', 'block_hash', '+', 'string', '(', 'this', '.', 'current_state', '.', 'total_difficulty', ')', '+', 'string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')', '}']
    ğŸ“ Parsing 51 tokens into statements
    ğŸ“ Found let statement: ['let', 'state_data', '=', 'string', '(', 'this', '.', 'current_state', '.', 'block_number', ')', '+', 'this', '.', 'current_state', '.', 'block_hash', '+', 'string', '(', 'this', '.', 'current_state', '.', 'total_difficulty', ')', '+', 'string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'current_state', '.', 'block_number', ')', '+', 'this', '.', 'current_state', '.', 'block_hash', '+', 'string', '(', 'this', '.', 'current_state', '.', 'total_difficulty', ')', '+', 'string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'block_number']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'block_hash', '+', 'string', '(', 'this', '.', 'current_state', '.', 'total_difficulty', ')', '+', 'string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'current_state', '.', 'total_difficulty', ')', '+', 'string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'total_difficulty']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'calculate_social_capital_hash', '(', ')', ')', '+', 'string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_social_capital_hash', '(', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'calculate_defi_metrics_hash', '(', ')', ')', 'return', 'crypto', '.', 'keccak256', '(', 'state_data', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_defi_metrics_hash', '(', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 262
  âœ… Parsed: BlockStatement at line 270
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 270
  âœ… Parsed: BlockStatement at line 272
  ğŸ”§ Populating empty BlockStatement from 95 tokens
    ğŸ“ Parsing 95 tokens into statements
    ğŸ“ Found action statement: ['action', 'update_social_capital_scores', '(', 'from_addr', ':', 'string', ',', 'to_addr', ':', 'string', ',', 'impact', ':', 'map', ')', '{', 'if', 'impact', '.', 'score_change', '!=', '0', '{', 'let', 'current_from_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'from_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'from_addr', ']', '=', 'current_from_score', '+', 'impact', '.', 'score_change', 'if', 'impact', '.', 'score_change', '>', '0.1', '{', 'let', 'current_to_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'to_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'to_addr', ']', '=', 'current_to_score', '+', '(', 'impact', '.', 'score_change', '*', '0.1', ')', '}', '}', '}']
    ğŸ“ Parsing 78 tokens into statements
  ğŸ” Parsing expression from tokens: ['impact', '.', 'score_change', '!=', '0', '{', 'let', 'current_from_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'from_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'from_addr', ']', '=', 'current_from_score', '+', 'impact', '.', 'score_change', 'if', 'impact', '.', 'score_change', '>', '0.1', '{', 'let', 'current_to_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'to_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'to_addr', ']', '=', 'current_to_score', '+', '(', 'impact', '.', 'score_change', '*', '0.1', ')', '}']
  ğŸ” Parsing expression from tokens: ['0', '{', 'let', 'current_from_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'from_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'from_addr', ']', '=', 'current_from_score', '+', 'impact', '.', 'score_change', 'if', 'impact', '.', 'score_change', '>', '0.1', '{', 'let', 'current_to_score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'to_addr', ',', '0.0', ')', 'this', '.', 'current_state', '.', 'social_capital_scores', '[', 'to_addr', ']', '=', 'current_to_score', '+', '(', 'impact', '.', 'score_change', '*', '0.1', ')', '}']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 272
  âœ… Parsed: BlockStatement at line 283
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 283
  âœ… Parsed: BlockStatement at line 285
  ğŸ”§ Populating empty BlockStatement from 86 tokens
    ğŸ“ Parsing 86 tokens into statements
    ğŸ“ Found action statement: ['action', 'update_seb_defi_metrics', '(', 'block', ':', 'any', ')', '{', 'let', 'defi_activity', '=', '0', 'let', 'total_value', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'if', 'this', '.', 'is_defi_related', '(', 'tx', ')', '{', 'defi_activity', '+', '=', '1', 'total_value', '+', '=', 'tx', '.', 'value', '}', '}', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '[', 'block', '.', 'index', ']', '=', '{', 'defi_transaction_count', ':', 'defi_activity', ',', 'total_value_moved', ':', 'total_value', ',', 'social_capital_avg', ':', 'this', '.', 'calculate_average_social_capital', '(', 'block', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', '}']
    ğŸ“ Parsing 77 tokens into statements
    ğŸ“ Found let statement: ['let', 'defi_activity', '=', '0', 'let', 'total_value', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions']
  ğŸ” Parsing expression from tokens: ['0', 'let', 'total_value', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'this', '.', 'is_defi_related', '(', 'tx', ')', '{', 'defi_activity', '+', '=', '1', 'total_value', '+', '=', 'tx', '.', 'value', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'seb_defi_metrics', '[', 'block', '.', 'index', ']', '=', '{', 'defi_transaction_count', ':', 'defi_activity', ',', 'total_value_moved', ':', 'total_value', ',', 'social_capital_avg', ':', 'this', '.', 'calculate_average_social_capital', '(', 'block', ')', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 285
  âœ… Parsed: BlockStatement at line 302
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 302
  âœ… Parsed: BlockStatement at line 304
  ğŸ”§ Populating empty BlockStatement from 23 tokens
    ğŸ“ Parsing 23 tokens into statements
    ğŸ“ Found action statement: ['action', 'recover_seb_defi_state', '(', 'block_number', ':', 'integer', ')', '{', 'this', '.', 'seb_defi_tracker', '.', 'recover_from_block', '(', 'block_number', ')', 'this', '.', 'recalculate_social_capital_scores', '(', 'block_number', ')', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'seb_defi_tracker', '.', 'recover_from_block', '(', 'block_number', ')', 'this', '.', 'recalculate_social_capital_scores', '(', 'block_number', ')']
  ğŸ” Parsing expression from tokens: ['block_number']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 304
  âœ… Parsed: BlockStatement at line 310
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 310
  âœ… Parsed: BlockStatement at line 313
  ğŸ”§ Populating empty BlockStatement from 30 tokens
    ğŸ“ Parsing 30 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_storage_root', '(', 'address', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'storage_data', '=', 'string', '(', 'this', '.', 'current_state', '.', 'contract_storage', ')', 'return', 'crypto', '.', 'keccak256', '(', 'storage_data', ')', '}']
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found let statement: ['let', 'storage_data', '=', 'string', '(', 'this', '.', 'current_state', '.', 'contract_storage', ')', 'return', 'crypto', '.', 'keccak256', '(', 'storage_data', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'current_state', '.', 'contract_storage', ')', 'return', 'crypto', '.', 'keccak256', '(', 'storage_data', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'contract_storage']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 313
  âœ… Parsed: BlockStatement at line 316
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 316
  âœ… Parsed: BlockStatement at line 318
  ğŸ”§ Populating empty BlockStatement from 40 tokens
    ğŸ“ Parsing 40 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_code_hash', '(', 'address', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'code', '=', 'this', '.', 'current_state', '.', 'contract_code', '.', 'get', '(', 'address', ',', '', ')', 'return', 'code', '!=', '', '?', 'crypto', '.', 'keccak256', '(', 'code', ')', ':', '0x', '}']
    ğŸ“ Parsing 28 tokens into statements
    ğŸ“ Found let statement: ['let', 'code', '=', 'this', '.', 'current_state', '.', 'contract_code', '.', 'get', '(', 'address', ',', '', ')', 'return', 'code', '!=', '', '?', 'crypto', '.', 'keccak256', '(', 'code', ')', ':', '0x']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'contract_code', '.', 'get', '(', 'address', ',', '', ')', 'return', 'code', '!=', '', '?', 'crypto', '.', 'keccak256', '(', 'code', ')', ':', '0x']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ” Parsing expression from tokens: ['']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 318
  âœ… Parsed: BlockStatement at line 321
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 321
  âœ… Parsed: BlockStatement at line 323
  ğŸ”§ Populating empty BlockStatement from 47 tokens
    ğŸ“ Parsing 47 tokens into statements
    ğŸ“ Found action statement: ['action', 'is_defi_related', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'tx', '.', 'data', '!=', 'null', 'and', '(', 'tx', '.', 'data', '.', 'contains', '(', 'transfer', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'stake', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'lend', ')', ')', '}']
    ğŸ“ Parsing 35 tokens into statements
  ğŸ” Parsing expression from tokens: ['tx', '.', 'data', '!=', 'null', 'and', '(', 'tx', '.', 'data', '.', 'contains', '(', 'transfer', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'stake', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'lend', ')', ')']
  ğŸ” Parsing expression from tokens: ['null', 'and', '(', 'tx', '.', 'data', '.', 'contains', '(', 'transfer', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'stake', ')', 'or', 'tx', '.', 'data', '.', 'contains', '(', 'lend', ')', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 323
  âœ… Parsed: BlockStatement at line 329
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 329
  âœ… Parsed: BlockStatement at line 331
  ğŸ”§ Populating empty BlockStatement from 64 tokens
    ğŸ“ Parsing 64 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_average_social_capital', '(', 'block', ':', 'any', ')', '-', '>', 'float', '{', 'let', 'total', '=', '0.0', 'let', 'count', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'let', 'score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0.0', ')', 'total', '+', '=', 'score', 'count', '+', '=', '1', '}', 'return', 'count', '>', '0', '?', 'total', '/', 'count', ':', '0.0', '}']
    ğŸ“ Parsing 52 tokens into statements
    ğŸ“ Found let statement: ['let', 'total', '=', '0.0', 'let', 'count', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions']
  ğŸ” Parsing expression from tokens: ['0.0', 'let', 'count', '=', '0', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'score', '=', 'this', '.', 'current_state', '.', 'social_capital_scores', '.', 'get', '(', 'tx', '.', 'from_addr', ',', '0.0', ')', 'total', '+', '=', 'score', 'count', '+', '=', '1']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['count', '>', '0', '?', 'total', '/', 'count', ':', '0.0']
  ğŸ” Parsing expression from tokens: ['0', '?', 'total', '/', 'count', ':', '0.0']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 331
  âœ… Parsed: BlockStatement at line 342
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 342
  âœ… Parsed: BlockStatement at line 344
  ğŸ”§ Populating empty BlockStatement from 81 tokens
    ğŸ“ Parsing 81 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_defi_activity_level', '(', ')', '-', '>', 'string', '{', 'let', 'recent_blocks', '=', '10', 'let', 'defi_count', '=', '0', 'for', 'each', 'i', 'in', 'range', '(', '0', ',', 'recent_blocks', ')', '{', 'let', 'block_num', '=', 'this', '.', 'current_state', '.', 'block_number', '-', 'i', 'if', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '.', 'has', '(', 'block_num', ')', '{', 'defi_count', '+', '=', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '[', 'block_num', ']', '.', 'defi_transaction_count', '}', '}', 'if', 'defi_count', '>', '50', ':', 'return', 'HIGH', 'if', 'defi_count', '>', '20', ':', 'return', 'MEDIUM', 'return', 'LOW', '}']
    ğŸ“ Parsing 72 tokens into statements
    ğŸ“ Found let statement: ['let', 'recent_blocks', '=', '10', 'let', 'defi_count', '=', '0', 'for', 'each', 'i', 'in', 'range', '(', '0', ',', 'recent_blocks', ')']
  ğŸ” Parsing expression from tokens: ['10', 'let', 'defi_count', '=', '0', 'for', 'each', 'i', 'in', 'range', '(', '0', ',', 'recent_blocks', ')']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'block_num', '=', 'this', '.', 'current_state', '.', 'block_number', '-', 'i', 'if', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '.', 'has', '(', 'block_num', ')', '{', 'defi_count', '+', '=', 'this', '.', 'current_state', '.', 'seb_defi_metrics', '[', 'block_num', ']', '.', 'defi_transaction_count', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['defi_count', '>', '50', ':']
  ğŸ” Parsing expression from tokens: ['50', ':']
  ğŸ” Parsing expression from tokens: ['HIGH']
  ğŸ” Parsing expression from tokens: ['defi_count', '>', '20', ':']
  ğŸ” Parsing expression from tokens: ['20', ':']
  ğŸ” Parsing expression from tokens: ['MEDIUM']
  ğŸ” Parsing expression from tokens: ['LOW']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 344
  âœ… Parsed: BlockStatement at line 358
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 358
  âœ… Parsed: BlockStatement at line 361
  ğŸ”§ Populating empty BlockStatement from 22 tokens
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found action statement: ['action', 'assess_transaction_risk', '(', 'tx', ':', 'any', ')', '-', '>', 'map', '{', 'return', '{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.9', '}', '}']
    ğŸ“ Parsing 10 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'risk_level', ':', 'low', ',', 'confidence', ':', '0.9']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['low']
  ğŸ—ºï¸ [Map] Added pair: risk_level -> StringLiteral
  ğŸ” Parsing expression from tokens: ['0.9']
  ğŸ—ºï¸ [Map] Added pair: confidence -> FloatLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 361
  âœ… Parsed: BlockStatement at line 363
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 363
  âœ… Parsed: BlockStatement at line 365
  ğŸ”§ Populating empty BlockStatement from 9 tokens
    ğŸ“ Parsing 9 tokens into statements
    ğŸ“ Found action statement: ['action', 'recalculate_social_capital_scores', '(', 'block_number', ':', 'integer', ')', '{', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 365
  âœ… Parsed: BlockStatement at line 367
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 367
  âœ… Parsed: BlockStatement at line 369
  ğŸ”§ Populating empty BlockStatement from 23 tokens
    ğŸ“ Parsing 23 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_social_capital_hash', '(', ')', '-', '>', 'string', '{', 'return', 'crypto', '.', 'keccak256', '(', 'string', '(', 'this', '.', 'current_state', '.', 'social_capital_scores', ')', ')', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'keccak256', '(', 'string', '(', 'this', '.', 'current_state', '.', 'social_capital_scores', ')', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'current_state', '.', 'social_capital_scores', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'social_capital_scores']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 369
  âœ… Parsed: BlockStatement at line 371
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 371
  âœ… Parsed: BlockStatement at line 373
  ğŸ”§ Populating empty BlockStatement from 23 tokens
    ğŸ“ Parsing 23 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_defi_metrics_hash', '(', ')', '-', '>', 'string', '{', 'return', 'crypto', '.', 'keccak256', '(', 'string', '(', 'this', '.', 'current_state', '.', 'seb_defi_metrics', ')', ')', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'keccak256', '(', 'string', '(', 'this', '.', 'current_state', '.', 'seb_defi_metrics', ')', ')']
  ğŸ” Parsing expression from tokens: ['string', '(', 'this', '.', 'current_state', '.', 'seb_defi_metrics', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'current_state', '.', 'seb_defi_metrics']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 373
  âœ… Parsed: BlockStatement at line 375
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 375
  âœ… Parsed: BlockStatement at line 376
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 376
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: SEBDeFiTracker
  ğŸ“ Found property name: calculate_impact
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: transaction
  ğŸ“ Property: transaction: any
  ğŸ“ Found property name: current_score
  ğŸ“ Property: current_score: float
  ğŸ“ Found property name: map
  ğŸ“ Found property name: null
  ğŸ“ Found property name: get_account_data
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: map
  ğŸ“ Found property name: record_transaction
  ğŸ“ Found property name: tx
  ğŸ“ Property: tx: any
  ğŸ“ Found property name: impact
  ğŸ“ Property: impact: map
  ğŸ“ Found property name: tx
  ğŸ“ Found property name: hash
  ğŸ“ Found property name: slice
  ğŸ“ Found property name: recover_from_block
  ğŸ“ Found property name: block_number
  ğŸ“ Property: block_number: integer
  ğŸ“ Found property name: string
  ğŸ“ Found property name: block_number
  âœ… Parsed: EntityStatement at line 379
  âœ… Parsed: EntityStatement at line 379
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: AIStateAnalyzer
  ğŸ“ Found property name: analyze_block_impact
  ğŸ“ Found property name: block
  ğŸ“ Property: block: any
  ğŸ“ Found property name: state
  ğŸ“ Property: state: any
  ğŸ“ Found property name: analyze_transaction_impact
  ğŸ“ Found property name: tx
  ğŸ“ Property: tx: any
  ğŸ“ Found property name: transition
  ğŸ“ Property: transition: any
  ğŸ“ Found property name: analyze_rollback_impact
  ğŸ“ Found property name: block_number
  ğŸ“ Property: block_number: integer
  ğŸ“ Found property name: get_trust_score
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: float
  âœ… Parsed: EntityStatement at line 406
  âœ… Parsed: EntityStatement at line 406
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: QuantumStateVerifier
  ğŸ“ Found property name: verify_state_integrity
  ğŸ“ Found property name: state
  ğŸ“ Property: state: any
  ğŸ“ Found property name: map
  âœ… Parsed: EntityStatement at line 424
  âœ… Parsed: EntityStatement at line 424
  âœ… Parsed: BlockStatement at line 431
  ğŸ”§ Populating empty BlockStatement from 149 tokens
    ğŸ“ Parsing 149 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_advanced_state_manager', '(', ')', '{', 'print', '(', 'ğŸ—„ï¸ Testing Advanced State Manager...', ')', 'let', 'state_manager', '=', 'StateManager', '{', '}', 'state_manager', '.', 'current_state', '.', 'balances', '[', 'ZIV_sender', ']', '=', '1000', 'state_manager', '.', 'current_state', '.', 'social_capital_scores', '[', 'ZIV_sender', ']', '=', '0.6', 'let', 'test_tx', '=', '{', 'hash', ':', 'test_tx_hash', ',', 'from_addr', ':', 'ZIV_sender', ',', 'to_addr', ':', 'ZIV_receiver', ',', 'value', ':', '100', ',', 'data', ':', 'null', ',', 'nonce', ':', '1', '}', 'print', '(', 'Initial balance sender: ', '+', 'string', '(', 'state_manager', '.', 'get_account_state', '(', 'ZIV_sender', ')', '.', 'balance', ')', ')', 'state_manager', '.', 'apply_transaction', '(', 'test_tx', ')', 'let', 'sender_state', '=', 'state_manager', '.', 'get_account_state', '(', 'ZIV_sender', ')', 'let', 'receiver_state', '=', 'state_manager', '.', 'get_account_state', '(', 'ZIV_receiver', ')', 'print', '(', 'After tx balance sender: ', '+', 'string', '(', 'sender_state', '.', 'balance', ')', ')', 'print', '(', 'After tx balance receiver: ', '+', 'string', '(', 'receiver_state', '.', 'balance', ')', ')', 'print', '(', 'Sender social capital: ', '+', 'string', '(', 'sender_state', '.', 'social_capital', ')', ')', 'print', '(', 'Receiver social capital: ', '+', 'string', '(', 'receiver_state', '.', 'social_capital', ')', ')', '}']
    ğŸ“ Parsing 142 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ—„ï¸ Testing Advanced State Manager...', ')', 'let', 'state_manager', '=', 'StateManager']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['state_manager', '.', 'current_state', '.', 'balances', '[', 'ZIV_sender', ']', '=', '1000', 'state_manager', '.', 'current_state', '.', 'social_capital_scores', '[', 'ZIV_sender', ']', '=', '0.6']
    ğŸ“ Found let statement: ['let', 'test_tx', '=']
  ğŸ” Parsing expression from tokens: ['{', 'hash', ':', 'test_tx_hash', ',', 'from_addr', ':', 'ZIV_sender', ',', 'to_addr', ':', 'ZIV_receiver', ',', 'value', ':', '100', ',', 'data', ':', 'null', ',', 'nonce', ':', '1']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['test_tx_hash']
  ğŸ—ºï¸ [Map] Added pair: hash -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ZIV_sender']
  ğŸ—ºï¸ [Map] Added pair: from_addr -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ZIV_receiver']
  ğŸ—ºï¸ [Map] Added pair: to_addr -> StringLiteral
  ğŸ” Parsing expression from tokens: ['100']
  ğŸ—ºï¸ [Map] Added pair: value -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['null']
  ğŸ—ºï¸ [Map] Added pair: data -> Identifier
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: nonce -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
    ğŸ“ Found print statement: ['print', '(', 'Initial balance sender: ', '+', 'string', '(', 'state_manager', '.', 'get_account_state', '(', 'ZIV_sender', ')', '.', 'balance', ')', ')', 'state_manager', '.', 'apply_transaction', '(', 'test_tx', ')', 'let', 'sender_state', '=', 'state_manager', '.', 'get_account_state', '(', 'ZIV_sender', ')', 'let', 'receiver_state', '=', 'state_manager', '.', 'get_account_state', '(', 'ZIV_receiver', ')', 'print', '(', 'After tx balance sender: ', '+', 'string', '(', 'sender_state', '.', 'balance', ')', ')', 'print', '(', 'After tx balance receiver: ', '+', 'string', '(', 'receiver_state', '.', 'balance', ')', ')', 'print', '(', 'Sender social capital: ', '+', 'string', '(', 'sender_state', '.', 'social_capital', ')', ')', 'print', '(', 'Receiver social capital: ', '+', 'string', '(', 'receiver_state', '.', 'social_capital', ')', ')']
    âœ… Parsed 5 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 431
  âœ… Parsed: BlockStatement at line 459
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 459
  âœ… Parsed: BlockStatement at line 461
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'StateManager', ',', 'StateManagerProtocol', ',', 'test_advanced_state_manager', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 461
  âœ… Parsed: BlockStatement at line 465
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 465
âœ… Parsing Complete: 72 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-10: ['use', 'datetime', 'as', 'datetime', 'protocol', 'P2PNetworkProtocol', '{']
  [2] statement/ACTION @ 11-25: ['action', 'start_node', '(', 'port', ':', 'integer', ',', 'network_type', ':', 'string', ')', '-', '>', 'boolean']
  [3] statement/ACTION @ 25-39: ['action', 'connect_to_peer', '(', 'address', ':', 'string', ',', 'chain_type', ':', 'string', ')', '-', '>', 'boolean']
  [4] statement/ACTION @ 39-53: ['action', 'broadcast_block', '(', 'block', ':', 'any', ',', 'chain_type', ':', 'string', ')', '-', '>', 'boolean']
  [5] statement/ACTION @ 53-67: ['action', 'broadcast_transaction', '(', 'tx', ':', 'any', ',', 'chain_type', ':', 'string', ')', '-', '>', 'boolean']
  [6] statement/ACTION @ 67-83: ['action', 'discover_peers', '(', 'network_type', ':', 'string', ')', '-', '>', 'list', '}', 'contract', 'P2PNetwork', 'implements', 'P2PNetworkProtocol', '{']
  [7] statement/PERSISTENT @ 83-88: ['persistent', 'storage', 'peers', ':', 'map']
  [8] statement/PERSISTENT @ 88-93: ['persistent', 'storage', 'node_id', ':', 'string']
  [9] statement/PERSISTENT @ 93-99: ['persistent', 'storage', 'port', ':', 'integer', '?']
  [10] statement/PERSISTENT @ 99-106: ['persistent', 'storage', 'is_listening', ':', 'boolean', '=', 'false']
  [11] statement/PERSISTENT @ 106-111: ['persistent', 'storage', 'message_queue', ':', 'list']
  [12] statement/PERSISTENT @ 111-116: ['persistent', 'storage', 'chain_connections', ':', 'map']
  [13] statement/entity_statement @ 116-143: ['entity', 'Peer', '{', 'address', ':', 'string', 'chain_type', ':', 'string', 'last_seen', ':', 'integer', 'connection_score', ':', 'float', '=', '1.0', 'latency', ':', 'integer', '=', '0', 'is_connected', ':', 'boolean', '=', 'false', '}']
  [14] statement/ACTION @ 144-199: ['action', 'init', '(', 'node_id', ':', 'string', ')', '{', 'this', '.', 'node_id', '=', 'node_id', 'this', '.', 'peers', '=', '{', '}', 'this', '.', 'message_queue', '=', '[', ']', 'this', '.', 'chain_connections', '=', '{', 'ZIVER', ':', '[', ']', ',', 'ETHEREUM', ':', '[', ']', ',', 'TON', ':', '[', ']', ',', 'BSC', ':', '[', ']', ',', 'POLYGON', ':', '[', ']', '}', '}']
  [15] statement/} @ 199-199: ['}']
  [16] statement/ACTION @ 200-280: ['action', 'start_node', '(', 'port', ':', 'integer', ',', 'network_type', ':', 'string', '=', 'mainnet', ')', '-', '>', 'boolean', '{', 'this', '.', 'port', '=', 'port', 'this', '.', 'is_listening', '=', 'true', 'print', '(', 'ğŸ”„ Starting P2P node on port ', '+', 'string', '(', 'port', ')', ')', 'print', '(', 'Node ID: ', '+', 'this', '.', 'node_id', ')', 'print', '(', 'Network: ', '+', 'network_type', ')', 'print', '(', 'ğŸ“¡ Listening for peers...', ')', 'spawn', 'this', '.', 'start_message_processor', '(', ')', 'spawn', 'this', '.', 'start_peer_discovery', '(', ')', 'spawn', 'this', '.', 'start_health_monitor', '(', ')', 'this', '.', 'connect_to_bootstrap_nodes', '(', 'network_type', ')', 'return', 'true', '}']
  [17] statement/} @ 280-280: ['}']
  [18] statement/ACTION @ 281-411: ['action', 'connect_to_peer', '(', 'address', ':', 'string', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'boolean', '{', 'let', 'peer_id', '=', 'chain_type', '+', '_', '+', 'address', 'if', 'this', '.', 'peers', '.', 'has', '(', 'peer_id', ')', '{', 'print', '(', 'âš ï¸ Already connected to peer: ', '+', 'address', ')', 'return', 'true', '}', 'print', '(', 'ğŸ”— Connecting to ', '+', 'chain_type', '+', ' peer: ', '+', 'address', ')', 'let', 'peer', '=', 'Peer', '{', 'address', ':', 'address', ',', 'chain_type', ':', 'chain_type', ',', 'last_seen', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'is_connected', ':', 'true', '}', 'this', '.', 'peers', '[', 'peer_id', ']', '=', 'peer', 'this', '.', 'chain_connections', '[', 'chain_type', ']', '.', 'push', '(', 'peer_id', ')', 'print', '(', 'âœ… Connected to ', '+', 'string', '(', 'this', '.', 'get_connected_peers_count', '(', ')', ')', '+', ' peers across ', '+', 'string', '(', 'this', '.', 'get_active_chains_count', '(', ')', ')', '+', ' chains', ')', 'return', 'true', '}']
  [19] statement/} @ 411-411: ['}']
  [20] statement/ACTION @ 412-527: ['action', 'broadcast_block', '(', 'block', ':', 'any', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'boolean', '{', 'let', 'target_peers', '=', 'this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ“¢ Broadcasting ', '+', 'chain_type', '+', ' block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers', '{', 'let', 'peer', '=', 'this', '.', 'peers', '[', 'peer_id', ']', 'if', 'this', '.', 'send_block_to_peer', '(', 'peer', ',', 'block', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'print', '(', 'âœ… Successfully broadcast to ', '+', 'string', '(', 'success_count', ')', '+', '/', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'return', 'success_count', '>', '0', '}']
  [21] statement/} @ 527-527: ['}']
  [22] statement/ACTION @ 528-628: ['action', 'broadcast_transaction', '(', 'tx', ':', 'any', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'boolean', '{', 'let', 'target_peers', '=', 'this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ’¸ Broadcasting ', '+', 'chain_type', '+', ' transaction to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers', '{', 'let', 'peer', '=', 'this', '.', 'peers', '[', 'peer_id', ']', 'if', 'this', '.', 'send_transaction_to_peer', '(', 'peer', ',', 'tx', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'if', 'this', '.', 'is_cross_chain_transaction', '(', 'tx', ')', '{', 'spawn', 'this', '.', 'broadcast_to_bridge_nodes', '(', 'tx', ')', '}', 'return', 'success_count', '>', '0', '}']
  [23] statement/} @ 628-628: ['}']
  [24] statement/ACTION @ 629-730: ['action', 'discover_peers', '(', 'network_type', ':', 'string', '=', 'mainnet', ')', '-', '>', 'list', '{', 'print', '(', 'ğŸ” Discovering peers on ', '+', 'network_type', '+', ' network...', ')', 'let', 'discovered_peers', '=', '[', ']', 'let', 'dns_peers', '=', 'this', '.', 'discover_via_dns', '(', 'network_type', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'dns_peers', ')', 'let', 'exchanged_peers', '=', 'this', '.', 'exchange_peers_with_connected', '(', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'exchanged_peers', ')', 'let', 'bootstrap_peers', '=', 'this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'bootstrap_peers', ')', 'discovered_peers', '=', 'this', '.', 'deduplicate_peers', '(', 'discovered_peers', ')', 'print', '(', 'ğŸ¯ Discovered ', '+', 'string', '(', 'discovered_peers', '.', 'count', '(', ')', ')', '+', ' potential peers', ')', 'return', 'discovered_peers', '}']
  [25] statement/} @ 730-730: ['}']
  [26] statement/ACTION @ 731-836: ['action', 'send_block_to_peer', '(', 'peer', ':', 'Peer', ',', 'block', ':', 'any', ')', '-', '>', 'boolean', '{', 'try', '{', 'print', '(', '  ğŸ“¦ Sending block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'peer', '.', 'address', ')', 'peer', '.', 'last_seen', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'peer', '.', 'connection_score', '=', 'math', '.', 'min', '(', '1.0', ',', 'peer', '.', 'connection_score', '+', '0.01', ')', 'return', 'true', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send block to ', '+', 'peer', '.', 'address', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'peer', '.', 'connection_score', '=', 'math', '.', 'max', '(', '0.0', ',', 'peer', '.', 'connection_score', '-', '0.1', ')', 'return', 'false', '}', '}']
  [27] statement/} @ 836-836: ['}']
  [28] statement/ACTION @ 837-894: ['action', 'send_transaction_to_peer', '(', 'peer', ':', 'Peer', ',', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'try', '{', 'print', '(', '  ğŸ’¸ Sending transaction to ', '+', 'peer', '.', 'address', ')', 'peer', '.', 'last_seen', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'true', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send transaction to ', '+', 'peer', '.', 'address', ')', 'return', 'false', '}', '}']
  [29] statement/} @ 894-894: ['}']
  [30] statement/ACTION @ 895-943: ['action', 'async', 'start_message_processor', '(', ')', '{', 'print', '(', 'ğŸ”„ Starting advanced message processor...', ')', 'while', 'this', '.', 'is_listening', '{', 'if', 'not', 'this', '.', 'message_queue', '.', 'is_empty', '(', ')', '{', 'let', 'message', '=', 'this', '.', 'message_queue', '.', 'shift', '(', ')', 'this', '.', 'process_incoming_message', '(', 'message', ')', '}', 'await', 'sleep', '(', '0.1', ')', '}', '}']
  [31] statement/} @ 943-943: ['}']
  [32] statement/ACTION @ 944-1006: ['action', 'async', 'start_peer_discovery', '(', ')', '{', 'print', '(', 'ğŸ”„ Starting continuous peer discovery...', ')', 'while', 'this', '.', 'is_listening', '{', 'let', 'new_peers', '=', 'this', '.', 'discover_peers', '(', ')', 'for', 'each', 'peer_info', 'in', 'new_peers', '{', 'if', 'not', 'this', '.', 'peers', '.', 'has', '(', 'peer_info', '.', 'id', ')', '{', 'this', '.', 'connect_to_peer', '(', 'peer_info', '.', 'address', ',', 'peer_info', '.', 'chain_type', ')', '}', '}', 'await', 'sleep', '(', '300', ')', '}', '}']
  [33] statement/} @ 1006-1006: ['}']
  [34] statement/ACTION @ 1007-1038: ['action', 'async', 'start_health_monitor', '(', ')', '{', 'print', '(', 'ğŸ”„ Starting network health monitor...', ')', 'while', 'this', '.', 'is_listening', '{', 'this', '.', 'check_peer_health', '(', ')', 'this', '.', 'cleanup_dead_peers', '(', ')', 'await', 'sleep', '(', '60', ')', '}', '}']
  [35] statement/} @ 1038-1038: ['}']
  [36] statement/ACTION @ 1039-1131: ['action', 'check_peer_health', '(', ')', '{', 'let', 'current_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'let', 'time_since_seen', '=', 'current_time', '-', 'peer', '.', 'last_seen', 'if', 'time_since_seen', '>', '300', '{', 'peer', '.', 'connection_score', '-', '=', '0.05', 'print', '(', 'âš ï¸ Peer ', '+', 'peer', '.', 'address', '+', ' inactive for ', '+', 'string', '(', 'time_since_seen', ')', '+', 's', ')', '}', 'if', 'peer', '.', 'connection_score', '<', '0.3', '{', 'print', '(', 'ğŸ”´ Unhealthy peer: ', '+', 'peer', '.', 'address', '+', ' (score: ', '+', 'string', '(', 'peer', '.', 'connection_score', ')', '+', ')', ')', '}', '}', '}']
  [37] statement/} @ 1131-1131: ['}']
  [38] statement/ACTION @ 1132-1195: ['action', 'cleanup_dead_peers', '(', ')', '{', 'let', 'dead_peers', '=', '[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'if', 'peer', '.', 'connection_score', '<=', '0.1', '{', 'dead_peers', '.', 'push', '(', 'peer_id', ')', '}', '}', 'for', 'each', 'dead_peer', 'in', 'dead_peers', '{', 'print', '(', 'ğŸ§¹ Removing dead peer: ', '+', 'this', '.', 'peers', '[', 'dead_peer', ']', '.', 'address', ')', 'this', '.', 'peers', '.', 'delete', '(', 'dead_peer', ')', '}', '}']
  [39] statement/} @ 1195-1195: ['}']
  [40] statement/ACTION @ 1196-1219: ['action', 'get_peers_by_chain', '(', 'chain_type', ':', 'string', ')', '-', '>', 'list', '{', 'return', 'this', '.', 'chain_connections', '.', 'get', '(', 'chain_type', ',', '[', ']', ')', '}']
  [41] statement/} @ 1219-1219: ['}']
  [42] statement/ACTION @ 1220-1255: ['action', 'get_connected_peers_count', '(', ')', '-', '>', 'integer', '{', 'let', 'count', '=', '0', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'if', 'peer', '.', 'is_connected', '{', 'count', '+', '=', '1', '}', '}', 'return', 'count', '}']
  [43] statement/} @ 1255-1255: ['}']
  [44] statement/ACTION @ 1256-1294: ['action', 'get_active_chains_count', '(', ')', '-', '>', 'integer', '{', 'let', 'count', '=', '0', 'for', 'each', 'chain_type', ',', 'peers', 'in', 'this', '.', 'chain_connections', '{', 'if', 'not', 'peers', '.', 'is_empty', '(', ')', '{', 'count', '+', '=', '1', '}', '}', 'return', 'count', '}']
  [45] statement/} @ 1294-1294: ['}']
  [46] statement/ACTION @ 1295-1332: ['action', 'connect_to_bootstrap_nodes', '(', 'network_type', ':', 'string', ')', '{', 'let', 'bootstrap_nodes', '=', 'this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'for', 'each', 'node', 'in', 'bootstrap_nodes', '{', 'spawn', 'this', '.', 'connect_to_peer', '(', 'node', '.', 'address', ',', 'node', '.', 'chain_type', ')', '}', '}']
  [47] statement/} @ 1332-1332: ['}']
  [48] statement/ACTION @ 1333-1413: ['action', 'get_bootstrap_nodes', '(', 'network_type', ':', 'string', ')', '-', '>', 'list', '{', 'match', 'network_type', '{', 'case', 'mainnet', ':', 'return', '[', '{', 'address', ':', 'mainnet.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ']', 'case', 'testnet', ':', 'return', '[', '{', 'address', ':', 'testnet.ziver.io:30304', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode1.test.ziver.io:30304', ',', 'chain_type', ':', 'ZIVER', '}', ']', 'default', ':', 'return', '[', ']', '}', '}']
  [49] statement/} @ 1413-1413: ['}']
  [50] statement/ACTION @ 1414-1455: ['action', 'discover_via_dns', '(', 'network_type', ':', 'string', ')', '-', '>', 'list', '{', 'return', '[', '{', 'address', ':', 'dns-peer1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns1', '}', ',', '{', 'address', ':', 'dns-peer2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns2', '}', ']', '}']
  [51] statement/} @ 1455-1455: ['}']
  [52] statement/ACTION @ 1456-1514: ['action', 'exchange_peers_with_connected', '(', ')', '-', '>', 'list', '{', 'let', 'exchanged_peers', '=', '[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'if', 'peer', '.', 'is_connected', '{', 'exchanged_peers', '.', 'push', '(', '{', 'address', ':', 'exchanged_', '+', 'peer', '.', 'address', ',', 'chain_type', ':', 'peer', '.', 'chain_type', ',', 'id', ':', 'ex_', '+', 'peer_id', '}', ')', '}', '}', 'return', 'exchanged_peers', '}']
  [53] statement/} @ 1514-1514: ['}']
  [54] statement/ACTION @ 1515-1579: ['action', 'deduplicate_peers', '(', 'peers', ':', 'list', ')', '-', '>', 'list', '{', 'let', 'unique_peers', '=', '[', ']', 'let', 'seen', '=', '{', '}', 'for', 'each', 'peer', 'in', 'peers', '{', 'let', 'key', '=', 'peer', '.', 'address', '+', '_', '+', 'peer', '.', 'chain_type', 'if', 'not', 'seen', '.', 'has', '(', 'key', ')', '{', 'seen', '[', 'key', ']', '=', 'true', 'unique_peers', '.', 'push', '(', 'peer', ')', '}', '}', 'return', 'unique_peers', '}']
  [55] statement/} @ 1579-1579: ['}']
  [56] statement/ACTION @ 1580-1648: ['action', 'process_incoming_message', '(', 'message', ':', 'map', ')', '{', 'match', 'message', '.', 'type', '{', 'case', 'block', ':', 'this', '.', 'handle_incoming_block', '(', 'message', '.', 'data', ')', 'case', 'transaction', ':', 'this', '.', 'handle_incoming_transaction', '(', 'message', '.', 'data', ')', 'case', 'peer_list', ':', 'this', '.', 'handle_peer_list', '(', 'message', '.', 'data', ')', 'case', 'ping', ':', 'this', '.', 'handle_ping', '(', 'message', '.', 'data', ')', 'default', ':', 'print', '(', 'â“ Unknown message type: ', '+', 'message', '.', 'type', ')', '}', '}']
  [57] statement/} @ 1648-1648: ['}']
  [58] statement/ACTION @ 1649-1670: ['action', 'handle_incoming_block', '(', 'block_data', ':', 'map', ')', '{', 'print', '(', 'ğŸ“¥ Received block #', '+', 'string', '(', 'block_data', '.', 'index', ')', '+', ' from peer', ')', '}']
  [59] statement/} @ 1670-1670: ['}']
  [60] statement/ACTION @ 1671-1683: ['action', 'handle_incoming_transaction', '(', 'tx_data', ':', 'map', ')', '{', 'print', '(', 'ğŸ“¥ Received transaction from peer', ')', '}']
  [61] statement/} @ 1683-1683: ['}']
  [62] statement/ACTION @ 1684-1726: ['action', 'handle_peer_list', '(', 'peer_list', ':', 'list', ')', '{', 'print', '(', 'ğŸ“¥ Received peer list with ', '+', 'string', '(', 'peer_list', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'for', 'each', 'peer_info', 'in', 'peer_list', '{', 'this', '.', 'connect_to_peer', '(', 'peer_info', '.', 'address', ',', 'peer_info', '.', 'chain_type', ')', '}', '}']
  [63] statement/} @ 1726-1726: ['}']
  [64] statement/ACTION @ 1727-1743: ['action', 'handle_ping', '(', 'ping_data', ':', 'map', ')', '{', 'print', '(', 'ğŸ“ Received ping from ', '+', 'ping_data', '.', 'sender', ')', '}']
  [65] statement/} @ 1743-1743: ['}']
  [66] statement/ACTION @ 1744-1770: ['action', 'is_cross_chain_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'tx', '.', 'data', '!=', 'null', 'and', 'tx', '.', 'data', '.', 'contains', '(', 'cross_chain', ')', '}']
  [67] statement/} @ 1770-1770: ['}']
  [68] statement/ACTION @ 1771-1789: ['action', 'async', 'broadcast_to_bridge_nodes', '(', 'tx', ':', 'any', ')', '{', 'print', '(', 'ğŸŒ‰ Broadcasting to bridge nodes for cross-chain transaction', ')', 'await', 'sleep', '(', '1', ')', '}']
  [69] statement/} @ 1789-1789: ['}']
  [70] statement/ACTION @ 1790-1799: ['action', 'async', 'sleep', '(', 'seconds', ':', 'float', ')', '{', '}']
  [71] statement/} @ 1799-1799: ['}']
  [72] statement/} @ 1800-1800: ['}']
  [73] statement/ACTION @ 1801-1915: ['action', 'async', 'test_enhanced_network', '(', ')', '{', 'print', '(', 'ğŸŒ Testing Enhanced P2P Network...', ')', 'let', 'network', '=', 'P2PNetwork', '(', 'node_id', ':', 'node_001', ')', 'if', 'network', '.', 'start_node', '(', '8545', ',', 'mainnet', ')', '{', 'print', '(', 'âœ… Node started successfully', ')', 'let', 'discovered_peers', '=', 'network', '.', 'discover_peers', '(', 'mainnet', ')', 'print', '(', 'Discovered peers: ', '+', 'string', '(', 'discovered_peers', '.', 'count', '(', ')', ')', ')', 'await', 'network', '.', 'connect_to_peer', '(', 'eth-node.example.com:30303', ',', 'ETHEREUM', ')', 'await', 'network', '.', 'connect_to_peer', '(', 'ton-node.example.com:30000', ',', 'TON', ')', 'let', 'test_block', '=', '{', 'index', ':', '1', ',', 'hash', ':', 'test_hash_123', '}', 'network', '.', 'broadcast_block', '(', 'test_block', ',', 'ZIVER', ')', 'let', 'test_tx', '=', '{', 'hash', ':', 'tx_test_456', ',', 'value', ':', '100', '}', 'network', '.', 'broadcast_transaction', '(', 'test_tx', ',', 'ZIVER', ')', '}', '}']
  [74] statement/} @ 1915-1915: ['}']
  [75] statement/EXPORT @ 1916-1923: ['export', '{', 'P2PNetwork', ',', 'P2PNetworkProtocol', ',', 'test_enhanced_network', '}']
  [76] statement/} @ 1923-1924: ['}']
ğŸ”§ Parsing 77 top-level blocks...
  âœ… Parsed: BlockStatement at line 3
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 3
  âœ… Parsed: BlockStatement at line 4
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime', 'protocol', 'P2PNetworkProtocol', '{']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime', 'protocol', 'P2PNetworkProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 4
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'start_node', '(', 'port', ':', 'integer', ',', 'network_type', ':', 'string', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'connect_to_peer', '(', 'address', ':', 'string', ',', 'chain_type', ':', 'string', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 10
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_block', '(', 'block', ':', 'any', ',', 'chain_type', ':', 'string', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 10
  âœ… Parsed: BlockStatement at line 11
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_transaction', '(', 'tx', ':', 'any', ',', 'chain_type', ':', 'string', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 11
  âœ… Parsed: BlockStatement at line 12
  ğŸ”§ Populating empty BlockStatement from 16 tokens
    ğŸ“ Parsing 16 tokens into statements
    ğŸ“ Found action statement: ['action', 'discover_peers', '(', 'network_type', ':', 'string', ')', '-', '>', 'list', '}', 'contract', 'P2PNetwork', 'implements', 'P2PNetworkProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 12
  âœ… Parsed: BlockStatement at line 16
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['peers', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 16
  âœ… Parsed: BlockStatement at line 17
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['node_id', ':', 'string']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 17
  âœ… Parsed: BlockStatement at line 18
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['port', ':', 'integer', '?']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 18
  âœ… Parsed: BlockStatement at line 19
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['is_listening', ':', 'boolean', '=', 'false']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 19
  âœ… Parsed: BlockStatement at line 20
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['message_queue', ':', 'list']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 20
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['chain_connections', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: Peer
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: chain_type
  ğŸ“ Property: chain_type: string
  ğŸ“ Found property name: last_seen
  ğŸ“ Property: last_seen: integer
  ğŸ“ Found property name: connection_score
  ğŸ“ Property: connection_score: float
  ğŸ“ Found property name: latency
  ğŸ“ Property: latency: integer
  ğŸ“ Found property name: is_connected
  ğŸ“ Property: is_connected: boolean
  âœ… Parsed: EntityStatement at line 23
  âœ… Parsed: EntityStatement at line 23
  âœ… Parsed: BlockStatement at line 32
  ğŸ”§ Populating empty BlockStatement from 56 tokens
    ğŸ“ Parsing 56 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', 'node_id', ':', 'string', ')', '{', 'this', '.', 'node_id', '=', 'node_id', 'this', '.', 'peers', '=', '{', '}', 'this', '.', 'message_queue', '=', '[', ']', 'this', '.', 'chain_connections', '=', '{', 'ZIVER', ':', '[', ']', ',', 'ETHEREUM', ':', '[', ']', ',', 'TON', ':', '[', ']', ',', 'BSC', ':', '[', ']', ',', 'POLYGON', ':', '[', ']', '}', '}']
    ğŸ“ Parsing 47 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'node_id', '=', 'node_id', 'this', '.', 'peers', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'message_queue', '=', '[', ']', 'this', '.', 'chain_connections', '=', '{', 'ZIVER', ':', '[', ']', ',', 'ETHEREUM', ':', '[', ']', ',', 'TON', ':', '[', ']', ',', 'BSC', ':', '[', ']', ',', 'POLYGON', ':', '[', ']']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 32
  âœ… Parsed: BlockStatement at line 43
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 43
  âœ… Parsed: BlockStatement at line 45
  ğŸ”§ Populating empty BlockStatement from 81 tokens
    ğŸ“ Parsing 81 tokens into statements
    ğŸ“ Found action statement: ['action', 'start_node', '(', 'port', ':', 'integer', ',', 'network_type', ':', 'string', '=', 'mainnet', ')', '-', '>', 'boolean', '{', 'this', '.', 'port', '=', 'port', 'this', '.', 'is_listening', '=', 'true', 'print', '(', 'ğŸ”„ Starting P2P node on port ', '+', 'string', '(', 'port', ')', ')', 'print', '(', 'Node ID: ', '+', 'this', '.', 'node_id', ')', 'print', '(', 'Network: ', '+', 'network_type', ')', 'print', '(', 'ğŸ“¡ Listening for peers...', ')', 'spawn', 'this', '.', 'start_message_processor', '(', ')', 'spawn', 'this', '.', 'start_peer_discovery', '(', ')', 'spawn', 'this', '.', 'start_health_monitor', '(', ')', 'this', '.', 'connect_to_bootstrap_nodes', '(', 'network_type', ')', 'return', 'true', '}']
    ğŸ“ Parsing 63 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'port', '=', 'port', 'this', '.', 'is_listening', '=', 'true']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Starting P2P node on port ', '+', 'string', '(', 'port', ')', ')', 'print', '(', 'Node ID: ', '+', 'this', '.', 'node_id', ')', 'print', '(', 'Network: ', '+', 'network_type', ')', 'print', '(', 'ğŸ“¡ Listening for peers...', ')', 'spawn', 'this', '.', 'start_message_processor', '(', ')', 'spawn', 'this', '.', 'start_peer_discovery', '(', ')', 'spawn', 'this', '.', 'start_health_monitor', '(', ')', 'this', '.', 'connect_to_bootstrap_nodes', '(', 'network_type', ')', 'return', 'true']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 45
  âœ… Parsed: BlockStatement at line 63
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 63
  âœ… Parsed: BlockStatement at line 65
  ğŸ”§ Populating empty BlockStatement from 131 tokens
    ğŸ“ Parsing 131 tokens into statements
    ğŸ“ Found action statement: ['action', 'connect_to_peer', '(', 'address', ':', 'string', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'boolean', '{', 'let', 'peer_id', '=', 'chain_type', '+', '_', '+', 'address', 'if', 'this', '.', 'peers', '.', 'has', '(', 'peer_id', ')', '{', 'print', '(', 'âš ï¸ Already connected to peer: ', '+', 'address', ')', 'return', 'true', '}', 'print', '(', 'ğŸ”— Connecting to ', '+', 'chain_type', '+', ' peer: ', '+', 'address', ')', 'let', 'peer', '=', 'Peer', '{', 'address', ':', 'address', ',', 'chain_type', ':', 'chain_type', ',', 'last_seen', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'is_connected', ':', 'true', '}', 'this', '.', 'peers', '[', 'peer_id', ']', '=', 'peer', 'this', '.', 'chain_connections', '[', 'chain_type', ']', '.', 'push', '(', 'peer_id', ')', 'print', '(', 'âœ… Connected to ', '+', 'string', '(', 'this', '.', 'get_connected_peers_count', '(', ')', ')', '+', ' peers across ', '+', 'string', '(', 'this', '.', 'get_active_chains_count', '(', ')', ')', '+', ' chains', ')', 'return', 'true', '}']
    ğŸ“ Parsing 113 tokens into statements
    ğŸ“ Found let statement: ['let', 'peer_id', '=', 'chain_type', '+', '_', '+', 'address', 'if', 'this', '.', 'peers', '.', 'has', '(', 'peer_id', ')']
  ğŸ” Parsing expression from tokens: ['chain_type', '+', '_', '+', 'address', 'if', 'this', '.', 'peers', '.', 'has', '(', 'peer_id', ')']
  ğŸ” Parsing expression from tokens: ['_', '+', 'address', 'if', 'this', '.', 'peers', '.', 'has', '(', 'peer_id', ')']
  ğŸ” Parsing expression from tokens: ['address', 'if', 'this', '.', 'peers', '.', 'has', '(', 'peer_id', ')']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âš ï¸ Already connected to peer: ', '+', 'address', ')', 'return', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”— Connecting to ', '+', 'chain_type', '+', ' peer: ', '+', 'address', ')', 'let', 'peer', '=', 'Peer']
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'address', ',', 'chain_type', ':', 'chain_type', ',', 'last_seen', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'is_connected', ':', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ” Parsing expression from tokens: ['chain_type']
  ğŸ—ºï¸ [Map] Added pair: chain_type -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_seen -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['true']
  ğŸ—ºï¸ [Map] Added pair: is_connected -> Boolean
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'peers', '[', 'peer_id', ']', '=', 'peer', 'this', '.', 'chain_connections', '[', 'chain_type', ']', '.', 'push', '(', 'peer_id', ')']
    ğŸ“ Found print statement: ['print', '(', 'âœ… Connected to ', '+', 'string', '(', 'this', '.', 'get_connected_peers_count', '(', ')', ')', '+', ' peers across ', '+', 'string', '(', 'this', '.', 'get_active_chains_count', '(', ')', ')', '+', ' chains', ')', 'return', 'true']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 65
  âœ… Parsed: BlockStatement at line 89
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 89
  âœ… Parsed: BlockStatement at line 91
  ğŸ”§ Populating empty BlockStatement from 116 tokens
    ğŸ“ Parsing 116 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_block', '(', 'block', ':', 'any', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'boolean', '{', 'let', 'target_peers', '=', 'this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ“¢ Broadcasting ', '+', 'chain_type', '+', ' block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers', '{', 'let', 'peer', '=', 'this', '.', 'peers', '[', 'peer_id', ']', 'if', 'this', '.', 'send_block_to_peer', '(', 'peer', ',', 'block', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'print', '(', 'âœ… Successfully broadcast to ', '+', 'string', '(', 'success_count', ')', '+', '/', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'return', 'success_count', '>', '0', '}']
    ğŸ“ Parsing 98 tokens into statements
    ğŸ“ Found let statement: ['let', 'target_peers', '=', 'this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ“¢ Broadcasting ', '+', 'chain_type', '+', ' block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ“¢ Broadcasting ', '+', 'chain_type', '+', ' block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers']
  ğŸ” Parsing expression from tokens: ['chain_type']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'peer', '=', 'this', '.', 'peers', '[', 'peer_id', ']', 'if', 'this', '.', 'send_block_to_peer', '(', 'peer', ',', 'block', ')', '{', 'success_count', '+', '=', '1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found print statement: ['print', '(', 'âœ… Successfully broadcast to ', '+', 'string', '(', 'success_count', ')', '+', '/', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'return', 'success_count', '>', '0']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 91
  âœ… Parsed: BlockStatement at line 109
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 109
  âœ… Parsed: BlockStatement at line 111
  ğŸ”§ Populating empty BlockStatement from 101 tokens
    ğŸ“ Parsing 101 tokens into statements
    ğŸ“ Found action statement: ['action', 'broadcast_transaction', '(', 'tx', ':', 'any', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'boolean', '{', 'let', 'target_peers', '=', 'this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ’¸ Broadcasting ', '+', 'chain_type', '+', ' transaction to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers', '{', 'let', 'peer', '=', 'this', '.', 'peers', '[', 'peer_id', ']', 'if', 'this', '.', 'send_transaction_to_peer', '(', 'peer', ',', 'tx', ')', '{', 'success_count', '+', '=', '1', '}', '}', 'if', 'this', '.', 'is_cross_chain_transaction', '(', 'tx', ')', '{', 'spawn', 'this', '.', 'broadcast_to_bridge_nodes', '(', 'tx', ')', '}', 'return', 'success_count', '>', '0', '}']
    ğŸ“ Parsing 83 tokens into statements
    ğŸ“ Found let statement: ['let', 'target_peers', '=', 'this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ’¸ Broadcasting ', '+', 'chain_type', '+', ' transaction to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_peers_by_chain', '(', 'chain_type', ')', 'print', '(', 'ğŸ’¸ Broadcasting ', '+', 'chain_type', '+', ' transaction to ', '+', 'string', '(', 'target_peers', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'let', 'success_count', '=', '0', 'for', 'each', 'peer_id', 'in', 'target_peers']
  ğŸ” Parsing expression from tokens: ['chain_type']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'peer', '=', 'this', '.', 'peers', '[', 'peer_id', ']', 'if', 'this', '.', 'send_transaction_to_peer', '(', 'peer', ',', 'tx', ')', '{', 'success_count', '+', '=', '1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'is_cross_chain_transaction', '(', 'tx', ')', '{', 'spawn', 'this', '.', 'broadcast_to_bridge_nodes', '(', 'tx', ')']
  ğŸ” Parsing expression from tokens: ['tx']
  ğŸ” Parsing expression from tokens: ['success_count', '>', '0']
  ğŸ” Parsing expression from tokens: ['0']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 111
  âœ… Parsed: BlockStatement at line 131
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 131
  âœ… Parsed: BlockStatement at line 133
  ğŸ”§ Populating empty BlockStatement from 102 tokens
    ğŸ“ Parsing 102 tokens into statements
    ğŸ“ Found action statement: ['action', 'discover_peers', '(', 'network_type', ':', 'string', '=', 'mainnet', ')', '-', '>', 'list', '{', 'print', '(', 'ğŸ” Discovering peers on ', '+', 'network_type', '+', ' network...', ')', 'let', 'discovered_peers', '=', '[', ']', 'let', 'dns_peers', '=', 'this', '.', 'discover_via_dns', '(', 'network_type', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'dns_peers', ')', 'let', 'exchanged_peers', '=', 'this', '.', 'exchange_peers_with_connected', '(', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'exchanged_peers', ')', 'let', 'bootstrap_peers', '=', 'this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'bootstrap_peers', ')', 'discovered_peers', '=', 'this', '.', 'deduplicate_peers', '(', 'discovered_peers', ')', 'print', '(', 'ğŸ¯ Discovered ', '+', 'string', '(', 'discovered_peers', '.', 'count', '(', ')', ')', '+', ' potential peers', ')', 'return', 'discovered_peers', '}']
    ğŸ“ Parsing 88 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ” Discovering peers on ', '+', 'network_type', '+', ' network...', ')', 'let', 'discovered_peers', '=', '[', ']', 'let', 'dns_peers', '=', 'this', '.', 'discover_via_dns', '(', 'network_type', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'dns_peers', ')', 'let', 'exchanged_peers', '=', 'this', '.', 'exchange_peers_with_connected', '(', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'exchanged_peers', ')', 'let', 'bootstrap_peers', '=', 'this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'discovered_peers', '=', 'discovered_peers', '.', 'concat', '(', 'bootstrap_peers', ')', 'discovered_peers', '=', 'this', '.', 'deduplicate_peers', '(', 'discovered_peers', ')', 'print', '(', 'ğŸ¯ Discovered ', '+', 'string', '(', 'discovered_peers', '.', 'count', '(', ')', ')', '+', ' potential peers', ')', 'return', 'discovered_peers']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 133
  âœ… Parsed: BlockStatement at line 156
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 156
  âœ… Parsed: BlockStatement at line 159
  ğŸ”§ Populating empty BlockStatement from 106 tokens
    ğŸ“ Parsing 106 tokens into statements
    ğŸ“ Found action statement: ['action', 'send_block_to_peer', '(', 'peer', ':', 'Peer', ',', 'block', ':', 'any', ')', '-', '>', 'boolean', '{', 'try', '{', 'print', '(', '  ğŸ“¦ Sending block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'peer', '.', 'address', ')', 'peer', '.', 'last_seen', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'peer', '.', 'connection_score', '=', 'math', '.', 'min', '(', '1.0', ',', 'peer', '.', 'connection_score', '+', '0.01', ')', 'return', 'true', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send block to ', '+', 'peer', '.', 'address', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'peer', '.', 'connection_score', '=', 'math', '.', 'max', '(', '0.0', ',', 'peer', '.', 'connection_score', '-', '0.1', ')', 'return', 'false', '}', '}']
    ğŸ“ Parsing 90 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', '  ğŸ“¦ Sending block #', '+', 'string', '(', 'block', '.', 'index', ')', '+', ' to ', '+', 'peer', '.', 'address', ')', 'peer', '.', 'last_seen', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'peer', '.', 'connection_score', '=', 'math', '.', 'min', '(', '1.0', ',', 'peer', '.', 'connection_score', '+', '0.01', ')', 'return', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send block to ', '+', 'peer', '.', 'address', '+', ': ', '+', 'string', '(', 'error', ')', ')', 'peer', '.', 'connection_score', '=', 'math', '.', 'max', '(', '0.0', ',', 'peer', '.', 'connection_score', '-', '0.1', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['error']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 159
  âœ… Parsed: BlockStatement at line 173
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 173
  âœ… Parsed: BlockStatement at line 175
  ğŸ”§ Populating empty BlockStatement from 58 tokens
    ğŸ“ Parsing 58 tokens into statements
    ğŸ“ Found action statement: ['action', 'send_transaction_to_peer', '(', 'peer', ':', 'Peer', ',', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'try', '{', 'print', '(', '  ğŸ’¸ Sending transaction to ', '+', 'peer', '.', 'address', ')', 'peer', '.', 'last_seen', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'true', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send transaction to ', '+', 'peer', '.', 'address', ')', 'return', 'false', '}', '}']
    ğŸ“ Parsing 42 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', '  ğŸ’¸ Sending transaction to ', '+', 'peer', '.', 'address', ')', 'peer', '.', 'last_seen', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Failed to send transaction to ', '+', 'peer', '.', 'address', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['error']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 175
  âœ… Parsed: BlockStatement at line 187
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 187
  âœ… Parsed: BlockStatement at line 189
  ğŸ”§ Populating empty BlockStatement from 49 tokens
    ğŸ“ Parsing 49 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'start_message_processor', '(', ')', '{', 'print', '(', 'ğŸ”„ Starting advanced message processor...', ')', 'while', 'this', '.', 'is_listening', '{', 'if', 'not', 'this', '.', 'message_queue', '.', 'is_empty', '(', ')', '{', 'let', 'message', '=', 'this', '.', 'message_queue', '.', 'shift', '(', ')', 'this', '.', 'process_incoming_message', '(', 'message', ')', '}', 'await', 'sleep', '(', '0.1', ')', '}', '}']
    ğŸ“ Parsing 42 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Starting advanced message processor...', ')', 'while', 'this', '.', 'is_listening']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'not', 'this', '.', 'message_queue', '.', 'is_empty', '(', ')', '{', 'let', 'message', '=', 'this', '.', 'message_queue', '.', 'shift', '(', ')', 'this', '.', 'process_incoming_message', '(', 'message', ')', '}', 'await', 'sleep', '(', '0.1', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 189
  âœ… Parsed: BlockStatement at line 202
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 202
  âœ… Parsed: BlockStatement at line 204
  ğŸ”§ Populating empty BlockStatement from 63 tokens
    ğŸ“ Parsing 63 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'start_peer_discovery', '(', ')', '{', 'print', '(', 'ğŸ”„ Starting continuous peer discovery...', ')', 'while', 'this', '.', 'is_listening', '{', 'let', 'new_peers', '=', 'this', '.', 'discover_peers', '(', ')', 'for', 'each', 'peer_info', 'in', 'new_peers', '{', 'if', 'not', 'this', '.', 'peers', '.', 'has', '(', 'peer_info', '.', 'id', ')', '{', 'this', '.', 'connect_to_peer', '(', 'peer_info', '.', 'address', ',', 'peer_info', '.', 'chain_type', ')', '}', '}', 'await', 'sleep', '(', '300', ')', '}', '}']
    ğŸ“ Parsing 56 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Starting continuous peer discovery...', ')', 'while', 'this', '.', 'is_listening']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'new_peers', '=', 'this', '.', 'discover_peers', '(', ')', 'for', 'each', 'peer_info', 'in', 'new_peers', '{', 'if', 'not', 'this', '.', 'peers', '.', 'has', '(', 'peer_info', '.', 'id', ')', '{', 'this', '.', 'connect_to_peer', '(', 'peer_info', '.', 'address', ',', 'peer_info', '.', 'chain_type', ')', '}', '}', 'await', 'sleep', '(', '300', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 204
  âœ… Parsed: BlockStatement at line 218
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 218
  âœ… Parsed: BlockStatement at line 220
  ğŸ”§ Populating empty BlockStatement from 32 tokens
    ğŸ“ Parsing 32 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'start_health_monitor', '(', ')', '{', 'print', '(', 'ğŸ”„ Starting network health monitor...', ')', 'while', 'this', '.', 'is_listening', '{', 'this', '.', 'check_peer_health', '(', ')', 'this', '.', 'cleanup_dead_peers', '(', ')', 'await', 'sleep', '(', '60', ')', '}', '}']
    ğŸ“ Parsing 25 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Starting network health monitor...', ')', 'while', 'this', '.', 'is_listening']
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'check_peer_health', '(', ')', 'this', '.', 'cleanup_dead_peers', '(', ')', 'await', 'sleep', '(', '60', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 220
  âœ… Parsed: BlockStatement at line 230
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 230
  âœ… Parsed: BlockStatement at line 232
  ğŸ”§ Populating empty BlockStatement from 93 tokens
    ğŸ“ Parsing 93 tokens into statements
    ğŸ“ Found action statement: ['action', 'check_peer_health', '(', ')', '{', 'let', 'current_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'let', 'time_since_seen', '=', 'current_time', '-', 'peer', '.', 'last_seen', 'if', 'time_since_seen', '>', '300', '{', 'peer', '.', 'connection_score', '-', '=', '0.05', 'print', '(', 'âš ï¸ Peer ', '+', 'peer', '.', 'address', '+', ' inactive for ', '+', 'string', '(', 'time_since_seen', ')', '+', 's', ')', '}', 'if', 'peer', '.', 'connection_score', '<', '0.3', '{', 'print', '(', 'ğŸ”´ Unhealthy peer: ', '+', 'peer', '.', 'address', '+', ' (score: ', '+', 'string', '(', 'peer', '.', 'connection_score', ')', '+', ')', ')', '}', '}', '}']
    ğŸ“ Parsing 87 tokens into statements
    ğŸ“ Found let statement: ['let', 'current_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'time_since_seen', '=', 'current_time', '-', 'peer', '.', 'last_seen', 'if', 'time_since_seen', '>', '300', '{', 'peer', '.', 'connection_score', '-', '=', '0.05', 'print', '(', 'âš ï¸ Peer ', '+', 'peer', '.', 'address', '+', ' inactive for ', '+', 'string', '(', 'time_since_seen', ')', '+', 's', ')', '}', 'if', 'peer', '.', 'connection_score', '<', '0.3', '{', 'print', '(', 'ğŸ”´ Unhealthy peer: ', '+', 'peer', '.', 'address', '+', ' (score: ', '+', 'string', '(', 'peer', '.', 'connection_score', ')', '+', ')', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 232
  âœ… Parsed: BlockStatement at line 247
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 247
  âœ… Parsed: BlockStatement at line 249
  ğŸ”§ Populating empty BlockStatement from 64 tokens
    ğŸ“ Parsing 64 tokens into statements
    ğŸ“ Found action statement: ['action', 'cleanup_dead_peers', '(', ')', '{', 'let', 'dead_peers', '=', '[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'if', 'peer', '.', 'connection_score', '<=', '0.1', '{', 'dead_peers', '.', 'push', '(', 'peer_id', ')', '}', '}', 'for', 'each', 'dead_peer', 'in', 'dead_peers', '{', 'print', '(', 'ğŸ§¹ Removing dead peer: ', '+', 'this', '.', 'peers', '[', 'dead_peer', ']', '.', 'address', ')', 'this', '.', 'peers', '.', 'delete', '(', 'dead_peer', ')', '}', '}']
    ğŸ“ Parsing 58 tokens into statements
    ğŸ“ Found let statement: ['let', 'dead_peers', '=', '[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ” Parsing expression from tokens: ['[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'if', 'peer', '.', 'connection_score', '<=', '0.1', '{', 'dead_peers', '.', 'push', '(', 'peer_id', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'dead_peer', 'in', 'dead_peers', '{', 'print', '(', 'ğŸ§¹ Removing dead peer: ', '+', 'this', '.', 'peers', '[', 'dead_peer', ']', '.', 'address', ')', 'this', '.', 'peers', '.', 'delete', '(', 'dead_peer', ')']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 249
  âœ… Parsed: BlockStatement at line 262
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 262
  âœ… Parsed: BlockStatement at line 265
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_peers_by_chain', '(', 'chain_type', ':', 'string', ')', '-', '>', 'list', '{', 'return', 'this', '.', 'chain_connections', '.', 'get', '(', 'chain_type', ',', '[', ']', ')', '}']
    ğŸ“ Parsing 12 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'chain_connections', '.', 'get', '(', 'chain_type', ',', '[', ']', ')']
  ğŸ” Parsing expression from tokens: ['chain_type']
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 265
  âœ… Parsed: BlockStatement at line 267
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 267
  âœ… Parsed: BlockStatement at line 269
  ğŸ”§ Populating empty BlockStatement from 36 tokens
    ğŸ“ Parsing 36 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_connected_peers_count', '(', ')', '-', '>', 'integer', '{', 'let', 'count', '=', '0', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'if', 'peer', '.', 'is_connected', '{', 'count', '+', '=', '1', '}', '}', 'return', 'count', '}']
    ğŸ“ Parsing 27 tokens into statements
    ğŸ“ Found let statement: ['let', 'count', '=', '0', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'peer', '.', 'is_connected', '{', 'count', '+', '=', '1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['count']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 269
  âœ… Parsed: BlockStatement at line 277
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 277
  âœ… Parsed: BlockStatement at line 279
  ğŸ”§ Populating empty BlockStatement from 39 tokens
    ğŸ“ Parsing 39 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_active_chains_count', '(', ')', '-', '>', 'integer', '{', 'let', 'count', '=', '0', 'for', 'each', 'chain_type', ',', 'peers', 'in', 'this', '.', 'chain_connections', '{', 'if', 'not', 'peers', '.', 'is_empty', '(', ')', '{', 'count', '+', '=', '1', '}', '}', 'return', 'count', '}']
    ğŸ“ Parsing 30 tokens into statements
    ğŸ“ Found let statement: ['let', 'count', '=', '0', 'for', 'each', 'chain_type', ',', 'peers', 'in', 'this', '.', 'chain_connections']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'chain_type', ',', 'peers', 'in', 'this', '.', 'chain_connections']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'not', 'peers', '.', 'is_empty', '(', ')', '{', 'count', '+', '=', '1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['count']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 279
  âœ… Parsed: BlockStatement at line 287
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 287
  âœ… Parsed: BlockStatement at line 289
  ğŸ”§ Populating empty BlockStatement from 38 tokens
    ğŸ“ Parsing 38 tokens into statements
    ğŸ“ Found action statement: ['action', 'connect_to_bootstrap_nodes', '(', 'network_type', ':', 'string', ')', '{', 'let', 'bootstrap_nodes', '=', 'this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'for', 'each', 'node', 'in', 'bootstrap_nodes', '{', 'spawn', 'this', '.', 'connect_to_peer', '(', 'node', '.', 'address', ',', 'node', '.', 'chain_type', ')', '}', '}']
    ğŸ“ Parsing 29 tokens into statements
    ğŸ“ Found let statement: ['let', 'bootstrap_nodes', '=', 'this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'for', 'each', 'node', 'in', 'bootstrap_nodes']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_bootstrap_nodes', '(', 'network_type', ')', 'for', 'each', 'node', 'in', 'bootstrap_nodes']
  ğŸ” Parsing expression from tokens: ['network_type']
  ğŸ” Parsing expression from tokens: ['{', 'spawn', 'this', '.', 'connect_to_peer', '(', 'node', '.', 'address', ',', 'node', '.', 'chain_type', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 289
  âœ… Parsed: BlockStatement at line 295
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 295
  âœ… Parsed: BlockStatement at line 297
  ğŸ”§ Populating empty BlockStatement from 81 tokens
    ğŸ“ Parsing 81 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_bootstrap_nodes', '(', 'network_type', ':', 'string', ')', '-', '>', 'list', '{', 'match', 'network_type', '{', 'case', 'mainnet', ':', 'return', '[', '{', 'address', ':', 'mainnet.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ']', 'case', 'testnet', ':', 'return', '[', '{', 'address', ':', 'testnet.ziver.io:30304', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode1.test.ziver.io:30304', ',', 'chain_type', ':', 'ZIVER', '}', ']', 'default', ':', 'return', '[', ']', '}', '}']
    ğŸ“ Parsing 69 tokens into statements
  ğŸ” Parsing expression from tokens: ['match', 'network_type', '{', 'case', 'mainnet', ':', 'return', '[', '{', 'address', ':', 'mainnet.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', '}', ']', 'case', 'testnet', ':', 'return', '[', '{', 'address', ':', 'testnet.ziver.io:30304', ',', 'chain_type', ':', 'ZIVER', '}', ',', '{', 'address', ':', 'bootnode1.test.ziver.io:30304', ',', 'chain_type', ':', 'ZIVER', '}', ']', 'default', ':', 'return', '[', ']']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 297
  âœ… Parsed: BlockStatement at line 313
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 313
  âœ… Parsed: BlockStatement at line 315
  ğŸ”§ Populating empty BlockStatement from 42 tokens
    ğŸ“ Parsing 42 tokens into statements
    ğŸ“ Found action statement: ['action', 'discover_via_dns', '(', 'network_type', ':', 'string', ')', '-', '>', 'list', '{', 'return', '[', '{', 'address', ':', 'dns-peer1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns1', '}', ',', '{', 'address', ':', 'dns-peer2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns2', '}', ']', '}']
    ğŸ“ Parsing 30 tokens into statements
  ğŸ” Parsing expression from tokens: ['[', '{', 'address', ':', 'dns-peer1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns1', '}', ',', '{', 'address', ':', 'dns-peer2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns2', '}', ']']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'dns-peer1.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns1', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['dns-peer1.ziver.io:30303']
  ğŸ—ºï¸ [Map] Added pair: address -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ZIVER']
  ğŸ—ºï¸ [Map] Added pair: chain_type -> StringLiteral
  ğŸ” Parsing expression from tokens: ['dns1']
  ğŸ—ºï¸ [Map] Added pair: id -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'dns-peer2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns2', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['dns-peer2.ziver.io:30303']
  ğŸ—ºï¸ [Map] Added pair: address -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ZIVER']
  ğŸ—ºï¸ [Map] Added pair: chain_type -> StringLiteral
  ğŸ” Parsing expression from tokens: ['dns2']
  ğŸ—ºï¸ [Map] Added pair: id -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'dns-peer2.ziver.io:30303', ',', 'chain_type', ':', 'ZIVER', ',', 'id', ':', 'dns2', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['dns-peer2.ziver.io:30303']
  ğŸ—ºï¸ [Map] Added pair: address -> StringLiteral
  ğŸ” Parsing expression from tokens: ['ZIVER']
  ğŸ—ºï¸ [Map] Added pair: chain_type -> StringLiteral
  ğŸ” Parsing expression from tokens: ['dns2']
  ğŸ—ºï¸ [Map] Added pair: id -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  âœ… Parsed list with 3 elements
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 315
  âœ… Parsed: BlockStatement at line 321
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 321
  âœ… Parsed: BlockStatement at line 323
  ğŸ”§ Populating empty BlockStatement from 59 tokens
    ğŸ“ Parsing 59 tokens into statements
    ğŸ“ Found action statement: ['action', 'exchange_peers_with_connected', '(', ')', '-', '>', 'list', '{', 'let', 'exchanged_peers', '=', '[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers', '{', 'if', 'peer', '.', 'is_connected', '{', 'exchanged_peers', '.', 'push', '(', '{', 'address', ':', 'exchanged_', '+', 'peer', '.', 'address', ',', 'chain_type', ':', 'peer', '.', 'chain_type', ',', 'id', ':', 'ex_', '+', 'peer_id', '}', ')', '}', '}', 'return', 'exchanged_peers', '}']
    ğŸ“ Parsing 50 tokens into statements
    ğŸ“ Found let statement: ['let', 'exchanged_peers', '=', '[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ” Parsing expression from tokens: ['[', ']', 'for', 'each', 'peer_id', ',', 'peer', 'in', 'this', '.', 'peers']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'if', 'peer', '.', 'is_connected', '{', 'exchanged_peers', '.', 'push', '(', '{', 'address', ':', 'exchanged_', '+', 'peer', '.', 'address', ',', 'chain_type', ':', 'peer', '.', 'chain_type', ',', 'id', ':', 'ex_', '+', 'peer_id', '}', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['exchanged_', '+', 'peer', '.', 'address']
  ğŸ” Parsing expression from tokens: ['peer', '.', 'address']
  ğŸ—ºï¸ [Map] Added pair: address -> InfixExpression
  ğŸ” Parsing expression from tokens: ['peer', '.', 'chain_type']
  ğŸ—ºï¸ [Map] Added pair: chain_type -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['ex_', '+', 'peer_id']
  ğŸ” Parsing expression from tokens: ['peer_id']
  ğŸ—ºï¸ [Map] Added pair: id -> InfixExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['exchanged_peers']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 323
  âœ… Parsed: BlockStatement at line 339
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 339
  âœ… Parsed: BlockStatement at line 341
  ğŸ”§ Populating empty BlockStatement from 65 tokens
    ğŸ“ Parsing 65 tokens into statements
    ğŸ“ Found action statement: ['action', 'deduplicate_peers', '(', 'peers', ':', 'list', ')', '-', '>', 'list', '{', 'let', 'unique_peers', '=', '[', ']', 'let', 'seen', '=', '{', '}', 'for', 'each', 'peer', 'in', 'peers', '{', 'let', 'key', '=', 'peer', '.', 'address', '+', '_', '+', 'peer', '.', 'chain_type', 'if', 'not', 'seen', '.', 'has', '(', 'key', ')', '{', 'seen', '[', 'key', ']', '=', 'true', 'unique_peers', '.', 'push', '(', 'peer', ')', '}', '}', 'return', 'unique_peers', '}']
    ğŸ“ Parsing 53 tokens into statements
    ğŸ“ Found let statement: ['let', 'unique_peers', '=', '[', ']', 'let', 'seen', '=']
  ğŸ” Parsing expression from tokens: ['[', ']', 'let', 'seen', '=']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'peer', 'in', 'peers', '{', 'let', 'key', '=', 'peer', '.', 'address', '+', '_', '+', 'peer', '.', 'chain_type', 'if', 'not', 'seen', '.', 'has', '(', 'key', ')', '{', 'seen', '[', 'key', ']', '=', 'true', 'unique_peers', '.', 'push', '(', 'peer', ')', '}']
  ğŸ” Parsing expression from tokens: ['unique_peers']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 341
  âœ… Parsed: BlockStatement at line 354
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 354
  âœ… Parsed: BlockStatement at line 356
  ğŸ”§ Populating empty BlockStatement from 69 tokens
    ğŸ“ Parsing 69 tokens into statements
    ğŸ“ Found action statement: ['action', 'process_incoming_message', '(', 'message', ':', 'map', ')', '{', 'match', 'message', '.', 'type', '{', 'case', 'block', ':', 'this', '.', 'handle_incoming_block', '(', 'message', '.', 'data', ')', 'case', 'transaction', ':', 'this', '.', 'handle_incoming_transaction', '(', 'message', '.', 'data', ')', 'case', 'peer_list', ':', 'this', '.', 'handle_peer_list', '(', 'message', '.', 'data', ')', 'case', 'ping', ':', 'this', '.', 'handle_ping', '(', 'message', '.', 'data', ')', 'default', ':', 'print', '(', 'â“ Unknown message type: ', '+', 'message', '.', 'type', ')', '}', '}']
    ğŸ“ Parsing 60 tokens into statements
  ğŸ” Parsing expression from tokens: ['match', 'message', '.', 'type', '{', 'case', 'block', ':', 'this', '.', 'handle_incoming_block', '(', 'message', '.', 'data', ')', 'case', 'transaction', ':', 'this', '.', 'handle_incoming_transaction', '(', 'message', '.', 'data', ')', 'case', 'peer_list', ':', 'this', '.', 'handle_peer_list', '(', 'message', '.', 'data', ')', 'case', 'ping', ':', 'this', '.', 'handle_ping', '(', 'message', '.', 'data', ')', 'default', ':', 'print', '(', 'â“ Unknown message type: ', '+', 'message', '.', 'type', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 356
  âœ… Parsed: BlockStatement at line 369
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 369
  âœ… Parsed: BlockStatement at line 371
  ğŸ”§ Populating empty BlockStatement from 22 tokens
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_incoming_block', '(', 'block_data', ':', 'map', ')', '{', 'print', '(', 'ğŸ“¥ Received block #', '+', 'string', '(', 'block_data', '.', 'index', ')', '+', ' from peer', ')', '}']
    ğŸ“ Parsing 13 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“¥ Received block #', '+', 'string', '(', 'block_data', '.', 'index', ')', '+', ' from peer', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 371
  âœ… Parsed: BlockStatement at line 374
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 374
  âœ… Parsed: BlockStatement at line 376
  ğŸ”§ Populating empty BlockStatement from 13 tokens
    ğŸ“ Parsing 13 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_incoming_transaction', '(', 'tx_data', ':', 'map', ')', '{', 'print', '(', 'ğŸ“¥ Received transaction from peer', ')', '}']
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“¥ Received transaction from peer', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 376
  âœ… Parsed: BlockStatement at line 379
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 379
  âœ… Parsed: BlockStatement at line 381
  ğŸ”§ Populating empty BlockStatement from 43 tokens
    ğŸ“ Parsing 43 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_peer_list', '(', 'peer_list', ':', 'list', ')', '{', 'print', '(', 'ğŸ“¥ Received peer list with ', '+', 'string', '(', 'peer_list', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'for', 'each', 'peer_info', 'in', 'peer_list', '{', 'this', '.', 'connect_to_peer', '(', 'peer_info', '.', 'address', ',', 'peer_info', '.', 'chain_type', ')', '}', '}']
    ğŸ“ Parsing 34 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“¥ Received peer list with ', '+', 'string', '(', 'peer_list', '.', 'count', '(', ')', ')', '+', ' peers', ')', 'for', 'each', 'peer_info', 'in', 'peer_list']
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'connect_to_peer', '(', 'peer_info', '.', 'address', ',', 'peer_info', '.', 'chain_type', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 381
  âœ… Parsed: BlockStatement at line 386
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 386
  âœ… Parsed: BlockStatement at line 388
  ğŸ”§ Populating empty BlockStatement from 17 tokens
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found action statement: ['action', 'handle_ping', '(', 'ping_data', ':', 'map', ')', '{', 'print', '(', 'ğŸ“ Received ping from ', '+', 'ping_data', '.', 'sender', ')', '}']
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“ Received ping from ', '+', 'ping_data', '.', 'sender', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 388
  âœ… Parsed: BlockStatement at line 391
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 391
  âœ… Parsed: BlockStatement at line 393
  ğŸ”§ Populating empty BlockStatement from 27 tokens
    ğŸ“ Parsing 27 tokens into statements
    ğŸ“ Found action statement: ['action', 'is_cross_chain_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'return', 'tx', '.', 'data', '!=', 'null', 'and', 'tx', '.', 'data', '.', 'contains', '(', 'cross_chain', ')', '}']
    ğŸ“ Parsing 15 tokens into statements
  ğŸ” Parsing expression from tokens: ['tx', '.', 'data', '!=', 'null', 'and', 'tx', '.', 'data', '.', 'contains', '(', 'cross_chain', ')']
  ğŸ” Parsing expression from tokens: ['null', 'and', 'tx', '.', 'data', '.', 'contains', '(', 'cross_chain', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 393
  âœ… Parsed: BlockStatement at line 395
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 395
  âœ… Parsed: BlockStatement at line 397
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'broadcast_to_bridge_nodes', '(', 'tx', ':', 'any', ')', '{', 'print', '(', 'ğŸŒ‰ Broadcasting to bridge nodes for cross-chain transaction', ')', 'await', 'sleep', '(', '1', ')', '}']
    ğŸ“ Parsing 9 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸŒ‰ Broadcasting to bridge nodes for cross-chain transaction', ')', 'await', 'sleep', '(', '1', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 397
  âœ… Parsed: BlockStatement at line 401
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 401
  âœ… Parsed: BlockStatement at line 404
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'sleep', '(', 'seconds', ':', 'float', ')', '{', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 404
  âœ… Parsed: BlockStatement at line 406
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 406
  âœ… Parsed: BlockStatement at line 407
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 407
  âœ… Parsed: BlockStatement at line 410
  ğŸ”§ Populating empty BlockStatement from 115 tokens
    ğŸ“ Parsing 115 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_enhanced_network', '(', ')', '{', 'print', '(', 'ğŸŒ Testing Enhanced P2P Network...', ')', 'let', 'network', '=', 'P2PNetwork', '(', 'node_id', ':', 'node_001', ')', 'if', 'network', '.', 'start_node', '(', '8545', ',', 'mainnet', ')', '{', 'print', '(', 'âœ… Node started successfully', ')', 'let', 'discovered_peers', '=', 'network', '.', 'discover_peers', '(', 'mainnet', ')', 'print', '(', 'Discovered peers: ', '+', 'string', '(', 'discovered_peers', '.', 'count', '(', ')', ')', ')', 'await', 'network', '.', 'connect_to_peer', '(', 'eth-node.example.com:30303', ',', 'ETHEREUM', ')', 'await', 'network', '.', 'connect_to_peer', '(', 'ton-node.example.com:30000', ',', 'TON', ')', 'let', 'test_block', '=', '{', 'index', ':', '1', ',', 'hash', ':', 'test_hash_123', '}', 'network', '.', 'broadcast_block', '(', 'test_block', ',', 'ZIVER', ')', 'let', 'test_tx', '=', '{', 'hash', ':', 'tx_test_456', ',', 'value', ':', '100', '}', 'network', '.', 'broadcast_transaction', '(', 'test_tx', ',', 'ZIVER', ')', '}', '}']
    ğŸ“ Parsing 108 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸŒ Testing Enhanced P2P Network...', ')', 'let', 'network', '=', 'P2PNetwork', '(', 'node_id', ':', 'node_001', ')', 'if', 'network', '.', 'start_node', '(', '8545', ',', 'mainnet', ')']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âœ… Node started successfully', ')', 'let', 'discovered_peers', '=', 'network', '.', 'discover_peers', '(', 'mainnet', ')', 'print', '(', 'Discovered peers: ', '+', 'string', '(', 'discovered_peers', '.', 'count', '(', ')', ')', ')', 'await', 'network', '.', 'connect_to_peer', '(', 'eth-node.example.com:30303', ',', 'ETHEREUM', ')', 'await', 'network', '.', 'connect_to_peer', '(', 'ton-node.example.com:30000', ',', 'TON', ')', 'let', 'test_block', '=', '{', 'index', ':', '1', ',', 'hash', ':', 'test_hash_123', '}', 'network', '.', 'broadcast_block', '(', 'test_block', ',', 'ZIVER', ')', 'let', 'test_tx', '=', '{', 'hash', ':', 'tx_test_456', ',', 'value', ':', '100', '}', 'network', '.', 'broadcast_transaction', '(', 'test_tx', ',', 'ZIVER', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: index -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['test_hash_123']
  ğŸ—ºï¸ [Map] Added pair: hash -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 410
  âœ… Parsed: BlockStatement at line 434
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 434
  âœ… Parsed: BlockStatement at line 436
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'P2PNetwork', ',', 'P2PNetworkProtocol', ',', 'test_enhanced_network', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 436
  âœ… Parsed: BlockStatement at line 440
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 440
âœ… Parsing Complete: 77 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-10: ['use', 'datetime', 'as', 'datetime', 'protocol', 'VirtualMachine', '{']
  [2] statement/ACTION @ 11-29: ['action', 'deploy_contract', '(', 'code', ':', 'string', ',', 'owner', ':', 'string', ',', 'initial_balance', ':', 'integer', ')', '-', '>', 'string']
  [3] statement/ACTION @ 29-55: ['action', 'execute_contract', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'caller', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'any']
  [4] statement/ACTION @ 55-66: ['action', 'get_contract_state', '(', 'contract_address', ':', 'string', ')', '-', '>', 'map', '?']
  [5] statement/ACTION @ 66-90: ['action', 'estimate_gas', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ')', '-', '>', 'integer', '}', 'contract', 'ZiverVirtualMachine', 'implements', 'VirtualMachine', '{']
  [6] statement/PERSISTENT @ 90-95: ['persistent', 'storage', 'contracts', ':', 'map']
  [7] statement/PERSISTENT @ 95-102: ['persistent', 'storage', 'gas_price', ':', 'integer', '=', '1']
  [8] statement/PERSISTENT @ 102-107: ['persistent', 'storage', 'global_state', ':', 'map']
  [9] statement/PERSISTENT @ 107-112: ['persistent', 'storage', 'execution_history', ':', 'list']
  [10] statement/entity_statement @ 112-145: ['entity', 'Contract', '{', 'address', ':', 'string', 'code', ':', 'string', 'storage', ':', 'map', 'owner', ':', 'string', 'balance', ':', 'integer', '=', '0', 'created_at', ':', 'integer', 'gas_used', ':', 'integer', '=', '0', 'execution_count', ':', 'integer', '=', '0', '}']
  [11] statement/entity_statement @ 146-166: ['entity', 'ExecutionResult', '{', 'return_value', ':', 'any', 'storage_changes', ':', 'map', 'gas_used', ':', 'integer', 'events_emitted', ':', 'list', 'success', ':', 'boolean', '=', 'true', '}']
  [12] statement/ACTION @ 167-190: ['action', 'init', '(', ')', '{', 'this', '.', 'contracts', '=', '{', '}', 'this', '.', 'global_state', '=', '{', '}', 'this', '.', 'execution_history', '=', '[', ']', '}']
  [13] statement/} @ 190-190: ['}']
  [14] statement/ACTION @ 191-354: ['action', 'deploy_contract', '(', 'code', ':', 'string', ',', 'owner', ':', 'string', ',', 'initial_balance', ':', 'integer', '=', '0', ')', '-', '>', 'string', '{', 'let', 'validation', '=', 'this', '.', 'validate_contract_code', '(', 'code', ')', 'if', 'not', 'validation', '.', 'valid', '{', 'throw', 'Contract validation failed: ', '+', 'validation', '.', 'reason', '}', 'let', 'nonce', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'address_input', '=', 'owner', '+', 'code', '+', 'string', '(', 'nonce', ')', 'let', 'contract_hash', '=', 'crypto', '.', 'keccak256', '(', 'address_input', ')', 'let', 'contract_address', '=', 'CONTRACT_ZIV_', '+', 'contract_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'contract', '=', 'Contract', '{', 'address', ':', 'contract_address', ',', 'code', ':', 'code', ',', 'owner', ':', 'owner', ',', 'balance', ':', 'initial_balance', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'storage', ':', '{', '}', '}', 'this', '.', 'contracts', '[', 'contract_address', ']', '=', 'contract', 'this', '.', 'initialize_contract_storage', '(', 'contract', ')', 'print', '(', 'ğŸ“„ Contract deployed at: ', '+', 'contract_address', ')', 'print', '(', '  Owner: ', '+', 'owner', ')', 'print', '(', '  Balance: ', '+', 'string', '(', 'initial_balance', ')', ')', 'return', 'contract_address', '}']
  [15] statement/} @ 354-354: ['}']
  [16] statement/ACTION @ 355-599: ['action', 'execute_contract', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'caller', ':', 'string', ',', 'value', ':', 'integer', '=', '0', ')', '-', '>', 'any', '{', 'if', 'not', 'this', '.', 'contracts', '.', 'has', '(', 'contract_address', ')', '{', 'throw', 'Contract not found: ', '+', 'contract_address', '}', 'let', 'contract', '=', 'this', '.', 'contracts', '[', 'contract_address', ']', 'let', 'gas_estimate', '=', 'this', '.', 'estimate_gas', '(', 'contract_address', ',', 'function', ',', 'args', ')', 'if', 'value', '<', 'gas_estimate', '{', 'throw', 'Insufficient gas: ', '+', 'string', '(', 'gas_estimate', ')', '+', ' required, ', '+', 'string', '(', 'value', ')', '+', ' provided', '}', 'if', 'value', '>', '0', '&&', 'contract', '.', 'balance', '<', 'value', '{', 'throw', 'Insufficient contract balance', '}', 'let', 'context', '=', '{', 'caller', ':', 'caller', ',', 'value', ':', 'value', ',', 'contract_address', ':', 'contract_address', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'block_number', ':', 'this', '.', 'get_current_block_number', '(', ')', '}', 'let', 'result', '=', 'this', '.', 'execute_in_sandbox', '(', 'contract', ',', 'function', ',', 'args', ',', 'context', ')', 'if', 'result', '.', 'success', '{', 'this', '.', 'apply_storage_changes', '(', 'contract', ',', 'result', '.', 'storage_changes', ')', 'contract', '.', 'gas_used', '+', '=', 'result', '.', 'gas_used', 'contract', '.', 'execution_count', '+', '=', '1', 'if', 'value', '>', '0', '{', 'contract', '.', 'balance', '+', '=', 'value', '}', '}', 'this', '.', 'record_execution', '(', 'contract_address', ',', 'function', ',', 'caller', ',', 'result', ')', 'print', '(', 'âš¡ Contract executed: ', '+', 'contract_address', '+', '.', '+', 'function', ')', 'print', '(', '  Gas used: ', '+', 'string', '(', 'result', '.', 'gas_used', ')', ')', 'print', '(', '  Success: ', '+', 'string', '(', 'result', '.', 'success', ')', ')', 'return', 'result', '.', 'return_value', '}']
  [17] statement/} @ 599-599: ['}']
  [18] statement/ACTION @ 600-693: ['action', 'get_contract_state', '(', 'contract_address', ':', 'string', ')', '-', '>', 'map', '?', '{', 'if', 'not', 'this', '.', 'contracts', '.', 'has', '(', 'contract_address', ')', '{', 'return', 'null', '}', 'let', 'contract', '=', 'this', '.', 'contracts', '[', 'contract_address', ']', 'return', '{', 'address', ':', 'contract', '.', 'address', ',', 'owner', ':', 'contract', '.', 'owner', ',', 'balance', ':', 'contract', '.', 'balance', ',', 'created_at', ':', 'contract', '.', 'created_at', ',', 'execution_count', ':', 'contract', '.', 'execution_count', ',', 'total_gas_used', ':', 'contract', '.', 'gas_used', ',', 'storage_size', ':', 'len', '(', 'contract', '.', 'storage', ')', ',', 'code_hash', ':', 'crypto', '.', 'keccak256', '(', 'contract', '.', 'code', ')', '}', '}']
  [19] statement/} @ 693-693: ['}']
  [20] statement/ACTION @ 694-755: ['action', 'estimate_gas', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ')', '-', '>', 'integer', '{', 'let', 'base_cost', '=', '21000', 'let', 'function_cost', '=', 'this', '.', 'analyze_function_complexity', '(', 'function', ')', 'let', 'arg_cost', '=', 'args', '.', 'count', '(', ')', '*', '100', 'let', 'storage_cost', '=', 'this', '.', 'estimate_storage_cost', '(', 'contract_address', ',', 'function', ')', 'return', 'base_cost', '+', 'function_cost', '+', 'arg_cost', '+', 'storage_cost', '}']
  [21] statement/} @ 755-755: ['}']
  [22] statement/ACTION @ 756-851: ['action', 'validate_contract_code', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'let', 'blacklisted_patterns', '=', '[', 'infinite_loop', ',', 'system_call', ',', 'file_access', ']', 'let', 'issues', '=', '[', ']', 'for', 'each', 'pattern', 'in', 'blacklisted_patterns', '{', 'if', 'code', '.', 'contains', '(', 'pattern', ')', '{', 'issues', '.', 'push', '(', 'Blacklisted pattern: ', '+', 'pattern', ')', '}', '}', 'if', 'code', '.', 'length', '(', ')', '>', '100000', '{', 'issues', '.', 'push', '(', 'Contract code too large', ')', '}', 'return', '{', 'valid', ':', 'issues', '.', 'is_empty', '(', ')', ',', 'reason', ':', 'issues', '.', 'is_empty', '(', ')', '?', 'Valid', ':', 'string', '(', 'issues', ')', ',', 'issues', ':', 'issues', '}', '}']
  [23] statement/} @ 851-851: ['}']
  [24] statement/ACTION @ 852-887: ['action', 'initialize_contract_storage', '(', 'contract', ':', 'Contract', ')', '{', 'contract', '.', 'storage', '=', '{', '_owner', ':', 'contract', '.', 'owner', ',', '_created', ':', 'contract', '.', 'created_at', ',', '_version', ':', '1.0', ',', '_balance', ':', 'contract', '.', 'balance', '}', '}']
  [25] statement/} @ 887-887: ['}']
  [26] statement/ACTION @ 888-1028: ['action', 'execute_in_sandbox', '(', 'contract', ':', 'Contract', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'context', ':', 'map', ')', '-', '>', 'ExecutionResult', '{', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'try', '{', 'let', 'result', '=', 'this', '.', 'invoke_zexus_interpreter', '(', 'contract', '.', 'code', ',', 'function', ',', 'args', ',', 'contract', '.', 'storage', ',', 'context', ')', 'let', 'execution_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', 'let', 'gas_used', '=', 'this', '.', 'calculate_actual_gas', '(', 'execution_time', ',', 'result', '.', 'complexity', ')', 'return', 'ExecutionResult', '{', 'return_value', ':', 'result', '.', 'return_value', ',', 'storage_changes', ':', 'result', '.', 'storage_changes', ',', 'gas_used', ':', 'gas_used', '}', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Contract execution failed: ', '+', 'string', '(', 'error', ')', ')', 'return', 'ExecutionResult', '{', 'return_value', ':', 'null', ',', 'storage_changes', ':', '{', '}', ',', 'gas_used', ':', '0', ',', 'success', ':', 'false', '}', '}', '}']
  [27] statement/} @ 1028-1028: ['}']
  [28] statement/ACTION @ 1029-1058: ['action', 'apply_storage_changes', '(', 'contract', ':', 'Contract', ',', 'changes', ':', 'map', ')', '{', 'for', 'each', 'key', ',', 'value', 'in', 'changes', '{', 'contract', '.', 'storage', '[', 'key', ']', '=', 'value', '}', '}']
  [29] statement/} @ 1058-1058: ['}']
  [30] statement/ACTION @ 1059-1165: ['action', 'record_execution', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'caller', ':', 'string', ',', 'result', ':', 'ExecutionResult', ')', '{', 'let', 'record', '=', '{', 'contract_address', ':', 'contract_address', ',', 'function', ':', 'function', ',', 'caller', ':', 'caller', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'gas_used', ':', 'result', '.', 'gas_used', ',', 'success', ':', 'result', '.', 'success', ',', 'return_value', ':', 'result', '.', 'return_value', '}', 'this', '.', 'execution_history', '.', 'push', '(', 'record', ')', 'if', 'this', '.', 'execution_history', '.', 'count', '(', ')', '>', '1000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', 'this', '.', 'execution_history', '.', 'count', '(', ')', '-', '1000', ')', '}', '}']
  [31] statement/} @ 1165-1165: ['}']
  [32] statement/ACTION @ 1166-1230: ['action', 'invoke_zexus_interpreter', '(', 'code', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'storage', ':', 'map', ',', 'context', ':', 'map', ')', '-', '>', 'map', '{', 'return', '{', 'return_value', ':', 'args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']', ',', 'storage_changes', ':', '{', 'last_executed', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', ',', 'complexity', ':', '1', '}', '}']
  [33] statement/} @ 1230-1230: ['}']
  [34] statement/ACTION @ 1231-1250: ['action', 'analyze_function_complexity', '(', 'function', ':', 'string', ')', '-', '>', 'integer', '{', 'return', 'function', '.', 'length', '(', ')', '*', '10', '}']
  [35] statement/} @ 1250-1250: ['}']
  [36] statement/ACTION @ 1251-1268: ['action', 'estimate_storage_cost', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ')', '-', '>', 'integer', '{', 'return', '1000', '}']
  [37] statement/} @ 1268-1268: ['}']
  [38] statement/ACTION @ 1269-1295: ['action', 'calculate_actual_gas', '(', 'execution_time', ':', 'integer', ',', 'complexity', ':', 'integer', ')', '-', '>', 'integer', '{', 'return', 'integer', '(', 'execution_time', '*', '1000', '+', 'complexity', '*', '100', ')', '}']
  [39] statement/} @ 1295-1295: ['}']
  [40] statement/ACTION @ 1296-1306: ['action', 'get_current_block_number', '(', ')', '-', '>', 'integer', '{', 'return', '1', '}']
  [41] statement/} @ 1306-1306: ['}']
  [42] statement/} @ 1307-1307: ['}']
  [43] statement/ACTION @ 1308-1382: ['action', 'async', 'test_zvm', '(', ')', '{', 'print', '(', 'ğŸ–¥ï¸ Testing Ziver Virtual Machine...', ')', 'let', 'zvm', '=', 'ZiverVirtualMachine', '(', ')', 'let', 'test_contract_code', '=', '\ncontract SimpleStorage:\n    persistent storage value: integer\n    persistent storage owner: string\n\n    action init(owner: string):\n        this.owner = owner\n        this.value = 0\n\n    action set(new_value: integer):\n        require(msg.sender == this.owner, ', 'Only', 'owner', 'can', 'set', ')\n        this.value = new_value\n        emit ValueChanged(this.owner, new_value)\n\n    action get() -> integer:\n        return this.value\n', 'let', 'owner_address', '=', 'ZIV_owner_123', 'let', 'contract_address', '=', 'zvm', '.', 'deploy_contract', '(', 'test_contract_code', ',', 'owner_address', ',', '1000', ')', 'print', '(', 'Contract deployed: ', '+', 'contract_address', ')', 'let', 'state', '=', 'zvm', '.', 'get_contract_state', '(', 'contract_address', ')', 'if', 'state', '!=', 'null', '{', 'print', '(', 'Contract state: ', '+', 'string', '(', 'state', ')', ')', '}', '}']
  [44] statement/} @ 1382-1382: ['}']
  [45] statement/EXPORT @ 1383-1390: ['export', '{', 'ZiverVirtualMachine', ',', 'VirtualMachine', ',', 'test_zvm', '}']
  [46] statement/} @ 1390-1391: ['}']
ğŸ”§ Parsing 47 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime', 'protocol', 'VirtualMachine', '{']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime', 'protocol', 'VirtualMachine', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 12
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'deploy_contract', '(', 'code', ':', 'string', ',', 'owner', ':', 'string', ',', 'initial_balance', ':', 'integer', ')', '-', '>', 'string']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 12
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 26 tokens
    ğŸ“ Parsing 26 tokens into statements
    ğŸ“ Found action statement: ['action', 'execute_contract', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'caller', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'any']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 11 tokens
    ğŸ“ Parsing 11 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_contract_state', '(', 'contract_address', ':', 'string', ')', '-', '>', 'map', '?']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'estimate_gas', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ')', '-', '>', 'integer', '}', 'contract', 'ZiverVirtualMachine', 'implements', 'VirtualMachine', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
  âœ… Parsed: BlockStatement at line 19
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['contracts', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 19
  âœ… Parsed: BlockStatement at line 20
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['gas_price', ':', 'integer', '=', '1']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 20
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['global_state', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
  âœ… Parsed: BlockStatement at line 22
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['execution_history', ':', 'list']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 22
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: Contract
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: code
  ğŸ“ Property: code: string
  ğŸ“ Found property name: map
  ğŸ“ Found property name: owner
  ğŸ“ Property: owner: string
  ğŸ“ Found property name: balance
  ğŸ“ Property: balance: integer
  ğŸ“ Found property name: created_at
  ğŸ“ Property: created_at: integer
  ğŸ“ Found property name: gas_used
  ğŸ“ Property: gas_used: integer
  ğŸ“ Found property name: execution_count
  ğŸ“ Property: execution_count: integer
  âœ… Parsed: EntityStatement at line 24
  âœ… Parsed: EntityStatement at line 24
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ExecutionResult
  ğŸ“ Found property name: return_value
  ğŸ“ Property: return_value: any
  ğŸ“ Found property name: storage_changes
  ğŸ“ Property: storage_changes: map
  ğŸ“ Found property name: gas_used
  ğŸ“ Property: gas_used: integer
  ğŸ“ Found property name: events_emitted
  ğŸ“ Property: events_emitted: list
  ğŸ“ Found property name: success
  ğŸ“ Property: success: boolean
  âœ… Parsed: EntityStatement at line 35
  âœ… Parsed: EntityStatement at line 35
  âœ… Parsed: BlockStatement at line 43
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', ')', '{', 'this', '.', 'contracts', '=', '{', '}', 'this', '.', 'global_state', '=', '{', '}', 'this', '.', 'execution_history', '=', '[', ']', '}']
    ğŸ“ Parsing 18 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'contracts', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'global_state', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'execution_history', '=', '[', ']']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 43
  âœ… Parsed: BlockStatement at line 47
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 47
  âœ… Parsed: BlockStatement at line 49
  ğŸ”§ Populating empty BlockStatement from 164 tokens
    ğŸ“ Parsing 164 tokens into statements
    ğŸ“ Found action statement: ['action', 'deploy_contract', '(', 'code', ':', 'string', ',', 'owner', ':', 'string', ',', 'initial_balance', ':', 'integer', '=', '0', ')', '-', '>', 'string', '{', 'let', 'validation', '=', 'this', '.', 'validate_contract_code', '(', 'code', ')', 'if', 'not', 'validation', '.', 'valid', '{', 'throw', 'Contract validation failed: ', '+', 'validation', '.', 'reason', '}', 'let', 'nonce', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'address_input', '=', 'owner', '+', 'code', '+', 'string', '(', 'nonce', ')', 'let', 'contract_hash', '=', 'crypto', '.', 'keccak256', '(', 'address_input', ')', 'let', 'contract_address', '=', 'CONTRACT_ZIV_', '+', 'contract_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'contract', '=', 'Contract', '{', 'address', ':', 'contract_address', ',', 'code', ':', 'code', ',', 'owner', ':', 'owner', ',', 'balance', ':', 'initial_balance', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'storage', ':', '{', '}', '}', 'this', '.', 'contracts', '[', 'contract_address', ']', '=', 'contract', 'this', '.', 'initialize_contract_storage', '(', 'contract', ')', 'print', '(', 'ğŸ“„ Contract deployed at: ', '+', 'contract_address', ')', 'print', '(', '  Owner: ', '+', 'owner', ')', 'print', '(', '  Balance: ', '+', 'string', '(', 'initial_balance', ')', ')', 'return', 'contract_address', '}']
    ğŸ“ Parsing 142 tokens into statements
    ğŸ“ Found let statement: ['let', 'validation', '=', 'this', '.', 'validate_contract_code', '(', 'code', ')', 'if', 'not', 'validation', '.', 'valid']
  ğŸ” Parsing expression from tokens: ['this', '.', 'validate_contract_code', '(', 'code', ')', 'if', 'not', 'validation', '.', 'valid']
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ” Parsing expression from tokens: ['{', 'throw', 'Contract validation failed: ', '+', 'validation', '.', 'reason']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'nonce', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'address_input', '=', 'owner', '+', 'code', '+', 'string', '(', 'nonce', ')', 'let', 'contract_hash', '=', 'crypto', '.', 'keccak256', '(', 'address_input', ')', 'let', 'contract_address', '=', 'CONTRACT_ZIV_', '+', 'contract_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'contract', '=', 'Contract']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'address_input', '=', 'owner', '+', 'code', '+', 'string', '(', 'nonce', ')', 'let', 'contract_hash', '=', 'crypto', '.', 'keccak256', '(', 'address_input', ')', 'let', 'contract_address', '=', 'CONTRACT_ZIV_', '+', 'contract_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'contract', '=', 'Contract']
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'contract_address', ',', 'code', ':', 'code', ',', 'owner', ':', 'owner', ',', 'balance', ':', 'initial_balance', ',', 'created_at', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'storage', ':', '{', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ” Parsing expression from tokens: ['code']
  ğŸ—ºï¸ [Map] Added pair: code -> Identifier
  ğŸ” Parsing expression from tokens: ['owner']
  ğŸ—ºï¸ [Map] Added pair: owner -> Identifier
  ğŸ” Parsing expression from tokens: ['initial_balance']
  ğŸ—ºï¸ [Map] Added pair: balance -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: created_at -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ—ºï¸ [Map] Added pair: storage -> MapLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'contracts', '[', 'contract_address', ']', '=']
  ğŸ” Parsing expression from tokens: ['this', '.', 'initialize_contract_storage', '(', 'contract', ')']
  ğŸ” Parsing expression from tokens: ['contract']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“„ Contract deployed at: ', '+', 'contract_address', ')', 'print', '(', '  Owner: ', '+', 'owner', ')', 'print', '(', '  Balance: ', '+', 'string', '(', 'initial_balance', ')', ')', 'return', 'contract_address']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 49
  âœ… Parsed: BlockStatement at line 77
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 77
  âœ… Parsed: BlockStatement at line 79
  ğŸ”§ Populating empty BlockStatement from 245 tokens
    ğŸ“ Parsing 245 tokens into statements
    ğŸ“ Found action statement: ['action', 'execute_contract', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'caller', ':', 'string', ',', 'value', ':', 'integer', '=', '0', ')', '-', '>', 'any', '{', 'if', 'not', 'this', '.', 'contracts', '.', 'has', '(', 'contract_address', ')', '{', 'throw', 'Contract not found: ', '+', 'contract_address', '}', 'let', 'contract', '=', 'this', '.', 'contracts', '[', 'contract_address', ']', 'let', 'gas_estimate', '=', 'this', '.', 'estimate_gas', '(', 'contract_address', ',', 'function', ',', 'args', ')', 'if', 'value', '<', 'gas_estimate', '{', 'throw', 'Insufficient gas: ', '+', 'string', '(', 'gas_estimate', ')', '+', ' required, ', '+', 'string', '(', 'value', ')', '+', ' provided', '}', 'if', 'value', '>', '0', '&&', 'contract', '.', 'balance', '<', 'value', '{', 'throw', 'Insufficient contract balance', '}', 'let', 'context', '=', '{', 'caller', ':', 'caller', ',', 'value', ':', 'value', ',', 'contract_address', ':', 'contract_address', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'block_number', ':', 'this', '.', 'get_current_block_number', '(', ')', '}', 'let', 'result', '=', 'this', '.', 'execute_in_sandbox', '(', 'contract', ',', 'function', ',', 'args', ',', 'context', ')', 'if', 'result', '.', 'success', '{', 'this', '.', 'apply_storage_changes', '(', 'contract', ',', 'result', '.', 'storage_changes', ')', 'contract', '.', 'gas_used', '+', '=', 'result', '.', 'gas_used', 'contract', '.', 'execution_count', '+', '=', '1', 'if', 'value', '>', '0', '{', 'contract', '.', 'balance', '+', '=', 'value', '}', '}', 'this', '.', 'record_execution', '(', 'contract_address', ',', 'function', ',', 'caller', ',', 'result', ')', 'print', '(', 'âš¡ Contract executed: ', '+', 'contract_address', '+', '.', '+', 'function', ')', 'print', '(', '  Gas used: ', '+', 'string', '(', 'result', '.', 'gas_used', ')', ')', 'print', '(', '  Success: ', '+', 'string', '(', 'result', '.', 'success', ')', ')', 'return', 'result', '.', 'return_value', '}']
    ğŸ“ Parsing 215 tokens into statements
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'contracts', '.', 'has', '(', 'contract_address', ')', '{', 'throw', 'Contract not found: ', '+', 'contract_address']
    ğŸ“ Found let statement: ['let', 'contract', '=', 'this', '.', 'contracts', '[', 'contract_address', ']', 'let', 'gas_estimate', '=', 'this', '.', 'estimate_gas', '(', 'contract_address', ',', 'function', ',', 'args', ')', 'if', 'value', '<', 'gas_estimate']
  ğŸ” Parsing expression from tokens: ['{', 'throw', 'Insufficient gas: ', '+', 'string', '(', 'gas_estimate', ')', '+', ' required, ', '+', 'string', '(', 'value', ')', '+', ' provided']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['value', '>', '0', '&&']
  ğŸ” Parsing expression from tokens: ['0', '&&']
  ğŸ” Parsing expression from tokens: ['.', 'balance', '<', 'value', '{', 'throw', 'Insufficient contract balance']
    ğŸ“ Found let statement: ['let', 'context', '=']
  ğŸ” Parsing expression from tokens: ['{', 'caller', ':', 'caller', ',', 'value', ':', 'value', ',', 'contract_address', ':', 'contract_address', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'block_number', ':', 'this', '.', 'get_current_block_number', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['caller']
  ğŸ—ºï¸ [Map] Added pair: caller -> Identifier
  ğŸ” Parsing expression from tokens: ['value']
  ğŸ—ºï¸ [Map] Added pair: value -> Identifier
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ—ºï¸ [Map] Added pair: contract_address -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_current_block_number', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: block_number -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    ğŸ“ Found let statement: ['let', 'result', '=', 'this', '.', 'execute_in_sandbox', '(', 'contract', ',', 'function', ',', 'args', ',', 'context', ')', 'if', 'result', '.', 'success']
  ğŸ” Parsing expression from tokens: ['this', '.', 'execute_in_sandbox', '(', 'contract', ',', 'function', ',', 'args', ',', 'context', ')', 'if', 'result', '.', 'success']
  ğŸ” Parsing expression from tokens: ['contract']
  ğŸ” Parsing expression from tokens: ['function']
  ğŸ” Parsing expression from tokens: ['args']
  ğŸ” Parsing expression from tokens: ['context']
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'apply_storage_changes', '(', 'contract', ',', 'result', '.', 'storage_changes', ')', 'contract', '.', 'gas_used', '+', '=', 'result', '.', 'gas_used', 'contract', '.', 'execution_count', '+', '=', '1', 'if', 'value', '>', '0', '{', 'contract', '.', 'balance', '+', '=', 'value', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'record_execution', '(', 'contract_address', ',', 'function', ',', 'caller', ',', 'result', ')']
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ” Parsing expression from tokens: ['function']
  ğŸ” Parsing expression from tokens: ['caller']
  ğŸ” Parsing expression from tokens: ['result']
    ğŸ“ Found print statement: ['print', '(', 'âš¡ Contract executed: ', '+', 'contract_address', '+', '.', '+', 'function', ')', 'print', '(', '  Gas used: ', '+', 'string', '(', 'result', '.', 'gas_used', ')', ')', 'print', '(', '  Success: ', '+', 'string', '(', 'result', '.', 'success', ')', ')', 'return', 'result', '.', 'return_value']
    âœ… Parsed 9 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 79
  âœ… Parsed: BlockStatement at line 122
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 122
  âœ… Parsed: BlockStatement at line 124
  ğŸ”§ Populating empty BlockStatement from 94 tokens
    ğŸ“ Parsing 94 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_contract_state', '(', 'contract_address', ':', 'string', ')', '-', '>', 'map', '?', '{', 'if', 'not', 'this', '.', 'contracts', '.', 'has', '(', 'contract_address', ')', '{', 'return', 'null', '}', 'let', 'contract', '=', 'this', '.', 'contracts', '[', 'contract_address', ']', 'return', '{', 'address', ':', 'contract', '.', 'address', ',', 'owner', ':', 'contract', '.', 'owner', ',', 'balance', ':', 'contract', '.', 'balance', ',', 'created_at', ':', 'contract', '.', 'created_at', ',', 'execution_count', ':', 'contract', '.', 'execution_count', ',', 'total_gas_used', ':', 'contract', '.', 'gas_used', ',', 'storage_size', ':', 'len', '(', 'contract', '.', 'storage', ')', ',', 'code_hash', ':', 'crypto', '.', 'keccak256', '(', 'contract', '.', 'code', ')', '}', '}']
    ğŸ“ Parsing 81 tokens into statements
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'contracts', '.', 'has', '(', 'contract_address', ')', '{', 'return', 'null']
    ğŸ“ Found let statement: ['let', 'contract', '=', 'this', '.', 'contracts', '[', 'contract_address', ']', 'return']
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'contract', '.', 'address', ',', 'owner', ':', 'contract', '.', 'owner', ',', 'balance', ':', 'contract', '.', 'balance', ',', 'created_at', ':', 'contract', '.', 'created_at', ',', 'execution_count', ':', 'contract', '.', 'execution_count', ',', 'total_gas_used', ':', 'contract', '.', 'gas_used', ',', 'storage_size', ':', 'len', '(', 'contract', '.', 'storage', ')', ',', 'code_hash', ':', 'crypto', '.', 'keccak256', '(', 'contract', '.', 'code', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['contract', '.', 'address']
  ğŸ—ºï¸ [Map] Added pair: address -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['contract', '.', 'owner']
  ğŸ—ºï¸ [Map] Added pair: owner -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['contract', '.', 'balance']
  ğŸ—ºï¸ [Map] Added pair: balance -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['contract', '.', 'created_at']
  ğŸ—ºï¸ [Map] Added pair: created_at -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['contract', '.', 'execution_count']
  ğŸ—ºï¸ [Map] Added pair: execution_count -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['contract', '.', 'gas_used']
  ğŸ—ºï¸ [Map] Added pair: total_gas_used -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['len', '(', 'contract', '.', 'storage', ')']
  ğŸ” Parsing expression from tokens: ['contract', '.', 'storage']
  ğŸ—ºï¸ [Map] Added pair: storage_size -> CallExpression
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'keccak256', '(', 'contract', '.', 'code', ')']
  ğŸ” Parsing expression from tokens: ['contract', '.', 'code']
  ğŸ—ºï¸ [Map] Added pair: code_hash -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 8 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 124
  âœ… Parsed: BlockStatement at line 140
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 140
  âœ… Parsed: BlockStatement at line 142
  ğŸ”§ Populating empty BlockStatement from 62 tokens
    ğŸ“ Parsing 62 tokens into statements
    ğŸ“ Found action statement: ['action', 'estimate_gas', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ')', '-', '>', 'integer', '{', 'let', 'base_cost', '=', '21000', 'let', 'function_cost', '=', 'this', '.', 'analyze_function_complexity', '(', 'function', ')', 'let', 'arg_cost', '=', 'args', '.', 'count', '(', ')', '*', '100', 'let', 'storage_cost', '=', 'this', '.', 'estimate_storage_cost', '(', 'contract_address', ',', 'function', ')', 'return', 'base_cost', '+', 'function_cost', '+', 'arg_cost', '+', 'storage_cost', '}']
    ğŸ“ Parsing 42 tokens into statements
    ğŸ“ Found let statement: ['let', 'base_cost', '=', '21000', 'let', 'function_cost', '=', 'this', '.', 'analyze_function_complexity', '(', 'function', ')', 'let', 'arg_cost', '=', 'args', '.', 'count', '(', ')', '*', '100', 'let', 'storage_cost', '=', 'this', '.', 'estimate_storage_cost', '(', 'contract_address', ',', 'function', ')', 'return', 'base_cost', '+', 'function_cost', '+', 'arg_cost', '+', 'storage_cost']
  ğŸ” Parsing expression from tokens: ['21000', 'let', 'function_cost', '=', 'this', '.', 'analyze_function_complexity', '(', 'function', ')', 'let', 'arg_cost', '=', 'args', '.', 'count', '(', ')', '*', '100', 'let', 'storage_cost', '=', 'this', '.', 'estimate_storage_cost', '(', 'contract_address', ',', 'function', ')', 'return', 'base_cost', '+', 'function_cost', '+', 'arg_cost', '+', 'storage_cost']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 142
  âœ… Parsed: BlockStatement at line 149
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 149
  âœ… Parsed: BlockStatement at line 152
  ğŸ”§ Populating empty BlockStatement from 96 tokens
    ğŸ“ Parsing 96 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_contract_code', '(', 'code', ':', 'string', ')', '-', '>', 'map', '{', 'let', 'blacklisted_patterns', '=', '[', 'infinite_loop', ',', 'system_call', ',', 'file_access', ']', 'let', 'issues', '=', '[', ']', 'for', 'each', 'pattern', 'in', 'blacklisted_patterns', '{', 'if', 'code', '.', 'contains', '(', 'pattern', ')', '{', 'issues', '.', 'push', '(', 'Blacklisted pattern: ', '+', 'pattern', ')', '}', '}', 'if', 'code', '.', 'length', '(', ')', '>', '100000', '{', 'issues', '.', 'push', '(', 'Contract code too large', ')', '}', 'return', '{', 'valid', ':', 'issues', '.', 'is_empty', '(', ')', ',', 'reason', ':', 'issues', '.', 'is_empty', '(', ')', '?', 'Valid', ':', 'string', '(', 'issues', ')', ',', 'issues', ':', 'issues', '}', '}']
    ğŸ“ Parsing 84 tokens into statements
    ğŸ“ Found let statement: ['let', 'blacklisted_patterns', '=', '[', 'infinite_loop', ',', 'system_call', ',', 'file_access', ']', 'let', 'issues', '=', '[', ']', 'for', 'each', 'pattern', 'in', 'blacklisted_patterns']
  ğŸ” Parsing expression from tokens: ['[', 'infinite_loop', ',', 'system_call', ',', 'file_access', ']', 'let', 'issues', '=', '[', ']', 'for', 'each', 'pattern', 'in', 'blacklisted_patterns']
  ğŸ”§ [List] Parsing list literal
  ğŸ” Parsing expression from tokens: ['infinite_loop']
  ğŸ” Parsing expression from tokens: ['system_call']
  ğŸ” Parsing expression from tokens: ['file_access']
  ğŸ” Parsing expression from tokens: ['file_access']
  âœ… Parsed list with 4 elements
  ğŸ” Parsing expression from tokens: ['{', 'if', 'code', '.', 'contains', '(', 'pattern', ')', '{', 'issues', '.', 'push', '(', 'Blacklisted pattern: ', '+', 'pattern', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['code', '.', 'length', '(', ')', '>', '100000', '{', 'issues', '.', 'push', '(', 'Contract code too large', ')']
  ğŸ” Parsing expression from tokens: ['100000', '{', 'issues', '.', 'push', '(', 'Contract code too large', ')']
  ğŸ” Parsing expression from tokens: ['{', 'valid', ':', 'issues', '.', 'is_empty', '(', ')', ',', 'reason', ':', 'issues', '.', 'is_empty', '(', ')', '?', 'Valid', ':', 'string', '(', 'issues', ')', ',', 'issues', ':', 'issues']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['issues', '.', 'is_empty', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: valid -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['issues', '.', 'is_empty', '(', ')', '?', 'Valid', ':', 'string', '(', 'issues', ')']
  ğŸ—ºï¸ [Map] Added pair: reason -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['issues']
  ğŸ—ºï¸ [Map] Added pair: issues -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 152
  âœ… Parsed: BlockStatement at line 171
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 171
  âœ… Parsed: BlockStatement at line 173
  ğŸ”§ Populating empty BlockStatement from 36 tokens
    ğŸ“ Parsing 36 tokens into statements
    ğŸ“ Found action statement: ['action', 'initialize_contract_storage', '(', 'contract', ':', 'Contract', ')', '{', 'contract', '.', 'storage', '=', '{', '_owner', ':', 'contract', '.', 'owner', ',', '_created', ':', 'contract', '.', 'created_at', ',', '_version', ':', '1.0', ',', '_balance', ':', 'contract', '.', 'balance', '}', '}']
    ğŸ“ Parsing 27 tokens into statements
  ğŸ” Parsing expression from tokens: ['.']
  ğŸ” Parsing expression from tokens: ['=', '{', '_owner', ':', 'contract', '.', 'owner', ',', '_created', ':', 'contract', '.', 'created_at', ',', '_version', ':', '1.0', ',', '_balance', ':', 'contract', '.', 'balance']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 173
  âœ… Parsed: BlockStatement at line 180
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 180
  âœ… Parsed: BlockStatement at line 182
  ğŸ”§ Populating empty BlockStatement from 141 tokens
    ğŸ“ Parsing 141 tokens into statements
    ğŸ“ Found action statement: ['action', 'execute_in_sandbox', '(', 'contract', ':', 'Contract', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'context', ':', 'map', ')', '-', '>', 'ExecutionResult', '{', 'let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'try', '{', 'let', 'result', '=', 'this', '.', 'invoke_zexus_interpreter', '(', 'contract', '.', 'code', ',', 'function', ',', 'args', ',', 'contract', '.', 'storage', ',', 'context', ')', 'let', 'execution_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', 'let', 'gas_used', '=', 'this', '.', 'calculate_actual_gas', '(', 'execution_time', ',', 'result', '.', 'complexity', ')', 'return', 'ExecutionResult', '{', 'return_value', ':', 'result', '.', 'return_value', ',', 'storage_changes', ':', 'result', '.', 'storage_changes', ',', 'gas_used', ':', 'gas_used', '}', '}', 'catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Contract execution failed: ', '+', 'string', '(', 'error', ')', ')', 'return', 'ExecutionResult', '{', 'return_value', ':', 'null', ',', 'storage_changes', ':', '{', '}', ',', 'gas_used', ':', '0', ',', 'success', ':', 'false', '}', '}', '}']
    ğŸ“ Parsing 117 tokens into statements
    ğŸ“ Found let statement: ['let', 'start_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'try']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'try']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'result', '=', 'this', '.', 'invoke_zexus_interpreter', '(', 'contract', '.', 'code', ',', 'function', ',', 'args', ',', 'contract', '.', 'storage', ',', 'context', ')', 'let', 'execution_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'start_time', 'let', 'gas_used', '=', 'this', '.', 'calculate_actual_gas', '(', 'execution_time', ',', 'result', '.', 'complexity', ')', 'return', 'ExecutionResult', '{', 'return_value', ':', 'result', '.', 'return_value', ',', 'storage_changes', ':', 'result', '.', 'storage_changes', ',', 'gas_used', ':', 'gas_used', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['result', '.', 'return_value']
  ğŸ—ºï¸ [Map] Added pair: return_value -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['result', '.', 'storage_changes']
  ğŸ—ºï¸ [Map] Added pair: storage_changes -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['gas_used']
  ğŸ—ºï¸ [Map] Added pair: gas_used -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['catch', '(', 'error', ')', '{', 'print', '(', 'âŒ Contract execution failed: ', '+', 'string', '(', 'error', ')', ')', 'return', 'ExecutionResult', '{', 'return_value', ':', 'null', ',', 'storage_changes', ':', '{', '}', ',', 'gas_used', ':', '0', ',', 'success', ':', 'false', '}']
  ğŸ” Parsing expression from tokens: ['error']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 182
  âœ… Parsed: BlockStatement at line 205
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 205
  âœ… Parsed: BlockStatement at line 207
  ğŸ”§ Populating empty BlockStatement from 30 tokens
    ğŸ“ Parsing 30 tokens into statements
    ğŸ“ Found action statement: ['action', 'apply_storage_changes', '(', 'contract', ':', 'Contract', ',', 'changes', ':', 'map', ')', '{', 'for', 'each', 'key', ',', 'value', 'in', 'changes', '{', 'contract', '.', 'storage', '[', 'key', ']', '=', 'value', '}', '}']
    ğŸ“ Parsing 17 tokens into statements
  ğŸ” Parsing expression from tokens: ['each', 'key', ',', 'value', 'in', 'changes', '{', 'contract', '.', 'storage', '[', 'key', ']', '=', 'value']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 207
  âœ… Parsed: BlockStatement at line 211
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 211
  âœ… Parsed: BlockStatement at line 213
  ğŸ”§ Populating empty BlockStatement from 107 tokens
    ğŸ“ Parsing 107 tokens into statements
    ğŸ“ Found action statement: ['action', 'record_execution', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ',', 'caller', ':', 'string', ',', 'result', ':', 'ExecutionResult', ')', '{', 'let', 'record', '=', '{', 'contract_address', ':', 'contract_address', ',', 'function', ':', 'function', ',', 'caller', ':', 'caller', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'gas_used', ':', 'result', '.', 'gas_used', ',', 'success', ':', 'result', '.', 'success', ',', 'return_value', ':', 'result', '.', 'return_value', '}', 'this', '.', 'execution_history', '.', 'push', '(', 'record', ')', 'if', 'this', '.', 'execution_history', '.', 'count', '(', ')', '>', '1000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', 'this', '.', 'execution_history', '.', 'count', '(', ')', '-', '1000', ')', '}', '}']
    ğŸ“ Parsing 86 tokens into statements
    ğŸ“ Found let statement: ['let', 'record', '=']
  ğŸ” Parsing expression from tokens: ['{', 'contract_address', ':', 'contract_address', ',', 'function', ':', 'function', ',', 'caller', ':', 'caller', ',', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'gas_used', ':', 'result', '.', 'gas_used', ',', 'success', ':', 'result', '.', 'success', ',', 'return_value', ':', 'result', '.', 'return_value']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['contract_address']
  ğŸ—ºï¸ [Map] Added pair: contract_address -> Identifier
  ğŸ” Parsing expression from tokens: ['function']
  ğŸ—ºï¸ [Map] Added pair: function -> Identifier
  ğŸ” Parsing expression from tokens: ['caller']
  ğŸ—ºï¸ [Map] Added pair: caller -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['result', '.', 'gas_used']
  ğŸ—ºï¸ [Map] Added pair: gas_used -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['result', '.', 'success']
  ğŸ—ºï¸ [Map] Added pair: success -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['result', '.', 'return_value']
  ğŸ—ºï¸ [Map] Added pair: return_value -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 7 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'execution_history', '.', 'push', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['record']
  ğŸ” Parsing expression from tokens: ['this', '.', 'execution_history', '.', 'count', '(', ')', '>', '1000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', 'this', '.', 'execution_history', '.', 'count', '(', ')', '-', '1000', ')']
  ğŸ” Parsing expression from tokens: ['1000', '{', 'this', '.', 'execution_history', '=', 'this', '.', 'execution_history', '.', 'slice', '(', 'this', '.', 'execution_history', '.', 'count', '(', ')', '-', '1000', ')']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 213
  âœ… Parsed: BlockStatement at line 229
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 229
  âœ… Parsed: BlockStatement at line 232
  ğŸ”§ Populating empty BlockStatement from 65 tokens
    ğŸ“ Parsing 65 tokens into statements
    ğŸ“ Found action statement: ['action', 'invoke_zexus_interpreter', '(', 'code', ':', 'string', ',', 'function', ':', 'string', ',', 'args', ':', 'list', ',', 'storage', ':', 'map', ',', 'context', ':', 'map', ')', '-', '>', 'map', '{', 'return', '{', 'return_value', ':', 'args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']', ',', 'storage_changes', ':', '{', 'last_executed', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', ',', 'complexity', ':', '1', '}', '}']
    ğŸ“ Parsing 37 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'return_value', ':', 'args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']', ',', 'storage_changes', ':', '{', 'last_executed', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', ',', 'complexity', ':', '1']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['args', '.', 'is_empty', '(', ')', '?', 'null', ':', 'args', '[', '0', ']']
  ğŸ—ºï¸ [Map] Added pair: return_value -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['{', 'last_executed', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_executed -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: storage_changes -> MapLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 232
  âœ… Parsed: BlockStatement at line 238
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 238
  âœ… Parsed: BlockStatement at line 240
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'analyze_function_complexity', '(', 'function', ':', 'string', ')', '-', '>', 'integer', '{', 'return', 'function', '.', 'length', '(', ')', '*', '10', '}']
    ğŸ“ Parsing 8 tokens into statements
  ğŸ” Parsing expression from tokens: ['function', '.', 'length', '(', ')', '*', '10']
  ğŸ” Parsing expression from tokens: ['10']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 240
  âœ… Parsed: BlockStatement at line 242
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 242
  âœ… Parsed: BlockStatement at line 244
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'estimate_storage_cost', '(', 'contract_address', ':', 'string', ',', 'function', ':', 'string', ')', '-', '>', 'integer', '{', 'return', '1000', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['1000']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 244
  âœ… Parsed: BlockStatement at line 246
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 246
  âœ… Parsed: BlockStatement at line 248
  ğŸ”§ Populating empty BlockStatement from 27 tokens
    ğŸ“ Parsing 27 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_actual_gas', '(', 'execution_time', ':', 'integer', ',', 'complexity', ':', 'integer', ')', '-', '>', 'integer', '{', 'return', 'integer', '(', 'execution_time', '*', '1000', '+', 'complexity', '*', '100', ')', '}']
    ğŸ“ Parsing 11 tokens into statements
  ğŸ” Parsing expression from tokens: ['integer', '(', 'execution_time', '*', '1000', '+', 'complexity', '*', '100', ')']
  ğŸ” Parsing expression from tokens: ['execution_time', '*', '1000', '+', 'complexity', '*', '100']
  ğŸ” Parsing expression from tokens: ['1000', '+', 'complexity', '*', '100']
  ğŸ” Parsing expression from tokens: ['complexity', '*', '100']
  ğŸ” Parsing expression from tokens: ['100']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 248
  âœ… Parsed: BlockStatement at line 250
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 250
  âœ… Parsed: BlockStatement at line 252
  ğŸ”§ Populating empty BlockStatement from 11 tokens
    ğŸ“ Parsing 11 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_current_block_number', '(', ')', '-', '>', 'integer', '{', 'return', '1', '}']
    ğŸ“ Parsing 2 tokens into statements
  ğŸ” Parsing expression from tokens: ['1']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 252
  âœ… Parsed: BlockStatement at line 254
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 254
  âœ… Parsed: BlockStatement at line 255
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 255
  âœ… Parsed: BlockStatement at line 258
  ğŸ”§ Populating empty BlockStatement from 75 tokens
    ğŸ“ Parsing 75 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_zvm', '(', ')', '{', 'print', '(', 'ğŸ–¥ï¸ Testing Ziver Virtual Machine...', ')', 'let', 'zvm', '=', 'ZiverVirtualMachine', '(', ')', 'let', 'test_contract_code', '=', '', '\ncontract SimpleStorage:\n    persistent storage value: integer\n    persistent storage owner: string\n\n    action init(owner: string):\n        this.owner = owner\n        this.value = 0\n\n    action set(new_value: integer):\n        require(msg.sender == this.owner, ', 'Only', 'owner', 'can', 'set', ')\n        this.value = new_value\n        emit ValueChanged(this.owner, new_value)\n\n    action get() -> integer:\n        return this.value\n', '', 'let', 'owner_address', '=', 'ZIV_owner_123', 'let', 'contract_address', '=', 'zvm', '.', 'deploy_contract', '(', 'test_contract_code', ',', 'owner_address', ',', '1000', ')', 'print', '(', 'Contract deployed: ', '+', 'contract_address', ')', 'let', 'state', '=', 'zvm', '.', 'get_contract_state', '(', 'contract_address', ')', 'if', 'state', '!=', 'null', '{', 'print', '(', 'Contract state: ', '+', 'string', '(', 'state', ')', ')', '}', '}']
    ğŸ“ Parsing 68 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ–¥ï¸ Testing Ziver Virtual Machine...', ')', 'let', 'zvm', '=', 'ZiverVirtualMachine', '(', ')', 'let', 'test_contract_code', '=', '', '\ncontract SimpleStorage:\n    persistent storage value: integer\n    persistent storage owner: string\n\n    action init(owner: string):\n        this.owner = owner\n        this.value = 0\n\n    action set(new_value: integer):\n        require(msg.sender == this.owner, ', 'Only', 'owner', 'can', 'set', ')\n        this.value = new_value\n        emit ValueChanged(this.owner, new_value)\n\n    action get() -> integer:\n        return this.value\n', '', 'let', 'owner_address', '=', 'ZIV_owner_123', 'let', 'contract_address', '=', 'zvm', '.', 'deploy_contract', '(', 'test_contract_code', ',', 'owner_address', ',', '1000', ')', 'print', '(', 'Contract deployed: ', '+', 'contract_address', ')', 'let', 'state', '=', 'zvm', '.', 'get_contract_state', '(', 'contract_address', ')', 'if', 'state', '!=', 'null']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'Contract state: ', '+', 'string', '(', 'state', ')', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 258
  âœ… Parsed: BlockStatement at line 288
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 288
  âœ… Parsed: BlockStatement at line 290
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'ZiverVirtualMachine', ',', 'VirtualMachine', ',', 'test_zvm', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 290
  âœ… Parsed: BlockStatement at line 294
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 294
âœ… Parsing Complete: 47 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/use_statement @ 8-14: ['use', 'math', 'as', 'math', 'protocol', 'ConsensusProtocol', '{']
  [3] statement/ACTION @ 15-29: ['action', 'register_validator', '(', 'address', ':', 'string', ',', 'stake', ':', 'integer', ')', '-', '>', 'boolean']
  [4] statement/ACTION @ 29-36: ['action', 'select_validator', '(', ')', '-', '>', 'string']
  [5] statement/ACTION @ 36-46: ['action', 'validate_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean']
  [6] statement/ACTION @ 46-66: ['action', 'process_block_reward', '(', 'validator', ':', 'string', ',', 'block', ':', 'any', ')', '-', '>', 'list', '}', 'contract', 'PoSConsensus', 'implements', 'ConsensusProtocol', '{']
  [7] statement/PERSISTENT @ 66-71: ['persistent', 'storage', 'validators', ':', 'map']
  [8] statement/PERSISTENT @ 71-78: ['persistent', 'storage', 'total_stake', ':', 'integer', '=', '0']
  [9] statement/PERSISTENT @ 78-85: ['persistent', 'storage', 'block_reward', ':', 'integer', '=', '100']
  [10] statement/PERSISTENT @ 85-92: ['persistent', 'storage', 'difficulty', ':', 'integer', '=', '1']
  [11] statement/ACTION @ 92-103: ['action', 'init', '(', ')', '{', 'this', '.', 'validators', '=', '{', '}', '}']
  [12] statement/} @ 103-103: ['}']
  [13] statement/entity_statement @ 104-127: ['entity', 'Validator', '{', 'address', ':', 'string', 'stake', ':', 'integer', 'performance', ':', 'float', '=', '1.0', 'last_active', ':', 'integer', '?', 'ai_trust_score', ':', 'float', '=', '1.0', '}']
  [14] statement/ACTION @ 128-214: ['action', 'register_validator', '(', 'address', ':', 'string', ',', 'stake', ':', 'integer', ')', '-', '>', 'boolean', '{', 'if', 'this', '.', 'validators', '.', 'has', '(', 'address', ')', '{', 'print', '(', 'Validator already registered', ')', 'return', 'false', '}', 'let', 'validator', '=', 'Validator', '{', 'address', ':', 'address', ',', 'stake', ':', 'stake', ',', 'last_active', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'this', '.', 'validators', '[', 'address', ']', '=', 'validator', 'this', '.', 'total_stake', '+', '=', 'stake', 'print', '(', 'Validator registered: ', '+', 'address', '+', ' with stake: ', '+', 'string', '(', 'stake', ')', ')', 'return', 'true', '}']
  [15] statement/} @ 214-214: ['}']
  [16] statement/ACTION @ 215-371: ['action', 'select_validator', '(', ')', '-', '>', 'string', '{', 'if', 'this', '.', 'validators', '.', 'is_empty', '(', ')', '{', 'throw', 'No validators available', '}', 'let', 'weighted_scores', '=', '[', ']', 'let', 'total_weight', '=', '0', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators', '{', 'let', 'ai_score', '=', 'this', '.', 'ai_analyze_validator_performance', '(', 'address', ')', 'let', 'weight', '=', 'integer', '(', 'validator', '.', 'stake', '*', 'ai_score', ')', 'weighted_scores', '.', 'push', '(', '{', 'address', ':', 'address', ',', 'weight', ':', 'weight', '}', ')', 'total_weight', '+', '=', 'weight', '}', 'if', 'total_weight', '==', '0', '{', 'return', 'this', '.', 'select_validator_fallback', '(', ')', '}', 'let', 'random_value', '=', 'math', '.', 'random_int', '(', '0', ',', 'total_weight', '-', '1', ')', 'let', 'current_sum', '=', '0', 'for', 'each', 'item', 'in', 'weighted_scores', '{', 'current_sum', '+', '=', 'item', '.', 'weight', 'if', 'random_value', '<', 'current_sum', '{', 'this', '.', 'validators', '[', 'item', '.', 'address', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'item', '.', 'address', '}', '}', 'return', 'this', '.', 'select_validator_fallback', '(', ')', '}']
  [17] statement/} @ 371-371: ['}']
  [18] statement/ACTION @ 372-443: ['action', 'select_validator_fallback', '(', ')', '-', '>', 'string', '{', 'let', 'highest_stake', '=', '0', 'let', 'selected_validator', '=', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators', '{', 'if', 'validator', '.', 'stake', '>', 'highest_stake', '{', 'highest_stake', '=', 'validator', '.', 'stake', 'selected_validator', '=', 'address', '}', '}', 'if', 'selected_validator', '!=', '{', 'this', '.', 'validators', '[', 'selected_validator', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'selected_validator', '}', 'throw', 'No validators available for selection', '}']
  [19] statement/} @ 443-443: ['}']
  [20] statement/ACTION @ 444-550: ['action', 'validate_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'if', 'tx', '.', 'value', '<', '0', '{', 'return', 'false', '}', 'if', 'tx', '.', 'from_addr', '==', 'tx', '.', 'to_addr', '{', 'return', 'false', '}', 'if', 'tx', '.', 'gas_limit', '<', 'tx', '.', 'gas_used', '{', 'return', 'false', '}', 'let', 'tx_content', '=', 'tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid', '}']
  [21] statement/} @ 550-550: ['}']
  [22] statement/ACTION @ 551-664: ['action', 'process_block_reward', '(', 'validator', ':', 'string', ',', 'block', ':', 'any', ')', '-', '>', 'list', '{', 'use', '../core/block.zx', 'as', 'block_module', 'let', 'reward_data', '=', '{', 'type', ':', 'block_reward', ',', 'block_index', ':', 'block', '.', 'index', ',', 'validator', ':', 'validator', ',', 'amount', ':', 'this', '.', 'block_reward', '}', 'let', 'reward_tx', '=', 'block_module', '.', 'Transaction', '{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'reward_', '+', 'string', '(', 'block', '.', 'index', ')', '+', 'validator', ')', ',', 'from_addr', ':', '0x0000000000000000000000000000000000000000', ',', 'to_addr', ':', 'validator', ',', 'value', ':', 'this', '.', 'block_reward', ',', 'data', ':', 'string', '(', 'reward_data', ')', ',', 'gas_limit', ':', '0', ',', 'gas_used', ':', '0', ',', 'nonce', ':', '0', ',', 'signature', ':', 'system_reward', ',', 'status', ':', 'confirmed', '}', 'return', '[', 'reward_tx', ']', '}']
  [23] statement/} @ 664-664: ['}']
  [24] statement/ACTION @ 665-800: ['action', 'async', 'ai_analyze_validator_performance', '(', 'validator', ':', 'string', ')', '-', '>', 'float', '{', 'if', 'not', 'this', '.', 'validators', '.', 'has', '(', 'validator', ')', '{', 'return', '0.0', '}', 'let', 'validator_data', '=', 'this', '.', 'validators', '[', 'validator', ']', 'let', 'stake_factor', '=', 'math', '.', 'min', '(', '1.0', ',', 'validator_data', '.', 'stake', '/', '10000.0', ')', 'let', 'activity_factor', '=', '1.0', 'if', 'validator_data', '.', 'last_active', '!=', 'null', '{', 'let', 'time_diff', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'validator_data', '.', 'last_active', 'if', 'time_diff', '>', '3600', '{', 'activity_factor', '=', 'math', '.', 'max', '(', '0.1', ',', '1.0', '-', '(', 'time_diff', '-', '3600', ')', '/', '86400.0', ')', '}', '}', 'let', 'performance_factor', '=', 'validator_data', '.', 'performance', 'let', 'final_score', '=', '(', 'stake_factor', '*', '0.4', ')', '+', '(', 'activity_factor', '*', '0.3', ')', '+', '(', 'performance_factor', '*', '0.3', ')', 'validator_data', '.', 'ai_trust_score', '=', 'final_score', 'return', 'final_score', '}']
  [25] statement/} @ 800-800: ['}']
  [26] statement/ACTION @ 801-867: ['action', 'get_validator_info', '(', 'address', ':', 'string', ')', '-', '>', 'map', '?', '{', 'if', 'this', '.', 'validators', '.', 'has', '(', 'address', ')', '{', 'let', 'validator', '=', 'this', '.', 'validators', '[', 'address', ']', 'return', '{', 'address', ':', 'validator', '.', 'address', ',', 'stake', ':', 'validator', '.', 'stake', ',', 'performance', ':', 'validator', '.', 'performance', ',', 'ai_trust_score', ':', 'validator', '.', 'ai_trust_score', ',', 'last_active', ':', 'validator', '.', 'last_active', '}', '}', 'return', 'null', '}']
  [27] statement/} @ 867-867: ['}']
  [28] statement/ACTION @ 868-905: ['action', 'get_consensus_stats', '(', ')', '-', '>', 'map', '{', 'return', '{', 'total_validators', ':', 'len', '(', 'this', '.', 'validators', ')', ',', 'total_stake', ':', 'this', '.', 'total_stake', ',', 'block_reward', ':', 'this', '.', 'block_reward', ',', 'difficulty', ':', 'this', '.', 'difficulty', '}', '}']
  [29] statement/} @ 905-905: ['}']
  [30] statement/} @ 906-906: ['}']
  [31] statement/ACTION @ 907-993: ['action', 'async', 'test_consensus_module', '(', ')', '{', 'print', '(', 'âš–ï¸ Testing Consensus Module...', ')', 'let', 'consensus', '=', 'PoSConsensus', '(', ')', 'let', 'test_validator', '=', 'ZIV_test_validator_123', 'if', 'consensus', '.', 'register_validator', '(', 'test_validator', ',', '1000', ')', '{', 'let', 'selected', '=', 'consensus', '.', 'select_validator', '(', ')', 'print', '(', 'Selected validator: ', '+', 'selected', ')', 'let', 'stats', '=', 'consensus', '.', 'get_consensus_stats', '(', ')', 'print', '(', 'Consensus stats: ', '+', 'string', '(', 'stats', ')', ')', 'let', 'validator_info', '=', 'consensus', '.', 'get_validator_info', '(', 'test_validator', ')', 'if', 'validator_info', '!=', 'null', '{', 'print', '(', 'Validator info: ', '+', 'string', '(', 'validator_info', ')', ')', '}', '}', '}']
  [32] statement/} @ 993-993: ['}']
  [33] statement/EXPORT @ 994-1001: ['export', '{', 'PoSConsensus', ',', 'ConsensusProtocol', ',', 'test_consensus_module', '}']
  [34] statement/} @ 1001-1002: ['}']
ğŸ”§ Parsing 35 top-level blocks...
  âœ… Parsed: BlockStatement at line 3
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 3
  âœ… Parsed: BlockStatement at line 4
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 4
  âœ… Parsed: BlockStatement at line 5
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math', 'protocol', 'ConsensusProtocol', '{']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math', 'protocol', 'ConsensusProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 5
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'register_validator', '(', 'address', ':', 'string', ',', 'stake', ':', 'integer', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 10
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found action statement: ['action', 'select_validator', '(', ')', '-', '>', 'string']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 10
  âœ… Parsed: BlockStatement at line 11
  ğŸ”§ Populating empty BlockStatement from 10 tokens
    ğŸ“ Parsing 10 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 11
  âœ… Parsed: BlockStatement at line 12
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'process_block_reward', '(', 'validator', ':', 'string', ',', 'block', ':', 'any', ')', '-', '>', 'list', '}', 'contract', 'PoSConsensus', 'implements', 'ConsensusProtocol', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 12
  âœ… Parsed: BlockStatement at line 16
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['validators', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 16
  âœ… Parsed: BlockStatement at line 17
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['total_stake', ':', 'integer', '=', '0']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 17
  âœ… Parsed: BlockStatement at line 18
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['block_reward', ':', 'integer', '=', '100']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 18
  âœ… Parsed: BlockStatement at line 19
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['difficulty', ':', 'integer', '=', '1']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 19
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 12 tokens
    ğŸ“ Parsing 12 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', ')', '{', 'this', '.', 'validators', '=', '{', '}', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators', '=', '{']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
  âœ… Parsed: BlockStatement at line 23
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 23
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: Validator
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: stake
  ğŸ“ Property: stake: integer
  ğŸ“ Found property name: performance
  ğŸ“ Property: performance: float
  ğŸ“ Found property name: last_active
  ğŸ“ Property: last_active: integer
  ğŸ“ Found property name: ?
  ğŸ“ Found property name: ai_trust_score
  ğŸ“ Property: ai_trust_score: float
  âœ… Parsed: EntityStatement at line 25
  âœ… Parsed: EntityStatement at line 25
  âœ… Parsed: BlockStatement at line 33
  ğŸ”§ Populating empty BlockStatement from 87 tokens
    ğŸ“ Parsing 87 tokens into statements
    ğŸ“ Found action statement: ['action', 'register_validator', '(', 'address', ':', 'string', ',', 'stake', ':', 'integer', ')', '-', '>', 'boolean', '{', 'if', 'this', '.', 'validators', '.', 'has', '(', 'address', ')', '{', 'print', '(', 'Validator already registered', ')', 'return', 'false', '}', 'let', 'validator', '=', 'Validator', '{', 'address', ':', 'address', ',', 'stake', ':', 'stake', ',', 'last_active', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '}', 'this', '.', 'validators', '[', 'address', ']', '=', 'validator', 'this', '.', 'total_stake', '+', '=', 'stake', 'print', '(', 'Validator registered: ', '+', 'address', '+', ' with stake: ', '+', 'string', '(', 'stake', ')', ')', 'return', 'true', '}']
    ğŸ“ Parsing 71 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators', '.', 'has', '(', 'address', ')', '{', 'print', '(', 'Validator already registered', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['address']
    ğŸ“ Found let statement: ['let', 'validator', '=', 'Validator']
  ğŸ” Parsing expression from tokens: ['Validator']
  ğŸ” Parsing expression from tokens: ['{', 'address', ':', 'address', ',', 'stake', ':', 'stake', ',', 'last_active', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ” Parsing expression from tokens: ['stake']
  ğŸ—ºï¸ [Map] Added pair: stake -> Identifier
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_active -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators', '[', 'address', ']', '=', 'validator', 'this', '.', 'total_stake', '+', '=', 'stake']
    ğŸ“ Found print statement: ['print', '(', 'Validator registered: ', '+', 'address', '+', ' with stake: ', '+', 'string', '(', 'stake', ')', ')', 'return', 'true']
    âœ… Parsed 5 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 33
  âœ… Parsed: BlockStatement at line 48
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 48
  âœ… Parsed: BlockStatement at line 50
  ğŸ”§ Populating empty BlockStatement from 157 tokens
    ğŸ“ Parsing 157 tokens into statements
    ğŸ“ Found action statement: ['action', 'select_validator', '(', ')', '-', '>', 'string', '{', 'if', 'this', '.', 'validators', '.', 'is_empty', '(', ')', '{', 'throw', 'No validators available', '}', 'let', 'weighted_scores', '=', '[', ']', 'let', 'total_weight', '=', '0', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators', '{', 'let', 'ai_score', '=', 'this', '.', 'ai_analyze_validator_performance', '(', 'address', ')', 'let', 'weight', '=', 'integer', '(', 'validator', '.', 'stake', '*', 'ai_score', ')', 'weighted_scores', '.', 'push', '(', '{', 'address', ':', 'address', ',', 'weight', ':', 'weight', '}', ')', 'total_weight', '+', '=', 'weight', '}', 'if', 'total_weight', '==', '0', '{', 'return', 'this', '.', 'select_validator_fallback', '(', ')', '}', 'let', 'random_value', '=', 'math', '.', 'random_int', '(', '0', ',', 'total_weight', '-', '1', ')', 'let', 'current_sum', '=', '0', 'for', 'each', 'item', 'in', 'weighted_scores', '{', 'current_sum', '+', '=', 'item', '.', 'weight', 'if', 'random_value', '<', 'current_sum', '{', 'this', '.', 'validators', '[', 'item', '.', 'address', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'item', '.', 'address', '}', '}', 'return', 'this', '.', 'select_validator_fallback', '(', ')', '}']
    ğŸ“ Parsing 148 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators', '.', 'is_empty', '(', ')', '{', 'throw', 'No validators available']
    ğŸ“ Found let statement: ['let', 'weighted_scores', '=', '[', ']', 'let', 'total_weight', '=', '0', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators']
  ğŸ” Parsing expression from tokens: ['[', ']', 'let', 'total_weight', '=', '0', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'let', 'ai_score', '=', 'this', '.', 'ai_analyze_validator_performance', '(', 'address', ')', 'let', 'weight', '=', 'integer', '(', 'validator', '.', 'stake', '*', 'ai_score', ')', 'weighted_scores', '.', 'push', '(', '{', 'address', ':', 'address', ',', 'weight', ':', 'weight', '}', ')', 'total_weight', '+', '=', 'weight']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ” Parsing expression from tokens: ['weight']
  ğŸ—ºï¸ [Map] Added pair: weight -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 2 pairs
  ğŸ” Parsing expression from tokens: ['total_weight', '==', '0', '{', 'return', 'this', '.', 'select_validator_fallback', '(', ')']
  ğŸ” Parsing expression from tokens: ['0', '{', 'return', 'this', '.', 'select_validator_fallback', '(', ')']
    ğŸ“ Found let statement: ['let', 'random_value', '=', 'math', '.', 'random_int', '(', '0', ',', 'total_weight', '-', '1', ')', 'let', 'current_sum', '=', '0', 'for', 'each', 'item', 'in', 'weighted_scores']
  ğŸ” Parsing expression from tokens: ['math', '.', 'random_int', '(', '0', ',', 'total_weight', '-', '1', ')', 'let', 'current_sum', '=', '0', 'for', 'each', 'item', 'in', 'weighted_scores']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['total_weight', '-', '1']
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ” Parsing expression from tokens: ['{', 'current_sum', '+', '=', 'item', '.', 'weight', 'if', 'random_value', '<', 'current_sum', '{', 'this', '.', 'validators', '[', 'item', '.', 'address', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'item', '.', 'address', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'select_validator_fallback', '(', ')']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 50
  âœ… Parsed: BlockStatement at line 83
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 83
  âœ… Parsed: BlockStatement at line 85
  ğŸ”§ Populating empty BlockStatement from 72 tokens
    ğŸ“ Parsing 72 tokens into statements
    ğŸ“ Found action statement: ['action', 'select_validator_fallback', '(', ')', '-', '>', 'string', '{', 'let', 'highest_stake', '=', '0', 'let', 'selected_validator', '=', '', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators', '{', 'if', 'validator', '.', 'stake', '>', 'highest_stake', '{', 'highest_stake', '=', 'validator', '.', 'stake', 'selected_validator', '=', 'address', '}', '}', 'if', 'selected_validator', '!=', '', '{', 'this', '.', 'validators', '[', 'selected_validator', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'selected_validator', '}', 'throw', 'No validators available for selection', '}']
    ğŸ“ Parsing 63 tokens into statements
    ğŸ“ Found let statement: ['let', 'highest_stake', '=', '0', 'let', 'selected_validator', '=', '', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators']
  ğŸ” Parsing expression from tokens: ['0', 'let', 'selected_validator', '=', '', 'for', 'each', 'address', ',', 'validator', 'in', 'this', '.', 'validators']
  ğŸ” Parsing expression from tokens: ['{', 'if', 'validator', '.', 'stake', '>', 'highest_stake', '{', 'highest_stake', '=', 'validator', '.', 'stake', 'selected_validator', '=', 'address', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['selected_validator', '!=', '', '{', 'this', '.', 'validators', '[', 'selected_validator', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'selected_validator']
  ğŸ” Parsing expression from tokens: ['', '{', 'this', '.', 'validators', '[', 'selected_validator', ']', '.', 'last_active', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'return', 'selected_validator']
  ğŸ” Parsing expression from tokens: ['throw', 'No validators available for selection']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 85
  âœ… Parsed: BlockStatement at line 102
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 102
  âœ… Parsed: BlockStatement at line 104
  ğŸ”§ Populating empty BlockStatement from 107 tokens
    ğŸ“ Parsing 107 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_transaction', '(', 'tx', ':', 'any', ')', '-', '>', 'boolean', '{', 'if', 'tx', '.', 'value', '<', '0', '{', 'return', 'false', '}', 'if', 'tx', '.', 'from_addr', '==', 'tx', '.', 'to_addr', '{', 'return', 'false', '}', 'if', 'tx', '.', 'gas_limit', '<', 'tx', '.', 'gas_used', '{', 'return', 'false', '}', 'let', 'tx_content', '=', 'tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid', '}']
    ğŸ“ Parsing 95 tokens into statements
  ğŸ” Parsing expression from tokens: ['tx', '.', 'value', '<', '0', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['0', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'from_addr', '==', 'tx', '.', 'to_addr', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'to_addr', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'gas_limit', '<', 'tx', '.', 'gas_used', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'gas_used', '{', 'return', 'false']
    ğŸ“ Found let statement: ['let', 'tx_content', '=', 'tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'value']
  ğŸ” Parsing expression from tokens: ['(', 'tx', '.', 'data', '?', '?', '', ')', '+', 'string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'data', '?', '?', '']
  ğŸ” Parsing expression from tokens: ['string', '(', 'tx', '.', 'nonce', ')', 'let', 'tx_hash', '=', 'crypto', '.', 'keccak256', '(', 'tx_content', ')', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'tx_hash', ',', 'tx', '.', 'signature', ',', 'tx', '.', 'from_addr', ')', 'return', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['tx', '.', 'nonce']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 104
  âœ… Parsed: BlockStatement at line 126
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 126
  âœ… Parsed: BlockStatement at line 128
  ğŸ”§ Populating empty BlockStatement from 114 tokens
    ğŸ“ Parsing 114 tokens into statements
    ğŸ“ Found action statement: ['action', 'process_block_reward', '(', 'validator', ':', 'string', ',', 'block', ':', 'any', ')', '-', '>', 'list', '{', 'use', '../core/block.zx', 'as', 'block_module', 'let', 'reward_data', '=', '{', 'type', ':', 'block_reward', ',', 'block_index', ':', 'block', '.', 'index', ',', 'validator', ':', 'validator', ',', 'amount', ':', 'this', '.', 'block_reward', '}', 'let', 'reward_tx', '=', 'block_module', '.', 'Transaction', '{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'reward_', '+', 'string', '(', 'block', '.', 'index', ')', '+', 'validator', ')', ',', 'from_addr', ':', '0x0000000000000000000000000000000000000000', ',', 'to_addr', ':', 'validator', ',', 'value', ':', 'this', '.', 'block_reward', ',', 'data', ':', 'string', '(', 'reward_data', ')', ',', 'gas_limit', ':', '0', ',', 'gas_used', ':', '0', ',', 'nonce', ':', '0', ',', 'signature', ':', 'system_reward', ',', 'status', ':', 'confirmed', '}', 'return', '[', 'reward_tx', ']', '}']
    ğŸ“ Parsing 98 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', '../core/block.zx', 'as', 'block_module', 'let', 'reward_data', '=', '{', 'type', ':', 'block_reward', ',', 'block_index', ':', 'block', '.', 'index', ',', 'validator', ':', 'validator', ',', 'amount', ':', 'this', '.', 'block_reward', '}', 'let', 'reward_tx', '=', 'block_module', '.', 'Transaction', '{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'reward_', '+', 'string', '(', 'block', '.', 'index', ')', '+', 'validator', ')', ',', 'from_addr', ':', '0x0000000000000000000000000000000000000000', ',', 'to_addr', ':', 'validator', ',', 'value', ':', 'this', '.', 'block_reward', ',', 'data', ':', 'string', '(', 'reward_data', ')', ',', 'gas_limit', ':', '0', ',', 'gas_used', ':', '0', ',', 'nonce', ':', '0', ',', 'signature', ':', 'system_reward', ',', 'status', ':', 'confirmed', '}', 'return', '[', 'reward_tx', ']']
    ğŸ“ Found use statement: ['use', '../core/block.zx', 'as', 'block_module', 'let', 'reward_data', '=', '{', 'type', ':', 'block_reward', ',', 'block_index', ':', 'block', '.', 'index', ',', 'validator', ':', 'validator', ',', 'amount', ':', 'this', '.', 'block_reward', '}', 'let', 'reward_tx', '=', 'block_module', '.', 'Transaction', '{', 'hash', ':', 'crypto', '.', 'keccak256', '(', 'reward_', '+', 'string', '(', 'block', '.', 'index', ')', '+', 'validator', ')', ',', 'from_addr', ':', '0x0000000000000000000000000000000000000000', ',', 'to_addr', ':', 'validator', ',', 'value', ':', 'this', '.', 'block_reward', ',', 'data', ':', 'string', '(', 'reward_data', ')', ',', 'gas_limit', ':', '0', ',', 'gas_used', ':', '0', ',', 'nonce', ':', '0', ',', 'signature', ':', 'system_reward', ',', 'status', ':', 'confirmed', '}', 'return', '[', 'reward_tx', ']']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 128
  âœ… Parsed: BlockStatement at line 153
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 153
  âœ… Parsed: BlockStatement at line 156
  ğŸ”§ Populating empty BlockStatement from 136 tokens
    ğŸ“ Parsing 136 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'ai_analyze_validator_performance', '(', 'validator', ':', 'string', ')', '-', '>', 'float', '{', 'if', 'not', 'this', '.', 'validators', '.', 'has', '(', 'validator', ')', '{', 'return', '0.0', '}', 'let', 'validator_data', '=', 'this', '.', 'validators', '[', 'validator', ']', 'let', 'stake_factor', '=', 'math', '.', 'min', '(', '1.0', ',', 'validator_data', '.', 'stake', '/', '10000.0', ')', 'let', 'activity_factor', '=', '1.0', 'if', 'validator_data', '.', 'last_active', '!=', 'null', '{', 'let', 'time_diff', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'validator_data', '.', 'last_active', 'if', 'time_diff', '>', '3600', '{', 'activity_factor', '=', 'math', '.', 'max', '(', '0.1', ',', '1.0', '-', '(', 'time_diff', '-', '3600', ')', '/', '86400.0', ')', '}', '}', 'let', 'performance_factor', '=', 'validator_data', '.', 'performance', 'let', 'final_score', '=', '(', 'stake_factor', '*', '0.4', ')', '+', '(', 'activity_factor', '*', '0.3', ')', '+', '(', 'performance_factor', '*', '0.3', ')', 'validator_data', '.', 'ai_trust_score', '=', 'final_score', 'return', 'final_score', '}']
    ğŸ“ Parsing 123 tokens into statements
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'validators', '.', 'has', '(', 'validator', ')', '{', 'return', '0.0']
    ğŸ“ Found let statement: ['let', 'validator_data', '=', 'this', '.', 'validators', '[', 'validator', ']', 'let', 'stake_factor', '=', 'math', '.', 'min', '(', '1.0', ',', 'validator_data', '.', 'stake', '/', '10000.0', ')', 'let', 'activity_factor', '=', '1.0', 'if', 'validator_data', '.', 'last_active', '!=', 'null']
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators', '[', 'validator', ']', 'let', 'stake_factor', '=', 'math', '.', 'min', '(', '1.0', ',', 'validator_data', '.', 'stake', '/', '10000.0', ')', 'let', 'activity_factor', '=', '1.0', 'if', 'validator_data', '.', 'last_active', '!=', 'null']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'time_diff', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'validator_data', '.', 'last_active', 'if', 'time_diff', '>', '3600', '{', 'activity_factor', '=', 'math', '.', 'max', '(', '0.1', ',', '1.0', '-', '(', 'time_diff', '-', '3600', ')', '/', '86400.0', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'performance_factor', '=', 'validator_data', '.', 'performance', 'let', 'final_score', '=', '(', 'stake_factor', '*', '0.4', ')', '+', '(', 'activity_factor', '*', '0.3', ')', '+', '(', 'performance_factor', '*', '0.3', ')', 'validator_data', '.', 'ai_trust_score', '=', 'final_score', 'return', 'final_score']
  ğŸ” Parsing expression from tokens: ['validator_data', '.', 'performance', 'let', 'final_score', '=', '(', 'stake_factor', '*', '0.4', ')', '+', '(', 'activity_factor', '*', '0.3', ')', '+', '(', 'performance_factor', '*', '0.3', ')', 'validator_data', '.', 'ai_trust_score', '=', 'final_score', 'return', 'final_score']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 156
  âœ… Parsed: BlockStatement at line 185
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 185
  âœ… Parsed: BlockStatement at line 187
  ğŸ”§ Populating empty BlockStatement from 67 tokens
    ğŸ“ Parsing 67 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_validator_info', '(', 'address', ':', 'string', ')', '-', '>', 'map', '?', '{', 'if', 'this', '.', 'validators', '.', 'has', '(', 'address', ')', '{', 'let', 'validator', '=', 'this', '.', 'validators', '[', 'address', ']', 'return', '{', 'address', ':', 'validator', '.', 'address', ',', 'stake', ':', 'validator', '.', 'stake', ',', 'performance', ':', 'validator', '.', 'performance', ',', 'ai_trust_score', ':', 'validator', '.', 'ai_trust_score', ',', 'last_active', ':', 'validator', '.', 'last_active', '}', '}', 'return', 'null', '}']
    ğŸ“ Parsing 54 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators', '.', 'has', '(', 'address', ')', '{', 'let', 'validator', '=', 'this', '.', 'validators', '[', 'address', ']', 'return', '{', 'address', ':', 'validator', '.', 'address', ',', 'stake', ':', 'validator', '.', 'stake', ',', 'performance', ':', 'validator', '.', 'performance', ',', 'ai_trust_score', ':', 'validator', '.', 'ai_trust_score', ',', 'last_active', ':', 'validator', '.', 'last_active', '}']
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ” Parsing expression from tokens: ['null']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 187
  âœ… Parsed: BlockStatement at line 199
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 199
  âœ… Parsed: BlockStatement at line 201
  ğŸ”§ Populating empty BlockStatement from 38 tokens
    ğŸ“ Parsing 38 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_consensus_stats', '(', ')', '-', '>', 'map', '{', 'return', '{', 'total_validators', ':', 'len', '(', 'this', '.', 'validators', ')', ',', 'total_stake', ':', 'this', '.', 'total_stake', ',', 'block_reward', ':', 'this', '.', 'block_reward', ',', 'difficulty', ':', 'this', '.', 'difficulty', '}', '}']
    ğŸ“ Parsing 29 tokens into statements
  ğŸ” Parsing expression from tokens: ['{', 'total_validators', ':', 'len', '(', 'this', '.', 'validators', ')', ',', 'total_stake', ':', 'this', '.', 'total_stake', ',', 'block_reward', ':', 'this', '.', 'block_reward', ',', 'difficulty', ':', 'this', '.', 'difficulty']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['len', '(', 'this', '.', 'validators', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'validators']
  ğŸ—ºï¸ [Map] Added pair: total_validators -> CallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'total_stake']
  ğŸ—ºï¸ [Map] Added pair: total_stake -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'block_reward']
  ğŸ—ºï¸ [Map] Added pair: block_reward -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'difficulty']
  ğŸ—ºï¸ [Map] Added pair: difficulty -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 201
  âœ… Parsed: BlockStatement at line 208
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 208
  âœ… Parsed: BlockStatement at line 209
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 209
  âœ… Parsed: BlockStatement at line 212
  ğŸ”§ Populating empty BlockStatement from 87 tokens
    ğŸ“ Parsing 87 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_consensus_module', '(', ')', '{', 'print', '(', 'âš–ï¸ Testing Consensus Module...', ')', 'let', 'consensus', '=', 'PoSConsensus', '(', ')', 'let', 'test_validator', '=', 'ZIV_test_validator_123', 'if', 'consensus', '.', 'register_validator', '(', 'test_validator', ',', '1000', ')', '{', 'let', 'selected', '=', 'consensus', '.', 'select_validator', '(', ')', 'print', '(', 'Selected validator: ', '+', 'selected', ')', 'let', 'stats', '=', 'consensus', '.', 'get_consensus_stats', '(', ')', 'print', '(', 'Consensus stats: ', '+', 'string', '(', 'stats', ')', ')', 'let', 'validator_info', '=', 'consensus', '.', 'get_validator_info', '(', 'test_validator', ')', 'if', 'validator_info', '!=', 'null', '{', 'print', '(', 'Validator info: ', '+', 'string', '(', 'validator_info', ')', ')', '}', '}', '}']
    ğŸ“ Parsing 80 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'âš–ï¸ Testing Consensus Module...', ')', 'let', 'consensus', '=', 'PoSConsensus', '(', ')', 'let', 'test_validator', '=', 'ZIV_test_validator_123', 'if', 'consensus', '.', 'register_validator', '(', 'test_validator', ',', '1000', ')']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'selected', '=', 'consensus', '.', 'select_validator', '(', ')', 'print', '(', 'Selected validator: ', '+', 'selected', ')', 'let', 'stats', '=', 'consensus', '.', 'get_consensus_stats', '(', ')', 'print', '(', 'Consensus stats: ', '+', 'string', '(', 'stats', ')', ')', 'let', 'validator_info', '=', 'consensus', '.', 'get_validator_info', '(', 'test_validator', ')', 'if', 'validator_info', '!=', 'null', '{', 'print', '(', 'Validator info: ', '+', 'string', '(', 'validator_info', ')', ')', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 212
  âœ… Parsed: BlockStatement at line 229
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 229
  âœ… Parsed: BlockStatement at line 232
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'PoSConsensus', ',', 'ConsensusProtocol', ',', 'test_consensus_module', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 232
  âœ… Parsed: BlockStatement at line 236
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 236
âœ… Parsing Complete: 35 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto_lib']
  [1] statement/use_statement @ 4-7: ['use', 'math', 'as', 'math']
  [2] statement/use_statement @ 8-14: ['use', 'datetime', 'as', 'datetime', 'protocol', 'QuantumResistantCrypto', '{']
  [3] statement/ACTION @ 15-22: ['action', 'generate_quantum_keypair', '(', ')', '-', '>', 'KeyPair']
  [4] statement/ACTION @ 22-36: ['action', 'quantum_sign', '(', 'message', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string']
  [5] statement/ACTION @ 36-54: ['action', 'quantum_verify', '(', 'message', ':', 'string', ',', 'signature', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'boolean']
  [6] statement/ACTION @ 54-68: ['action', 'hybrid_encrypt', '(', 'data', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'string']
  [7] statement/ACTION @ 68-88: ['action', 'hybrid_decrypt', '(', 'encrypted_data', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '}', 'contract', 'QuantumCrypto', 'implements', 'QuantumResistantCrypto', '{']
  [8] statement/PERSISTENT @ 88-93: ['persistent', 'storage', 'key_registry', ':', 'map']
  [9] statement/entity_statement @ 93-110: ['entity', 'KeyPair', '{', 'public_key', ':', 'string', 'private_key', ':', 'string', 'address', ':', 'string', 'key_type', ':', 'string', '=', 'SPHINCS+', '}']
  [10] statement/ACTION @ 111-122: ['action', 'init', '(', ')', '{', 'this', '.', 'key_registry', '=', '{', '}', '}']
  [11] statement/} @ 122-122: ['}']
  [12] statement/ACTION @ 123-194: ['action', 'generate_quantum_keypair', '(', ')', '-', '>', 'KeyPair', '{', 'let', 'keypair', '=', 'crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_Q', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'quantum_keypair', '=', 'KeyPair', '{', 'public_key', ':', 'keypair', '.', 'public_key', ',', 'private_key', ':', 'keypair', '.', 'private_key', ',', 'address', ':', 'address', '}', 'this', '.', 'key_registry', '[', 'address', ']', '=', 'quantum_keypair', 'return', 'quantum_keypair', '}']
  [13] statement/} @ 194-194: ['}']
  [14] statement/ACTION @ 195-255: ['action', 'quantum_sign', '(', 'message', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'signature', '=', 'crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')', 'let', 'timestamp', '=', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', 'let', 'full_signature', '=', 'signature', '+', '|', '+', 'timestamp', '+', '|', '+', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', 'return', 'full_signature', '}']
  [15] statement/} @ 255-255: ['}']
  [16] statement/ACTION @ 256-366: ['action', 'quantum_verify', '(', 'message', ':', 'string', ',', 'signature', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'parts', '=', 'signature', '.', 'split', '(', '|', ')', 'if', 'parts', '.', 'count', '(', ')', '!=', '3', '{', 'return', 'false', '}', 'let', 'sig', '=', 'parts', '[', '0', ']', 'let', 'timestamp', '=', 'parts', '[', '1', ']', 'let', 'message_hash', '=', 'parts', '[', '2', ']', 'if', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', '!=', 'message_hash', '{', 'return', 'false', '}', 'let', 'time_diff', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'integer', '(', 'timestamp', ')', 'if', 'time_diff', '>', '300', '{', 'return', 'false', '}', 'return', 'crypto_lib', '.', 'verify_signature', '(', 'message', ',', 'sig', ',', 'public_key', ')', '}']
  [17] statement/} @ 366-366: ['}']
  [18] statement/ACTION @ 367-402: ['action', 'hybrid_encrypt', '(', 'data', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'encrypted', '=', 'crypto_lib', '.', 'aes_encrypt', '(', 'data', ',', 'public_key', '.', 'slice', '(', '0', ',', '32', ')', ')', 'return', 'encrypted', '}']
  [19] statement/} @ 402-402: ['}']
  [20] statement/ACTION @ 403-434: ['action', 'hybrid_decrypt', '(', 'encrypted_data', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'aes_decrypt', '(', 'encrypted_data', ',', 'private_key', '.', 'slice', '(', '0', ',', '32', ')', ')', '}']
  [21] statement/} @ 434-434: ['}']
  [22] statement/ACTION @ 435-453: ['action', 'keccak256', '(', 'data', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'keccak256', '(', 'data', ')', '}']
  [23] statement/} @ 453-453: ['}']
  [24] statement/ACTION @ 454-472: ['action', 'sha256', '(', 'data', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'sha256', '(', 'data', ')', '}']
  [25] statement/} @ 472-472: ['}']
  [26] statement/ACTION @ 473-497: ['action', 'secp256k1_sign', '(', 'message', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')', '}']
  [27] statement/} @ 497-497: ['}']
  [28] statement/ACTION @ 498-528: ['action', 'verify_signature', '(', 'message', ':', 'string', ',', 'signature', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'boolean', '{', 'return', 'crypto_lib', '.', 'verify_signature', '(', 'message', ',', 'signature', ',', 'public_key', ')', '}']
  [29] statement/} @ 528-528: ['}']
  [30] statement/ACTION @ 529-588: ['action', 'generate_keypair', '(', ')', '-', '>', 'KeyPair', '{', 'let', 'keypair', '=', 'crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'return', 'KeyPair', '{', 'public_key', ':', 'keypair', '.', 'public_key', ',', 'private_key', ':', 'keypair', '.', 'private_key', ',', 'address', ':', 'address', '}', '}']
  [31] statement/} @ 588-588: ['}']
  [32] statement/ACTION @ 589-679: ['action', 'calculate_merkle_root', '(', 'transactions', ':', 'list', ')', '-', '>', 'string', '{', 'if', 'transactions', '.', 'is_empty', '(', ')', '{', 'return', 'this', '.', 'keccak256', '(', 'empty_merkle_root', ')', '}', 'let', 'hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions', '{', 'let', 'tx_content', '=', 'tx', '.', 'hash', '+', 'tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', ')', 'let', 'tx_hash', '=', 'this', '.', 'keccak256', '(', 'tx_content', ')', 'hashes', '.', 'push', '(', 'tx_hash', ')', '}', 'return', 'this', '.', 'build_merkle_tree', '(', 'hashes', ')', '}']
  [33] statement/} @ 679-679: ['}']
  [34] statement/ACTION @ 680-799: ['action', 'build_merkle_tree', '(', 'hashes', ':', 'list', ')', '-', '>', 'string', '{', 'while', 'hashes', '.', 'count', '(', ')', '>', '1', '{', 'let', 'new_level', '=', '[', ']', 'let', 'i', '=', '0', 'while', 'i', '<', 'hashes', '.', 'count', '(', ')', '{', 'if', 'i', '+', '1', '<', 'hashes', '.', 'count', '(', ')', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', '+', '1', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '2', '}', 'else', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '1', '}', '}', 'hashes', '=', 'new_level', '}', 'return', 'hashes', '[', '0', ']', '}']
  [35] statement/} @ 799-799: ['}']
  [36] statement/ACTION @ 800-907: ['action', 'derive_address', '(', 'public_key', ':', 'string', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'string', '{', 'let', 'hash', '=', 'this', '.', 'keccak256', '(', 'public_key', ')', 'match', 'chain_type', '{', 'case', 'ZIVER', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0', ',', '40', ')', 'case', 'ETHEREUM', ':', 'return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'case', 'TON', ':', 'return', 'EQ', '+', 'hash', '.', 'slice', '(', '0', ',', '48', ')', 'case', 'BSC', ':', 'return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'default', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0', ',', '40', ')', '}', '}']
  [37] statement/} @ 907-907: ['}']
  [38] statement/} @ 908-908: ['}']
  [39] statement/ACTION @ 909-1027: ['action', 'async', 'test_quantum_crypto', '(', ')', '{', 'print', '(', 'ğŸ” Testing Cryptography Module...', ')', 'let', 'qcrypto', '=', 'QuantumCrypto', '(', ')', 'let', 'keypair', '=', 'qcrypto', '.', 'generate_keypair', '(', ')', 'print', '(', 'Keypair Generated:', ')', 'print', '(', '  Address: ', '+', 'keypair', '.', 'address', ')', 'let', 'message', '=', 'Hello Ziver Chain!', 'let', 'signature', '=', 'qcrypto', '.', 'quantum_sign', '(', 'message', ',', 'keypair', '.', 'private_key', ')', 'let', 'verified', '=', 'qcrypto', '.', 'quantum_verify', '(', 'message', ',', 'signature', ',', 'keypair', '.', 'public_key', ')', 'print', '(', 'Signature Test: ', '+', 'string', '(', 'verified', ')', ')', 'let', 'secret_data', '=', 'Sensitive blockchain data', 'let', 'encrypted', '=', 'qcrypto', '.', 'hybrid_encrypt', '(', 'secret_data', ',', 'keypair', '.', 'public_key', ')', 'let', 'decrypted', '=', 'qcrypto', '.', 'hybrid_decrypt', '(', 'encrypted', ',', 'keypair', '.', 'private_key', ')', 'print', '(', 'Encryption Test: ', '+', 'string', '(', 'secret_data', '==', 'decrypted', ')', ')', '}']
  [40] statement/} @ 1027-1027: ['}']
  [41] statement/EXPORT @ 1028-1051: ['export', '{', 'QuantumCrypto', ',', 'QuantumResistantCrypto', ',', 'KeyPair', ',', 'test_quantum_crypto', ',', 'keccak256', ',', 'sha256', ',', 'secp256k1_sign', ',', 'verify_signature', ',', 'generate_keypair', ',', 'calculate_merkle_root', ',', 'derive_address', '}']
  [42] statement/} @ 1051-1052: ['}']
ğŸ”§ Parsing 43 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto_lib']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto_lib']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
  âœ… Parsed: BlockStatement at line 8
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 8
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime', 'protocol', 'QuantumResistantCrypto', '{']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime', 'protocol', 'QuantumResistantCrypto', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_quantum_keypair', '(', ')', '-', '>', 'KeyPair']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 14
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'quantum_sign', '(', 'message', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 14
  âœ… Parsed: BlockStatement at line 15
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found action statement: ['action', 'quantum_verify', '(', 'message', ':', 'string', ',', 'signature', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 15
  âœ… Parsed: BlockStatement at line 16
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found action statement: ['action', 'hybrid_encrypt', '(', 'data', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'string']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 16
  âœ… Parsed: BlockStatement at line 17
  ğŸ”§ Populating empty BlockStatement from 20 tokens
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found action statement: ['action', 'hybrid_decrypt', '(', 'encrypted_data', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '}', 'contract', 'QuantumCrypto', 'implements', 'QuantumResistantCrypto', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 17
  âœ… Parsed: BlockStatement at line 21
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['key_registry', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 21
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: KeyPair
  ğŸ“ Found property name: public_key
  ğŸ“ Property: public_key: string
  ğŸ“ Found property name: private_key
  ğŸ“ Property: private_key: string
  ğŸ“ Found property name: address
  ğŸ“ Property: address: string
  ğŸ“ Found property name: key_type
  ğŸ“ Property: key_type: string
  âœ… Parsed: EntityStatement at line 23
  âœ… Parsed: EntityStatement at line 23
  âœ… Parsed: BlockStatement at line 30
  ğŸ”§ Populating empty BlockStatement from 12 tokens
    ğŸ“ Parsing 12 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', ')', '{', 'this', '.', 'key_registry', '=', '{', '}', '}']
    ğŸ“ Parsing 6 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'key_registry', '=', '{']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 30
  âœ… Parsed: BlockStatement at line 32
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 32
  âœ… Parsed: BlockStatement at line 34
  ğŸ”§ Populating empty BlockStatement from 72 tokens
    ğŸ“ Parsing 72 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_quantum_keypair', '(', ')', '-', '>', 'KeyPair', '{', 'let', 'keypair', '=', 'crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_Q', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'quantum_keypair', '=', 'KeyPair', '{', 'public_key', ':', 'keypair', '.', 'public_key', ',', 'private_key', ':', 'keypair', '.', 'private_key', ',', 'address', ':', 'address', '}', 'this', '.', 'key_registry', '[', 'address', ']', '=', 'quantum_keypair', 'return', 'quantum_keypair', '}']
    ğŸ“ Parsing 63 tokens into statements
    ğŸ“ Found let statement: ['let', 'keypair', '=', 'crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_Q', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'quantum_keypair', '=', 'KeyPair']
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_Q', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'let', 'quantum_keypair', '=', 'KeyPair']
  ğŸ” Parsing expression from tokens: ['{', 'public_key', ':', 'keypair', '.', 'public_key', ',', 'private_key', ':', 'keypair', '.', 'private_key', ',', 'address', ':', 'address']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['keypair', '.', 'public_key']
  ğŸ—ºï¸ [Map] Added pair: public_key -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['keypair', '.', 'private_key']
  ğŸ—ºï¸ [Map] Added pair: private_key -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'key_registry', '[', 'address', ']', '=', 'quantum_keypair']
  ğŸ” Parsing expression from tokens: ['quantum_keypair']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 34
  âœ… Parsed: BlockStatement at line 50
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 50
  âœ… Parsed: BlockStatement at line 52
  ğŸ”§ Populating empty BlockStatement from 61 tokens
    ğŸ“ Parsing 61 tokens into statements
    ğŸ“ Found action statement: ['action', 'quantum_sign', '(', 'message', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'signature', '=', 'crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')', 'let', 'timestamp', '=', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', 'let', 'full_signature', '=', 'signature', '+', '|', '+', 'timestamp', '+', '|', '+', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', 'return', 'full_signature', '}']
    ğŸ“ Parsing 45 tokens into statements
    ğŸ“ Found let statement: ['let', 'signature', '=', 'crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')', 'let', 'timestamp', '=', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', 'let', 'full_signature', '=', 'signature', '+', '|', '+', 'timestamp', '+', '|', '+', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', 'return', 'full_signature']
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')', 'let', 'timestamp', '=', 'string', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ')', 'let', 'full_signature', '=', 'signature', '+', '|', '+', 'timestamp', '+', '|', '+', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', 'return', 'full_signature']
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ” Parsing expression from tokens: ['private_key']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 52
  âœ… Parsed: BlockStatement at line 61
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 61
  âœ… Parsed: BlockStatement at line 63
  ğŸ”§ Populating empty BlockStatement from 111 tokens
    ğŸ“ Parsing 111 tokens into statements
    ğŸ“ Found action statement: ['action', 'quantum_verify', '(', 'message', ':', 'string', ',', 'signature', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'parts', '=', 'signature', '.', 'split', '(', '|', ')', 'if', 'parts', '.', 'count', '(', ')', '!=', '3', '{', 'return', 'false', '}', 'let', 'sig', '=', 'parts', '[', '0', ']', 'let', 'timestamp', '=', 'parts', '[', '1', ']', 'let', 'message_hash', '=', 'parts', '[', '2', ']', 'if', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', '!=', 'message_hash', '{', 'return', 'false', '}', 'let', 'time_diff', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'integer', '(', 'timestamp', ')', 'if', 'time_diff', '>', '300', '{', 'return', 'false', '}', 'return', 'crypto_lib', '.', 'verify_signature', '(', 'message', ',', 'sig', ',', 'public_key', ')', '}']
    ğŸ“ Parsing 91 tokens into statements
    ğŸ“ Found let statement: ['let', 'parts', '=', 'signature', '.', 'split', '(', '|', ')', 'if', 'parts', '.', 'count', '(', ')', '!=', '3']
  ğŸ” Parsing expression from tokens: ['signature', '.', 'split', '(', '|', ')', 'if', 'parts', '.', 'count', '(', ')', '!=', '3']
  ğŸ” Parsing expression from tokens: ['|']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'sig', '=', 'parts', '[', '0', ']', 'let', 'timestamp', '=', 'parts', '[', '1', ']', 'let', 'message_hash', '=', 'parts', '[', '2', ']', 'if', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', '!=', 'message_hash']
  ğŸ” Parsing expression from tokens: ['parts', '[', '0', ']', 'let', 'timestamp', '=', 'parts', '[', '1', ']', 'let', 'message_hash', '=', 'parts', '[', '2', ']', 'if', 'crypto_lib', '.', 'keccak256', '(', 'message', ')', '!=', 'message_hash']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'time_diff', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'integer', '(', 'timestamp', ')', 'if', 'time_diff', '>', '300']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'integer', '(', 'timestamp', ')', 'if', 'time_diff', '>', '300']
  ğŸ” Parsing expression from tokens: ['integer', '(', 'timestamp', ')', 'if', 'time_diff', '>', '300']
  ğŸ” Parsing expression from tokens: ['timestamp']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'verify_signature', '(', 'message', ',', 'sig', ',', 'public_key', ')']
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ” Parsing expression from tokens: ['sig']
  ğŸ” Parsing expression from tokens: ['public_key']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 63
  âœ… Parsed: BlockStatement at line 85
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 85
  âœ… Parsed: BlockStatement at line 87
  ğŸ”§ Populating empty BlockStatement from 36 tokens
    ğŸ“ Parsing 36 tokens into statements
    ğŸ“ Found action statement: ['action', 'hybrid_encrypt', '(', 'data', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'string', '{', 'let', 'encrypted', '=', 'crypto_lib', '.', 'aes_encrypt', '(', 'data', ',', 'public_key', '.', 'slice', '(', '0', ',', '32', ')', ')', 'return', 'encrypted', '}']
    ğŸ“ Parsing 20 tokens into statements
    ğŸ“ Found let statement: ['let', 'encrypted', '=', 'crypto_lib', '.', 'aes_encrypt', '(', 'data', ',', 'public_key', '.', 'slice', '(', '0', ',', '32', ')', ')', 'return', 'encrypted']
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'aes_encrypt', '(', 'data', ',', 'public_key', '.', 'slice', '(', '0', ',', '32', ')', ')', 'return', 'encrypted']
  ğŸ” Parsing expression from tokens: ['data']
  ğŸ” Parsing expression from tokens: ['public_key', '.', 'slice', '(', '0', ',', '32', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['32']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 87
  âœ… Parsed: BlockStatement at line 91
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 91
  âœ… Parsed: BlockStatement at line 93
  ğŸ”§ Populating empty BlockStatement from 32 tokens
    ğŸ“ Parsing 32 tokens into statements
    ğŸ“ Found action statement: ['action', 'hybrid_decrypt', '(', 'encrypted_data', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'aes_decrypt', '(', 'encrypted_data', ',', 'private_key', '.', 'slice', '(', '0', ',', '32', ')', ')', '}']
    ğŸ“ Parsing 16 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'aes_decrypt', '(', 'encrypted_data', ',', 'private_key', '.', 'slice', '(', '0', ',', '32', ')', ')']
  ğŸ” Parsing expression from tokens: ['encrypted_data']
  ğŸ” Parsing expression from tokens: ['private_key', '.', 'slice', '(', '0', ',', '32', ')']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['32']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 93
  âœ… Parsed: BlockStatement at line 96
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 96
  âœ… Parsed: BlockStatement at line 99
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'keccak256', '(', 'data', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'keccak256', '(', 'data', ')', '}']
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'keccak256', '(', 'data', ')']
  ğŸ” Parsing expression from tokens: ['data']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 99
  âœ… Parsed: BlockStatement at line 101
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 101
  âœ… Parsed: BlockStatement at line 103
  ğŸ”§ Populating empty BlockStatement from 19 tokens
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found action statement: ['action', 'sha256', '(', 'data', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'sha256', '(', 'data', ')', '}']
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'sha256', '(', 'data', ')']
  ğŸ” Parsing expression from tokens: ['data']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 103
  âœ… Parsed: BlockStatement at line 105
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 105
  âœ… Parsed: BlockStatement at line 107
  ğŸ”§ Populating empty BlockStatement from 25 tokens
    ğŸ“ Parsing 25 tokens into statements
    ğŸ“ Found action statement: ['action', 'secp256k1_sign', '(', 'message', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'string', '{', 'return', 'crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')', '}']
    ğŸ“ Parsing 9 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'secp256k1_sign', '(', 'message', ',', 'private_key', ')']
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ” Parsing expression from tokens: ['private_key']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 107
  âœ… Parsed: BlockStatement at line 109
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 109
  âœ… Parsed: BlockStatement at line 111
  ğŸ”§ Populating empty BlockStatement from 31 tokens
    ğŸ“ Parsing 31 tokens into statements
    ğŸ“ Found action statement: ['action', 'verify_signature', '(', 'message', ':', 'string', ',', 'signature', ':', 'string', ',', 'public_key', ':', 'string', ')', '-', '>', 'boolean', '{', 'return', 'crypto_lib', '.', 'verify_signature', '(', 'message', ',', 'signature', ',', 'public_key', ')', '}']
    ğŸ“ Parsing 11 tokens into statements
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'verify_signature', '(', 'message', ',', 'signature', ',', 'public_key', ')']
  ğŸ” Parsing expression from tokens: ['message']
  ğŸ” Parsing expression from tokens: ['signature']
  ğŸ” Parsing expression from tokens: ['public_key']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 111
  âœ… Parsed: BlockStatement at line 113
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 113
  âœ… Parsed: BlockStatement at line 115
  ğŸ”§ Populating empty BlockStatement from 60 tokens
    ğŸ“ Parsing 60 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_keypair', '(', ')', '-', '>', 'KeyPair', '{', 'let', 'keypair', '=', 'crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'return', 'KeyPair', '{', 'public_key', ':', 'keypair', '.', 'public_key', ',', 'private_key', ':', 'keypair', '.', 'private_key', ',', 'address', ':', 'address', '}', '}']
    ğŸ“ Parsing 51 tokens into statements
    ğŸ“ Found let statement: ['let', 'keypair', '=', 'crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'return', 'KeyPair']
  ğŸ” Parsing expression from tokens: ['crypto_lib', '.', 'generate_keypair', '(', ')', 'let', 'address_hash', '=', 'crypto_lib', '.', 'keccak256', '(', 'keypair', '.', 'public_key', ')', 'let', 'address', '=', 'ZIV_', '+', 'address_hash', '.', 'slice', '(', '0', ',', '40', ')', 'return', 'KeyPair']
  ğŸ” Parsing expression from tokens: ['{', 'public_key', ':', 'keypair', '.', 'public_key', ',', 'private_key', ':', 'keypair', '.', 'private_key', ',', 'address', ':', 'address']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['keypair', '.', 'public_key']
  ğŸ—ºï¸ [Map] Added pair: public_key -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['keypair', '.', 'private_key']
  ğŸ—ºï¸ [Map] Added pair: private_key -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['address']
  ğŸ—ºï¸ [Map] Added pair: address -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 115
  âœ… Parsed: BlockStatement at line 125
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 125
  âœ… Parsed: BlockStatement at line 127
  ğŸ”§ Populating empty BlockStatement from 91 tokens
    ğŸ“ Parsing 91 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_merkle_root', '(', 'transactions', ':', 'list', ')', '-', '>', 'string', '{', 'if', 'transactions', '.', 'is_empty', '(', ')', '{', 'return', 'this', '.', 'keccak256', '(', 'empty_merkle_root', ')', '}', 'let', 'hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions', '{', 'let', 'tx_content', '=', 'tx', '.', 'hash', '+', 'tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', 'let', 'tx_hash', '=', 'this', '.', 'keccak256', '(', 'tx_content', ')', 'hashes', '.', 'push', '(', 'tx_hash', ')', '}', 'return', 'this', '.', 'build_merkle_tree', '(', 'hashes', ')', '}']
    ğŸ“ Parsing 79 tokens into statements
  ğŸ” Parsing expression from tokens: ['transactions', '.', 'is_empty', '(', ')', '{', 'return', 'this', '.', 'keccak256', '(', 'empty_merkle_root', ')']
    ğŸ“ Found let statement: ['let', 'hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions']
  ğŸ” Parsing expression from tokens: ['[', ']', 'for', 'each', 'tx', 'in', 'transactions']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'let', 'tx_content', '=', 'tx', '.', 'hash', '+', 'tx', '.', 'from_addr', '+', 'tx', '.', 'to_addr', '+', 'string', '(', 'tx', '.', 'value', ')', '+', '(', 'tx', '.', 'data', '?', '?', '', ')', 'let', 'tx_hash', '=', 'this', '.', 'keccak256', '(', 'tx_content', ')', 'hashes', '.', 'push', '(', 'tx_hash', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'build_merkle_tree', '(', 'hashes', ')']
  ğŸ” Parsing expression from tokens: ['hashes']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 127
  âœ… Parsed: BlockStatement at line 140
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 140
  âœ… Parsed: BlockStatement at line 142
  ğŸ”§ Populating empty BlockStatement from 120 tokens
    ğŸ“ Parsing 120 tokens into statements
    ğŸ“ Found action statement: ['action', 'build_merkle_tree', '(', 'hashes', ':', 'list', ')', '-', '>', 'string', '{', 'while', 'hashes', '.', 'count', '(', ')', '>', '1', '{', 'let', 'new_level', '=', '[', ']', 'let', 'i', '=', '0', 'while', 'i', '<', 'hashes', '.', 'count', '(', ')', '{', 'if', 'i', '+', '1', '<', 'hashes', '.', 'count', '(', ')', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', '+', '1', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '2', '}', 'else', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '1', '}', '}', 'hashes', '=', 'new_level', '}', 'return', 'hashes', '[', '0', ']', '}']
    ğŸ“ Parsing 108 tokens into statements
  ğŸ” Parsing expression from tokens: ['hashes', '.', 'count', '(', ')', '>', '1', '{', 'let', 'new_level', '=', '[', ']', 'let', 'i', '=', '0', 'while', 'i', '<', 'hashes', '.', 'count', '(', ')', '{', 'if', 'i', '+', '1', '<', 'hashes', '.', 'count', '(', ')', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', '+', '1', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '2', '}', 'else', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '1', '}', '}', 'hashes', '=', 'new_level']
  ğŸ” Parsing expression from tokens: ['1', '{', 'let', 'new_level', '=', '[', ']', 'let', 'i', '=', '0', 'while', 'i', '<', 'hashes', '.', 'count', '(', ')', '{', 'if', 'i', '+', '1', '<', 'hashes', '.', 'count', '(', ')', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', '+', '1', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '2', '}', 'else', '{', 'let', 'combined', '=', 'hashes', '[', 'i', ']', '+', 'hashes', '[', 'i', ']', 'new_level', '.', 'push', '(', 'this', '.', 'keccak256', '(', 'combined', ')', ')', 'i', '+', '=', '1', '}', '}', 'hashes', '=', 'new_level']
  ğŸ” Parsing expression from tokens: ['hashes', '[', '0', ']']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 142
  âœ… Parsed: BlockStatement at line 162
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 162
  âœ… Parsed: BlockStatement at line 164
  ğŸ”§ Populating empty BlockStatement from 108 tokens
    ğŸ“ Parsing 108 tokens into statements
    ğŸ“ Found action statement: ['action', 'derive_address', '(', 'public_key', ':', 'string', ',', 'chain_type', ':', 'string', '=', 'ZIVER', ')', '-', '>', 'string', '{', 'let', 'hash', '=', 'this', '.', 'keccak256', '(', 'public_key', ')', 'match', 'chain_type', '{', 'case', 'ZIVER', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0', ',', '40', ')', 'case', 'ETHEREUM', ':', 'return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'case', 'TON', ':', 'return', 'EQ', '+', 'hash', '.', 'slice', '(', '0', ',', '48', ')', 'case', 'BSC', ':', 'return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'default', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0', ',', '40', ')', '}', '}']
    ğŸ“ Parsing 90 tokens into statements
    ğŸ“ Found let statement: ['let', 'hash', '=', 'this', '.', 'keccak256', '(', 'public_key', ')', 'match', 'chain_type']
  ğŸ” Parsing expression from tokens: ['this', '.', 'keccak256', '(', 'public_key', ')', 'match', 'chain_type']
  ğŸ” Parsing expression from tokens: ['public_key']
  ğŸ” Parsing expression from tokens: ['{', 'case', 'ZIVER', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0', ',', '40', ')', 'case', 'ETHEREUM', ':', 'return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'case', 'TON', ':', 'return', 'EQ', '+', 'hash', '.', 'slice', '(', '0', ',', '48', ')', 'case', 'BSC', ':', 'return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'default', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0', ',', '40', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0']
  ğŸ—ºï¸ [Map] Added pair: ZIVER -> StringLiteral
  ğŸ” Parsing expression from tokens: ['return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'case', 'TON', ':', 'return', 'EQ', '+', 'hash', '.', 'slice', '(', '0']
  ğŸ—ºï¸ [Map] Added pair: ETHEREUM -> StringLiteral
  ğŸ” Parsing expression from tokens: ['return', '0x', '+', 'hash', '.', 'slice', '(', 'hash', '.', 'count', '(', ')', '-', '40', ')', 'default', ':', 'return', 'ZIV_', '+', 'hash', '.', 'slice', '(', '0']
  ğŸ—ºï¸ [Map] Added pair: BSC -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 164
  âœ… Parsed: BlockStatement at line 174
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 174
  âœ… Parsed: BlockStatement at line 175
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 175
  âœ… Parsed: BlockStatement at line 178
  ğŸ”§ Populating empty BlockStatement from 119 tokens
    ğŸ“ Parsing 119 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_quantum_crypto', '(', ')', '{', 'print', '(', 'ğŸ” Testing Cryptography Module...', ')', 'let', 'qcrypto', '=', 'QuantumCrypto', '(', ')', 'let', 'keypair', '=', 'qcrypto', '.', 'generate_keypair', '(', ')', 'print', '(', 'Keypair Generated:', ')', 'print', '(', '  Address: ', '+', 'keypair', '.', 'address', ')', 'let', 'message', '=', 'Hello Ziver Chain!', 'let', 'signature', '=', 'qcrypto', '.', 'quantum_sign', '(', 'message', ',', 'keypair', '.', 'private_key', ')', 'let', 'verified', '=', 'qcrypto', '.', 'quantum_verify', '(', 'message', ',', 'signature', ',', 'keypair', '.', 'public_key', ')', 'print', '(', 'Signature Test: ', '+', 'string', '(', 'verified', ')', ')', 'let', 'secret_data', '=', 'Sensitive blockchain data', 'let', 'encrypted', '=', 'qcrypto', '.', 'hybrid_encrypt', '(', 'secret_data', ',', 'keypair', '.', 'public_key', ')', 'let', 'decrypted', '=', 'qcrypto', '.', 'hybrid_decrypt', '(', 'encrypted', ',', 'keypair', '.', 'private_key', ')', 'print', '(', 'Encryption Test: ', '+', 'string', '(', 'secret_data', '==', 'decrypted', ')', ')', '}']
    ğŸ“ Parsing 112 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ” Testing Cryptography Module...', ')', 'let', 'qcrypto', '=', 'QuantumCrypto', '(', ')', 'let', 'keypair', '=', 'qcrypto', '.', 'generate_keypair', '(', ')', 'print', '(', 'Keypair Generated:', ')', 'print', '(', '  Address: ', '+', 'keypair', '.', 'address', ')', 'let', 'message', '=', 'Hello Ziver Chain!', 'let', 'signature', '=', 'qcrypto', '.', 'quantum_sign', '(', 'message', ',', 'keypair', '.', 'private_key', ')', 'let', 'verified', '=', 'qcrypto', '.', 'quantum_verify', '(', 'message', ',', 'signature', ',', 'keypair', '.', 'public_key', ')', 'print', '(', 'Signature Test: ', '+', 'string', '(', 'verified', ')', ')', 'let', 'secret_data', '=', 'Sensitive blockchain data', 'let', 'encrypted', '=', 'qcrypto', '.', 'hybrid_encrypt', '(', 'secret_data', ',', 'keypair', '.', 'public_key', ')', 'let', 'decrypted', '=', 'qcrypto', '.', 'hybrid_decrypt', '(', 'encrypted', ',', 'keypair', '.', 'private_key', ')', 'print', '(', 'Encryption Test: ', '+', 'string', '(', 'secret_data', '==', 'decrypted', ')', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 178
  âœ… Parsed: BlockStatement at line 198
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 198
  âœ… Parsed: BlockStatement at line 200
  ğŸ”§ Populating empty BlockStatement from 24 tokens
    ğŸ“ Parsing 24 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'QuantumCrypto', ',', 'QuantumResistantCrypto', ',', 'KeyPair', ',', 'test_quantum_crypto', ',', 'keccak256', ',', 'sha256', ',', 'secp256k1_sign', ',', 'verify_signature', ',', 'generate_keypair', ',', 'calculate_merkle_root', ',', 'derive_address', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 200
  âœ… Parsed: BlockStatement at line 212
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 212
âœ… Parsing Complete: 43 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/entity_statement @ 8-46: ['entity', 'Block', '{', 'index', ':', 'integer', 'timestamp', ':', 'integer', 'previous_hash', ':', 'string', 'hash', ':', 'string', 'merkle_root', ':', 'string', 'transactions', ':', 'list', 'validator', ':', 'string', 'signature', ':', 'string', 'nonce', ':', 'integer', 'difficulty', ':', 'integer', 'version', ':', 'string', '=', '1.0', '}']
  [3] statement/entity_statement @ 47-83: ['entity', 'Transaction', '{', 'hash', ':', 'string', 'from_addr', ':', 'string', 'to_addr', ':', 'string', 'value', ':', 'integer', 'data', ':', 'string', '?', 'gas_limit', ':', 'integer', 'gas_used', ':', 'integer', 'nonce', ':', 'integer', 'signature', ':', 'string', 'status', ':', 'string', '=', 'pending', '}']
  [4] statement/ACTION @ 84-191: ['action', 'create_genesis_block', '(', ')', '-', '>', 'Block', '{', 'let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'genesis_data', '=', 'Ziver Chain Genesis Block - The Self-Evolving Blockchain', 'let', 'empty_tx_list', '=', '[', ']', 'let', 'merkle_root', '=', 'crypto', '.', 'keccak256', '(', 'genesis_data', ')', 'let', 'content', '=', '0', '+', 'string', '(', 'timestamp', ')', '+', '0', '+', 'merkle_root', '+', '0', '+', 'genesis', 'let', 'genesis_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'return', 'Block', '{', 'index', ':', '0', ',', 'timestamp', ':', 'timestamp', ',', 'previous_hash', ':', '0', ',', 'hash', ':', 'genesis_hash', ',', 'merkle_root', ':', 'merkle_root', ',', 'transactions', ':', 'empty_tx_list', ',', 'validator', ':', '0x0000000000000000000000000000000000000000', ',', 'signature', ':', 'genesis_signature', ',', 'nonce', ':', '0', ',', 'difficulty', ':', '1', '}', '}']
  [5] statement/} @ 191-191: ['}']
  [6] statement/ACTION @ 192-358: ['action', 'create_block', '(', 'previous_block', ':', 'Block', ',', 'transactions', ':', 'list', ',', 'validator', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'Block', '{', 'let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions', '{', 'tx_hashes', '.', 'push', '(', 'tx', '.', 'hash', ')', '}', 'let', 'merkle_root', '=', 'crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'let', 'content', '=', 'string', '(', 'previous_block', '.', 'index', '+', '1', ')', '+', 'string', '(', 'timestamp', ')', '+', 'previous_block', '.', 'hash', '+', 'merkle_root', '+', 'validator', '+', 'string', '(', 'previous_block', '.', 'difficulty', ')', 'let', 'block_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'let', 'signature', '=', 'crypto', '.', 'secp256k1_sign', '(', 'block_hash', ',', 'private_key', ')', 'return', 'Block', '{', 'index', ':', 'previous_block', '.', 'index', '+', '1', ',', 'timestamp', ':', 'timestamp', ',', 'previous_hash', ':', 'previous_block', '.', 'hash', ',', 'hash', ':', 'block_hash', ',', 'merkle_root', ':', 'merkle_root', ',', 'transactions', ':', 'transactions', ',', 'validator', ':', 'validator', ',', 'signature', ':', 'signature', ',', 'nonce', ':', '0', ',', 'difficulty', ':', 'previous_block', '.', 'difficulty', '}', '}']
  [7] statement/} @ 358-358: ['}']
  [8] statement/ACTION @ 359-543: ['action', 'validate_block', '(', 'block', ':', 'Block', ',', 'previous_block', ':', 'Block', ')', '-', '>', 'boolean', '{', 'if', 'block', '.', 'index', '!=', 'previous_block', '.', 'index', '+', '1', '{', 'print', '(', 'Block index mismatch', ')', 'return', 'false', '}', 'if', 'block', '.', 'previous_hash', '!=', 'previous_block', '.', 'hash', '{', 'print', '(', 'Previous hash mismatch', ')', 'return', 'false', '}', 'let', 'content', '=', 'string', '(', 'block', '.', 'index', ')', '+', 'string', '(', 'block', '.', 'timestamp', ')', '+', 'block', '.', 'previous_hash', '+', 'block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash', '{', 'print', '(', 'Block hash invalid', ')', 'return', 'false', '}', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'block', '.', 'hash', ',', 'block', '.', 'signature', ',', 'block', '.', 'validator', ')', 'if', 'not', 'signature_valid', '{', 'print', '(', 'Block signature invalid', ')', 'return', 'false', '}', 'let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'tx_hashes', '.', 'push', '(', 'tx', '.', 'hash', ')', '}', 'let', 'calculated_merkle', '=', 'crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'if', 'calculated_merkle', '!=', 'block', '.', 'merkle_root', '{', 'print', '(', 'Merkle root invalid', ')', 'return', 'false', '}', 'return', 'true', '}']
  [9] statement/} @ 543-543: ['}']
  [10] statement/ACTION @ 544-606: ['action', 'async', 'test_block_system', '(', ')', '{', 'print', '(', 'ğŸ§± Testing Block System...', ')', 'let', 'genesis', '=', 'create_genesis_block', '(', ')', 'print', '(', 'Genesis Block Created:', ')', 'print', '(', '  Hash: ', '+', 'genesis', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', '+', '...', ')', 'print', '(', '  Index: ', '+', 'string', '(', 'genesis', '.', 'index', ')', ')', 'print', '(', '  Valid: ', '+', 'string', '(', 'validate_block', '(', 'genesis', ',', 'genesis', ')', ')', ')', '}']
  [11] statement/} @ 606-606: ['}']
  [12] statement/EXPORT @ 607-620: ['export', '{', 'create_genesis_block', ',', 'create_block', ',', 'validate_block', ',', 'test_block_system', ',', 'Block', ',', 'Transaction', '}']
  [13] statement/} @ 620-621: ['}']
ğŸ”§ Parsing 14 top-level blocks...
  âœ… Parsed: BlockStatement at line 3
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 3
  âœ… Parsed: BlockStatement at line 4
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 4
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: Block
  ğŸ“ Found property name: index
  ğŸ“ Property: index: integer
  ğŸ“ Found property name: timestamp
  ğŸ“ Property: timestamp: integer
  ğŸ“ Found property name: previous_hash
  ğŸ“ Property: previous_hash: string
  ğŸ“ Found property name: hash
  ğŸ“ Property: hash: string
  ğŸ“ Found property name: merkle_root
  ğŸ“ Property: merkle_root: string
  ğŸ“ Found property name: transactions
  ğŸ“ Property: transactions: list
  ğŸ“ Found property name: validator
  ğŸ“ Property: validator: string
  ğŸ“ Found property name: signature
  ğŸ“ Property: signature: string
  ğŸ“ Found property name: nonce
  ğŸ“ Property: nonce: integer
  ğŸ“ Found property name: difficulty
  ğŸ“ Property: difficulty: integer
  ğŸ“ Found property name: version
  ğŸ“ Property: version: string
  âœ… Parsed: EntityStatement at line 7
  âœ… Parsed: EntityStatement at line 7
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: Transaction
  ğŸ“ Found property name: hash
  ğŸ“ Property: hash: string
  ğŸ“ Found property name: from_addr
  ğŸ“ Property: from_addr: string
  ğŸ“ Found property name: to_addr
  ğŸ“ Property: to_addr: string
  ğŸ“ Found property name: value
  ğŸ“ Property: value: integer
  ğŸ“ Found property name: data
  ğŸ“ Property: data: string
  ğŸ“ Found property name: ?
  ğŸ“ Found property name: gas_limit
  ğŸ“ Property: gas_limit: integer
  ğŸ“ Found property name: gas_used
  ğŸ“ Property: gas_used: integer
  ğŸ“ Found property name: nonce
  ğŸ“ Property: nonce: integer
  ğŸ“ Found property name: signature
  ğŸ“ Property: signature: string
  ğŸ“ Found property name: status
  ğŸ“ Property: status: string
  âœ… Parsed: EntityStatement at line 21
  âœ… Parsed: EntityStatement at line 21
  âœ… Parsed: BlockStatement at line 34
  ğŸ”§ Populating empty BlockStatement from 108 tokens
    ğŸ“ Parsing 108 tokens into statements
    ğŸ“ Found action statement: ['action', 'create_genesis_block', '(', ')', '-', '>', 'Block', '{', 'let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'genesis_data', '=', 'Ziver Chain Genesis Block - The Self-Evolving Blockchain', 'let', 'empty_tx_list', '=', '[', ']', 'let', 'merkle_root', '=', 'crypto', '.', 'keccak256', '(', 'genesis_data', ')', 'let', 'content', '=', '0', '+', 'string', '(', 'timestamp', ')', '+', '0', '+', 'merkle_root', '+', '0', '+', 'genesis', 'let', 'genesis_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'return', 'Block', '{', 'index', ':', '0', ',', 'timestamp', ':', 'timestamp', ',', 'previous_hash', ':', '0', ',', 'hash', ':', 'genesis_hash', ',', 'merkle_root', ':', 'merkle_root', ',', 'transactions', ':', 'empty_tx_list', ',', 'validator', ':', '0x0000000000000000000000000000000000000000', ',', 'signature', ':', 'genesis_signature', ',', 'nonce', ':', '0', ',', 'difficulty', ':', '1', '}', '}']
    ğŸ“ Parsing 99 tokens into statements
    ğŸ“ Found let statement: ['let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'genesis_data', '=', 'Ziver Chain Genesis Block - The Self-Evolving Blockchain', 'let', 'empty_tx_list', '=', '[', ']', 'let', 'merkle_root', '=', 'crypto', '.', 'keccak256', '(', 'genesis_data', ')', 'let', 'content', '=', '0', '+', 'string', '(', 'timestamp', ')', '+', '0', '+', 'merkle_root', '+', '0', '+', 'genesis', 'let', 'genesis_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'return', 'Block']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'genesis_data', '=', 'Ziver Chain Genesis Block - The Self-Evolving Blockchain', 'let', 'empty_tx_list', '=', '[', ']', 'let', 'merkle_root', '=', 'crypto', '.', 'keccak256', '(', 'genesis_data', ')', 'let', 'content', '=', '0', '+', 'string', '(', 'timestamp', ')', '+', '0', '+', 'merkle_root', '+', '0', '+', 'genesis', 'let', 'genesis_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'return', 'Block']
  ğŸ” Parsing expression from tokens: ['{', 'index', ':', '0', ',', 'timestamp', ':', 'timestamp', ',', 'previous_hash', ':', '0', ',', 'hash', ':', 'genesis_hash', ',', 'merkle_root', ':', 'merkle_root', ',', 'transactions', ':', 'empty_tx_list', ',', 'validator', ':', '0x0000000000000000000000000000000000000000', ',', 'signature', ':', 'genesis_signature', ',', 'nonce', ':', '0', ',', 'difficulty', ':', '1']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: index -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['timestamp']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> Identifier
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: previous_hash -> StringLiteral
  ğŸ” Parsing expression from tokens: ['genesis_hash']
  ğŸ—ºï¸ [Map] Added pair: hash -> Identifier
  ğŸ” Parsing expression from tokens: ['merkle_root']
  ğŸ—ºï¸ [Map] Added pair: merkle_root -> Identifier
  ğŸ” Parsing expression from tokens: ['empty_tx_list']
  ğŸ—ºï¸ [Map] Added pair: transactions -> Identifier
  ğŸ” Parsing expression from tokens: ['0x0000000000000000000000000000000000000000']
  ğŸ—ºï¸ [Map] Added pair: validator -> StringLiteral
  ğŸ” Parsing expression from tokens: ['genesis_signature']
  ğŸ—ºï¸ [Map] Added pair: signature -> StringLiteral
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: nonce -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: difficulty -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 10 pairs
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 34
  âœ… Parsed: BlockStatement at line 58
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 58
  âœ… Parsed: BlockStatement at line 60
  ğŸ”§ Populating empty BlockStatement from 167 tokens
    ğŸ“ Parsing 167 tokens into statements
    ğŸ“ Found action statement: ['action', 'create_block', '(', 'previous_block', ':', 'Block', ',', 'transactions', ':', 'list', ',', 'validator', ':', 'string', ',', 'private_key', ':', 'string', ')', '-', '>', 'Block', '{', 'let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions', '{', 'tx_hashes', '.', 'push', '(', 'tx', '.', 'hash', ')', '}', 'let', 'merkle_root', '=', 'crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'let', 'content', '=', 'string', '(', 'previous_block', '.', 'index', '+', '1', ')', '+', 'string', '(', 'timestamp', ')', '+', 'previous_block', '.', 'hash', '+', 'merkle_root', '+', 'validator', '+', 'string', '(', 'previous_block', '.', 'difficulty', ')', 'let', 'block_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'let', 'signature', '=', 'crypto', '.', 'secp256k1_sign', '(', 'block_hash', ',', 'private_key', ')', 'return', 'Block', '{', 'index', ':', 'previous_block', '.', 'index', '+', '1', ',', 'timestamp', ':', 'timestamp', ',', 'previous_hash', ':', 'previous_block', '.', 'hash', ',', 'hash', ':', 'block_hash', ',', 'merkle_root', ':', 'merkle_root', ',', 'transactions', ':', 'transactions', ',', 'validator', ':', 'validator', ',', 'signature', ':', 'signature', ',', 'nonce', ':', '0', ',', 'difficulty', ':', 'previous_block', '.', 'difficulty', '}', '}']
    ğŸ“ Parsing 143 tokens into statements
    ğŸ“ Found let statement: ['let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'transactions']
  ğŸ” Parsing expression from tokens: ['{', 'tx_hashes', '.', 'push', '(', 'tx', '.', 'hash', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'merkle_root', '=', 'crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'let', 'content', '=', 'string', '(', 'previous_block', '.', 'index', '+', '1', ')', '+', 'string', '(', 'timestamp', ')', '+', 'previous_block', '.', 'hash', '+', 'merkle_root', '+', 'validator', '+', 'string', '(', 'previous_block', '.', 'difficulty', ')', 'let', 'block_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'let', 'signature', '=', 'crypto', '.', 'secp256k1_sign', '(', 'block_hash', ',', 'private_key', ')', 'return', 'Block']
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'let', 'content', '=', 'string', '(', 'previous_block', '.', 'index', '+', '1', ')', '+', 'string', '(', 'timestamp', ')', '+', 'previous_block', '.', 'hash', '+', 'merkle_root', '+', 'validator', '+', 'string', '(', 'previous_block', '.', 'difficulty', ')', 'let', 'block_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'let', 'signature', '=', 'crypto', '.', 'secp256k1_sign', '(', 'block_hash', ',', 'private_key', ')', 'return', 'Block']
  ğŸ” Parsing expression from tokens: ['tx_hashes']
  ğŸ” Parsing expression from tokens: ['{', 'index', ':', 'previous_block', '.', 'index', '+', '1', ',', 'timestamp', ':', 'timestamp', ',', 'previous_hash', ':', 'previous_block', '.', 'hash', ',', 'hash', ':', 'block_hash', ',', 'merkle_root', ':', 'merkle_root', ',', 'transactions', ':', 'transactions', ',', 'validator', ':', 'validator', ',', 'signature', ':', 'signature', ',', 'nonce', ':', '0', ',', 'difficulty', ':', 'previous_block', '.', 'difficulty']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['previous_block', '.', 'index', '+', '1']
  ğŸ” Parsing expression from tokens: ['1']
  ğŸ—ºï¸ [Map] Added pair: index -> InfixExpression
  ğŸ” Parsing expression from tokens: ['timestamp']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> Identifier
  ğŸ” Parsing expression from tokens: ['previous_block', '.', 'hash']
  ğŸ—ºï¸ [Map] Added pair: previous_hash -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['block_hash']
  ğŸ—ºï¸ [Map] Added pair: hash -> Identifier
  ğŸ” Parsing expression from tokens: ['merkle_root']
  ğŸ—ºï¸ [Map] Added pair: merkle_root -> Identifier
  ğŸ” Parsing expression from tokens: ['transactions']
  ğŸ—ºï¸ [Map] Added pair: transactions -> Identifier
  ğŸ” Parsing expression from tokens: ['validator']
  ğŸ—ºï¸ [Map] Added pair: validator -> Identifier
  ğŸ” Parsing expression from tokens: ['signature']
  ğŸ—ºï¸ [Map] Added pair: signature -> Identifier
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: nonce -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['previous_block', '.', 'difficulty']
  ğŸ—ºï¸ [Map] Added pair: difficulty -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 10 pairs
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 60
  âœ… Parsed: BlockStatement at line 90
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 90
  âœ… Parsed: BlockStatement at line 92
  ğŸ”§ Populating empty BlockStatement from 185 tokens
    ğŸ“ Parsing 185 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_block', '(', 'block', ':', 'Block', ',', 'previous_block', ':', 'Block', ')', '-', '>', 'boolean', '{', 'if', 'block', '.', 'index', '!=', 'previous_block', '.', 'index', '+', '1', '{', 'print', '(', 'Block index mismatch', ')', 'return', 'false', '}', 'if', 'block', '.', 'previous_hash', '!=', 'previous_block', '.', 'hash', '{', 'print', '(', 'Previous hash mismatch', ')', 'return', 'false', '}', 'let', 'content', '=', 'string', '(', 'block', '.', 'index', ')', '+', 'string', '(', 'block', '.', 'timestamp', ')', '+', 'block', '.', 'previous_hash', '+', 'block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash', '{', 'print', '(', 'Block hash invalid', ')', 'return', 'false', '}', 'let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'block', '.', 'hash', ',', 'block', '.', 'signature', ',', 'block', '.', 'validator', ')', 'if', 'not', 'signature_valid', '{', 'print', '(', 'Block signature invalid', ')', 'return', 'false', '}', 'let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions', '{', 'tx_hashes', '.', 'push', '(', 'tx', '.', 'hash', ')', '}', 'let', 'calculated_merkle', '=', 'crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'if', 'calculated_merkle', '!=', 'block', '.', 'merkle_root', '{', 'print', '(', 'Merkle root invalid', ')', 'return', 'false', '}', 'return', 'true', '}']
    ğŸ“ Parsing 169 tokens into statements
  ğŸ” Parsing expression from tokens: ['block', '.', 'index', '!=', 'previous_block', '.', 'index', '+', '1', '{', 'print', '(', 'Block index mismatch', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['previous_block', '.', 'index', '+', '1', '{', 'print', '(', 'Block index mismatch', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['1', '{', 'print', '(', 'Block index mismatch', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['block', '.', 'previous_hash', '!=', 'previous_block', '.', 'hash', '{', 'print', '(', 'Previous hash mismatch', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['previous_block', '.', 'hash', '{', 'print', '(', 'Previous hash mismatch', ')', 'return', 'false']
    ğŸ“ Found let statement: ['let', 'content', '=', 'string', '(', 'block', '.', 'index', ')', '+', 'string', '(', 'block', '.', 'timestamp', ')', '+', 'block', '.', 'previous_hash', '+', 'block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['string', '(', 'block', '.', 'index', ')', '+', 'string', '(', 'block', '.', 'timestamp', ')', '+', 'block', '.', 'previous_hash', '+', 'block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['block', '.', 'index']
  ğŸ” Parsing expression from tokens: ['string', '(', 'block', '.', 'timestamp', ')', '+', 'block', '.', 'previous_hash', '+', 'block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['block', '.', 'timestamp']
  ğŸ” Parsing expression from tokens: ['block', '.', 'previous_hash', '+', 'block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['block', '.', 'merkle_root', '+', 'block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['block', '.', 'validator', '+', 'string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['string', '(', 'block', '.', 'difficulty', ')', 'let', 'calculated_hash', '=', 'crypto', '.', 'keccak256', '(', 'content', ')', 'if', 'calculated_hash', '!=', 'block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['block', '.', 'difficulty']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'Block hash invalid', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'signature_valid', '=', 'crypto', '.', 'verify_signature', '(', 'block', '.', 'hash', ',', 'block', '.', 'signature', ',', 'block', '.', 'validator', ')', 'if', 'not', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'verify_signature', '(', 'block', '.', 'hash', ',', 'block', '.', 'signature', ',', 'block', '.', 'validator', ')', 'if', 'not', 'signature_valid']
  ğŸ” Parsing expression from tokens: ['block', '.', 'hash']
  ğŸ” Parsing expression from tokens: ['block', '.', 'signature']
  ğŸ” Parsing expression from tokens: ['block', '.', 'validator']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'Block signature invalid', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'tx_hashes', '=', '[', ']', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions']
  ğŸ” Parsing expression from tokens: ['[', ']', 'for', 'each', 'tx', 'in', 'block', '.', 'transactions']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'tx_hashes', '.', 'push', '(', 'tx', '.', 'hash', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'calculated_merkle', '=', 'crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'if', 'calculated_merkle', '!=', 'block', '.', 'merkle_root']
  ğŸ” Parsing expression from tokens: ['crypto', '.', 'calculate_merkle_root', '(', 'tx_hashes', ')', 'if', 'calculated_merkle', '!=', 'block', '.', 'merkle_root']
  ğŸ” Parsing expression from tokens: ['tx_hashes']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'Merkle root invalid', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 11 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 92
  âœ… Parsed: BlockStatement at line 134
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 134
  âœ… Parsed: BlockStatement at line 137
  ğŸ”§ Populating empty BlockStatement from 63 tokens
    ğŸ“ Parsing 63 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_block_system', '(', ')', '{', 'print', '(', 'ğŸ§± Testing Block System...', ')', 'let', 'genesis', '=', 'create_genesis_block', '(', ')', 'print', '(', 'Genesis Block Created:', ')', 'print', '(', '  Hash: ', '+', 'genesis', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', '+', '...', ')', 'print', '(', '  Index: ', '+', 'string', '(', 'genesis', '.', 'index', ')', ')', 'print', '(', '  Valid: ', '+', 'string', '(', 'validate_block', '(', 'genesis', ',', 'genesis', ')', ')', ')', '}']
    ğŸ“ Parsing 56 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ§± Testing Block System...', ')', 'let', 'genesis', '=', 'create_genesis_block', '(', ')', 'print', '(', 'Genesis Block Created:', ')', 'print', '(', '  Hash: ', '+', 'genesis', '.', 'hash', '.', 'slice', '(', '0', ',', '16', ')', '+', '...', ')', 'print', '(', '  Index: ', '+', 'string', '(', 'genesis', '.', 'index', ')', ')', 'print', '(', '  Valid: ', '+', 'string', '(', 'validate_block', '(', 'genesis', ',', 'genesis', ')', ')', ')']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 137
  âœ… Parsed: BlockStatement at line 144
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 144
  âœ… Parsed: BlockStatement at line 147
  ğŸ”§ Populating empty BlockStatement from 14 tokens
    ğŸ“ Parsing 14 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'create_genesis_block', ',', 'create_block', ',', 'validate_block', ',', 'test_block_system', ',', 'Block', ',', 'Transaction', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 147
  âœ… Parsed: BlockStatement at line 154
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 154
âœ… Parsing Complete: 14 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'crypto', 'as', 'crypto']
  [1] statement/use_statement @ 4-7: ['use', 'datetime', 'as', 'datetime']
  [2] statement/use_statement @ 8-14: ['use', 'math', 'as', 'math', 'protocol', 'SCSSystem', '{']
  [3] statement/ACTION @ 15-30: ['action', 'calculate_scs', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'integer']
  [4] statement/ACTION @ 30-45: ['action', 'get_scs_explanation', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'map']
  [5] statement/ACTION @ 45-67: ['action', 'record_activity', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ',', 'metadata', ':', 'map', ')', '-', '>', 'boolean']
  [6] statement/ACTION @ 67-82: ['action', 'get_scs_history', '(', 'user', ':', 'string', ',', 'days', ':', 'integer', '?', ')', '-', '>', 'list']
  [7] statement/ACTION @ 82-99: ['action', 'get_app_config', '(', 'app_id', ':', 'string', ')', '-', '>', 'map', '?', '}', 'contract', 'SocialCapitalEngine', 'implements', 'SCSSystem', '{']
  [8] statement/PERSISTENT @ 99-104: ['persistent', 'storage', 'user_scores', ':', 'map']
  [9] statement/PERSISTENT @ 104-109: ['persistent', 'storage', 'activity_logs', ':', 'map']
  [10] statement/PERSISTENT @ 109-114: ['persistent', 'storage', 'app_configs', ':', 'map']
  [11] statement/PERSISTENT @ 114-119: ['persistent', 'storage', 'score_history', ':', 'map']
  [12] statement/entity_statement @ 119-143: ['entity', 'ActivityRecord', '{', 'user', ':', 'string', 'activity_type', ':', 'string', 'app_id', ':', 'string', 'timestamp', ':', 'integer', 'points_earned', ':', 'integer', 'metadata', ':', 'map', 'explanation', ':', 'string', '}']
  [13] statement/entity_statement @ 144-168: ['entity', 'SCSConfig', '{', 'min_points', ':', 'integer', '=', '10', 'max_points', ':', 'integer', '=', '100', 'daily_cap', ':', 'integer', '=', '500', 'activity_weights', ':', 'map', 'cooldown_periods', ':', 'map', '}']
  [14] statement/ACTION @ 169-203: ['action', 'init', '(', ')', '{', 'this', '.', 'user_scores', '=', '{', '}', 'this', '.', 'activity_logs', '=', '{', '}', 'this', '.', 'app_configs', '=', '{', '}', 'this', '.', 'score_history', '=', '{', '}', 'this', '.', 'initialize_default_config', '(', ')', '}']
  [15] statement/} @ 203-203: ['}']
  [16] statement/ACTION @ 204-384: ['action', 'calculate_scs', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'integer', '{', '\n        Calculate Social Capital Score with randomizer within app-specific ranges\n        ', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_score', '=', 'this', '.', 'get_user_base_score', '(', 'user', ')', 'let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '30', ')', 'let', 'activity_multiplier', '=', 'this', '.', 'calculate_activity_multiplier', '(', 'recent_activities', ',', 'config', ')', 'let', 'min_score', '=', 'config', '.', 'min_points', 'let', 'max_score', '=', 'config', '.', 'max_points', 'let', 'random_factor', '=', 'math', '.', 'random_int', '(', '0', ',', '100', ')', '/', '100.0', 'let', 'raw_score', '=', 'min_score', '+', 'integer', '(', '(', 'max_score', '-', 'min_score', ')', '*', 'random_factor', ')', 'let', 'final_score', '=', 'integer', '(', 'raw_score', '*', 'activity_multiplier', ')', 'let', 'daily_total', '=', 'this', '.', 'get_daily_points', '(', 'user', ',', 'app_id', ')', 'let', 'capped_score', '=', 'math', '.', 'min', '(', 'final_score', ',', 'config', '.', 'daily_cap', '-', 'daily_total', ')', 'let', 'bounded_score', '=', 'math', '.', 'max', '(', 'min_score', ',', 'math', '.', 'min', '(', 'max_score', ',', 'capped_score', ')', ')', 'this', '.', 'update_user_score', '(', 'user', ',', 'bounded_score', ',', 'app_id', ')', 'this', '.', 'record_scoring_event', '(', 'user', ',', 'bounded_score', ',', 'app_id', ',', 'recent_activities', ',', 'activity_multiplier', ')', 'return', 'bounded_score', '}']
  [17] statement/} @ 384-384: ['}']
  [18] statement/ACTION @ 385-581: ['action', 'get_scs_explanation', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'map', '{', '\n        Provide transparent explanation of how SCS was calculated\n        ', 'let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '7', ')', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'current_score', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',', '{', '}', ')', '.', 'get', '(', 'current_score', ',', '0', ')', 'let', 'activity_breakdown', '=', '[', ']', 'let', 'total_activity_points', '=', '0', 'for', 'each', 'activity', 'in', 'recent_activities', '{', 'let', 'activity_value', '=', 'this', '.', 'calculate_activity_value', '(', 'activity', ',', 'config', ')', 'activity_breakdown', '.', 'push', '(', '{', 'type', ':', 'activity', '.', 'activity_type', ',', 'app', ':', 'activity', '.', 'app_id', ',', 'timestamp', ':', 'activity', '.', 'timestamp', ',', 'points', ':', 'activity_value', ',', 'explanation', ':', 'activity', '.', 'explanation', '}', ')', 'total_activity_points', '+', '=', 'activity_value', '}', 'return', '{', 'user', ':', 'user', ',', 'current_scs', ':', 'current_score', ',', 'app_config', ':', '{', 'min_points', ':', 'config', '.', 'min_points', ',', 'max_points', ':', 'config', '.', 'max_points', ',', 'daily_cap', ':', 'config', '.', 'daily_cap', '}', ',', 'recent_activities', ':', 'activity_breakdown', ',', 'total_activity_points', ':', 'total_activity_points', ',', 'calculation_period', ':', '7 days', ',', 'random_factor_range', ':', 'config', '.', 'max_points', '-', 'config', '.', 'min_points', ',', 'explanation', ':', 'this', '.', 'generate_natural_language_explanation', '(', 'user', ',', 'current_score', ',', 'activity_breakdown', ',', 'config', ')', '}', '}']
  [19] statement/} @ 581-581: ['}']
  [20] statement/ACTION @ 582-786: ['action', 'record_activity', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ',', 'metadata', ':', 'map', ')', '-', '>', 'boolean', '{', '\n        Record user activity from connected applications\n        ', 'let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'if', 'not', 'this', '.', 'can_perform_activity', '(', 'user', ',', 'activity_type', ',', 'app_id', ')', '{', 'print', '(', 'Activity cooldown active for: ', '+', 'activity_type', ')', 'return', 'false', '}', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_points', '=', 'config', '.', 'activity_weights', '.', 'get', '(', 'activity_type', ',', '10', ')', 'let', 'final_points', '=', 'this', '.', 'calculate_dynamic_points', '(', 'base_points', ',', 'metadata', ',', 'config', ')', 'let', 'explanation', '=', 'this', '.', 'generate_activity_explanation', '(', 'activity_type', ',', 'final_points', ',', 'metadata', ')', 'let', 'activity', '=', 'ActivityRecord', '{', 'user', ':', 'user', ',', 'activity_type', ':', 'activity_type', ',', 'app_id', ':', 'app_id', ',', 'timestamp', ':', 'timestamp', ',', 'points_earned', ':', 'final_points', ',', 'metadata', ':', 'metadata', ',', 'explanation', ':', 'explanation', '}', 'if', 'not', 'this', '.', 'activity_logs', '.', 'has', '(', 'user', ')', '{', 'this', '.', 'activity_logs', '[', 'user', ']', '=', '[', ']', '}', 'this', '.', 'activity_logs', '[', 'user', ']', '.', 'push', '(', 'activity', ')', 'this', '.', 'update_activity_cooldown', '(', 'user', ',', 'activity_type', ',', 'app_id', ')', 'print', '(', 'ğŸ“ Activity recorded: ', '+', 'user', '+', ' - ', '+', 'activity_type', '+', ' (', '+', 'string', '(', 'final_points', ')', '+', ' points)', ')', 'return', 'true', '}']
  [21] statement/} @ 786-786: ['}']
  [22] statement/ACTION @ 787-924: ['action', 'get_scs_history', '(', 'user', ':', 'string', ',', 'days', ':', 'integer', '?', '=', '30', ')', '-', '>', 'list', '{', '\n        Get SCS history and activity timeline\n        ', 'let', 'end_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_time', '=', 'end_time', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'user_history', '=', 'this', '.', 'score_history', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'filtered_history', '=', 'user_history', '.', 'filter', '(', 'action', '(', 'record', ')', '{', 'return', 'record', '.', 'timestamp', '>=', 'start_time', 'and', 'record', '.', 'timestamp', '<=', 'end_time', '}', ')', 'let', 'activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'null', ',', 'days', ')', 'return', '{', 'scs_timeline', ':', 'filtered_history', ',', 'activities', ':', 'activities', ',', 'period', ':', '{', 'days', ':', 'days', ',', 'start_time', ':', 'start_time', ',', 'end_time', ':', 'end_time', '}', ',', 'summary', ':', 'this', '.', 'generate_history_summary', '(', 'filtered_history', ',', 'activities', ')', '}', '}']
  [23] statement/} @ 924-924: ['}']
  [24] statement/ACTION @ 925-951: ['action', 'get_app_config', '(', 'app_id', ':', 'string', ')', '-', '>', 'map', '?', '{', '\n        Get configuration for specific application\n        ', 'return', 'this', '.', 'app_configs', '.', 'get', '(', 'app_id', ',', 'null', ')', '}']
  [25] statement/} @ 951-951: ['}']
  [26] statement/ACTION @ 952-1017: ['action', 'register_app_config', '(', 'app_id', ':', 'string', ',', 'config', ':', 'map', ')', '-', '>', 'boolean', '{', '\n        Register custom configuration for an application\n        ', 'let', 'default_config', '=', 'this', '.', 'get_default_config', '(', ')', 'let', 'merged_config', '=', 'this', '.', 'merge_configs', '(', 'default_config', ',', 'config', ')', 'if', 'not', 'this', '.', 'validate_app_config', '(', 'merged_config', ')', '{', 'return', 'false', '}', 'this', '.', 'app_configs', '[', 'app_id', ']', '=', 'merged_config', 'print', '(', 'âœ… App config registered: ', '+', 'app_id', ')', 'return', 'true', '}']
  [27] statement/} @ 1017-1017: ['}']
  [28] statement/ACTION @ 1018-1120: ['action', 'initialize_default_config', '(', ')', '{', 'let', 'default_config', '=', 'SCSConfig', '{', 'min_points', ':', '10', ',', 'max_points', ':', '100', ',', 'daily_cap', ':', '500', ',', 'activity_weights', ':', '{', 'login', ':', '5', ',', 'transaction', ':', '15', ',', 'governance_vote', ':', '25', ',', 'content_creation', ':', '20', ',', 'community_engagement', ':', '15', ',', 'referral', ':', '30', ',', 'staking', ':', '20', ',', 'liquidity_provision', ':', '35', '}', ',', 'cooldown_periods', ':', '{', 'login', ':', '3600', ',', 'transaction', ':', '300', ',', 'governance_vote', ':', '86400', ',', 'content_creation', ':', '7200', ',', 'community_engagement', ':', '1800', ',', 'referral', ':', '0', ',', 'staking', ':', '3600', ',', 'liquidity_provision', ':', '3600', '}', '}', 'this', '.', 'app_configs', '[', 'default', ']', '=', 'default_config', '}']
  [29] statement/} @ 1120-1120: ['}']
  [30] statement/ACTION @ 1121-1162: ['action', 'get_app_config_or_default', '(', 'app_id', ':', 'string', '?', ')', '-', '>', 'SCSConfig', '{', 'if', 'app_id', '!=', 'null', 'and', 'this', '.', 'app_configs', '.', 'has', '(', 'app_id', ')', '{', 'return', 'this', '.', 'app_configs', '[', 'app_id', ']', '}', 'return', 'this', '.', 'app_configs', '[', 'default', ']', '}']
  [31] statement/} @ 1162-1162: ['}']
  [32] statement/ACTION @ 1163-1211: ['action', 'get_user_base_score', '(', 'user', ':', 'string', ')', '-', '>', 'integer', '{', 'let', 'user_data', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',', '{', 'current_score', ':', '50', ',', 'last_updated', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'total_activities', ':', '0', '}', ')', 'return', 'user_data', '.', 'current_score', '}']
  [33] statement/} @ 1211-1211: ['}']
  [34] statement/ACTION @ 1212-1308: ['action', 'get_recent_activities', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ',', 'days', ':', 'integer', ')', '-', '>', 'list', '{', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'cutoff_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'filtered', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')', '{', 'let', 'time_match', '=', 'activity', '.', 'timestamp', '>=', 'cutoff_time', 'let', 'app_match', '=', 'app_id', '==', 'null', 'or', 'activity', '.', 'app_id', '==', 'app_id', 'return', 'time_match', 'and', 'app_match', '}', ')', 'return', 'filtered', '}']
  [35] statement/} @ 1308-1308: ['}']
  [36] statement/ACTION @ 1309-1383: ['action', 'calculate_activity_multiplier', '(', 'activities', ':', 'list', ',', 'config', ':', 'SCSConfig', ')', '-', '>', 'float', '{', 'if', 'activities', '.', 'is_empty', '(', ')', '{', 'return', '0.5', '}', 'let', 'total_points', '=', '0', 'for', 'each', 'activity', 'in', 'activities', '{', 'total_points', '+', '=', 'activity', '.', 'points_earned', '}', 'let', 'avg_daily_points', '=', 'total_points', '/', '7.0', 'let', 'multiplier', '=', 'math', '.', 'min', '(', '2.0', ',', '0.5', '+', '(', 'avg_daily_points', '/', '100.0', ')', ')', 'return', 'math', '.', 'max', '(', '0.5', ',', 'multiplier', ')', '}']
  [37] statement/} @ 1383-1383: ['}']
  [38] statement/ACTION @ 1384-1520: ['action', 'update_user_score', '(', 'user', ':', 'string', ',', 'new_points', ':', 'integer', ',', 'app_id', ':', 'string', '?', ')', '{', 'let', 'current_data', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',', '{', 'current_score', ':', '50', ',', 'last_updated', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'total_activities', ':', '0', '}', ')', 'current_data', '.', 'current_score', '=', 'new_points', 'current_data', '.', 'last_updated', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'this', '.', 'user_scores', '[', 'user', ']', '=', 'current_data', 'let', 'history_record', '=', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'score', ':', 'new_points', ',', 'app_id', ':', 'app_id', ',', 'type', ':', 'scs_calculation', '}', 'if', 'not', 'this', '.', 'score_history', '.', 'has', '(', 'user', ')', '{', 'this', '.', 'score_history', '[', 'user', ']', '=', '[', ']', '}', 'this', '.', 'score_history', '[', 'user', ']', '.', 'push', '(', 'history_record', ')', '}']
  [39] statement/} @ 1520-1520: ['}']
  [40] statement/ACTION @ 1521-1605: ['action', 'record_scoring_event', '(', 'user', ':', 'string', ',', 'score', ':', 'integer', ',', 'app_id', ':', 'string', '?', ',', 'activities', ':', 'list', ',', 'multiplier', ':', 'float', ')', '{', 'let', 'record', '=', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'user', ':', 'user', ',', 'final_score', ':', 'score', ',', 'app_id', ':', 'app_id', ',', 'activity_count', ':', 'activities', '.', 'count', '(', ')', ',', 'activity_multiplier', ':', 'multiplier', ',', 'calculation_method', ':', 'randomized_with_activity_boost', '}', 'print', '(', 'ğŸ¯ SCS Calculated: ', '+', 'user', '+', ' = ', '+', 'string', '(', 'score', ')', '+', ' points', ')', '}']
  [41] statement/} @ 1605-1605: ['}']
  [42] statement/ACTION @ 1606-1719: ['action', 'get_daily_points', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'integer', '{', 'let', 'today_start', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '%', '86400', ')', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'today_activities', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')', '{', 'let', 'activity_today', '=', 'activity', '.', 'timestamp', '>=', 'today_start', 'let', 'app_match', '=', 'app_id', '==', 'null', 'or', 'activity', '.', 'app_id', '==', 'app_id', 'return', 'activity_today', 'and', 'app_match', '}', ')', 'let', 'total_points', '=', '0', 'for', 'each', 'activity', 'in', 'today_activities', '{', 'total_points', '+', '=', 'activity', '.', 'points_earned', '}', 'return', 'total_points', '}']
  [43] statement/} @ 1719-1719: ['}']
  [44] statement/ACTION @ 1720-1861: ['action', 'can_perform_activity', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'cooldown', '=', 'config', '.', 'cooldown_periods', '.', 'get', '(', 'activity_type', ',', '0', ')', 'if', 'cooldown', '==', '0', '{', 'return', 'true', '}', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'last_activity', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'a', ')', '{', 'return', 'a', '.', 'activity_type', '==', 'activity_type', 'and', 'a', '.', 'app_id', '==', 'app_id', '}', ')', '.', 'sort', '(', 'action', '(', 'a', ',', 'b', ')', '{', 'return', 'b', '.', 'timestamp', '-', 'a', '.', 'timestamp', '}', ')', '.', 'first', '(', ')', 'if', 'last_activity', '==', 'null', '{', 'return', 'true', '}', 'let', 'time_since_last', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'last_activity', '.', 'timestamp', 'return', 'time_since_last', '>=', 'cooldown', '}']
  [45] statement/} @ 1861-1861: ['}']
  [46] statement/ACTION @ 1862-1878: ['action', 'update_activity_cooldown', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ')', '{', '}']
  [47] statement/} @ 1878-1878: ['}']
  [48] statement/ACTION @ 1879-1961: ['action', 'calculate_dynamic_points', '(', 'base_points', ':', 'integer', ',', 'metadata', ':', 'map', ',', 'config', ':', 'SCSConfig', ')', '-', '>', 'integer', '{', 'let', 'multiplier', '=', '1.0', 'if', 'metadata', '.', 'has', '(', 'transaction_value', ')', '{', 'let', 'value', '=', 'metadata', '.', 'transaction_value', 'if', 'value', '>', '1000', '{', 'multiplier', '+', '=', '0.5', '}', 'if', 'value', '>', '10000', '{', 'multiplier', '+', '=', '0.5', '}', '}', 'if', 'metadata', '.', 'has', '(', 'content_quality', ')', '{', 'multiplier', '+', '=', 'metadata', '.', 'content_quality', '*', '0.3', '}', 'return', 'integer', '(', 'base_points', '*', 'multiplier', ')', '}']
  [49] statement/} @ 1961-1961: ['}']
  [50] statement/ACTION @ 1962-2058: ['action', 'generate_activity_explanation', '(', 'activity_type', ':', 'string', ',', 'points', ':', 'integer', ',', 'metadata', ':', 'map', ')', '-', '>', 'string', '{', 'let', 'base_explanations', '=', '{', 'login', ':', 'Daily login reward', ',', 'transaction', ':', 'Transaction completion', ',', 'governance_vote', ':', 'Participating in governance', ',', 'content_creation', ':', 'Creating valuable content', ',', 'community_engagement', ':', 'Active community participation', ',', 'referral', ':', 'Referring new users', ',', 'staking', ':', 'Staking tokens', ',', 'liquidity_provision', ':', 'Providing liquidity', '}', 'let', 'base', '=', 'base_explanations', '.', 'get', '(', 'activity_type', ',', 'Platform activity', ')', 'if', 'metadata', '.', 'has', '(', 'bonus_reason', ')', '{', 'return', 'base', '+', ' + ', '+', 'metadata', '.', 'bonus_reason', '+', ' bonus', '}', 'return', 'base', '+', ' (', '+', 'string', '(', 'points', ')', '+', ' points)', '}']
  [51] statement/} @ 2058-2058: ['}']
  [52] statement/ACTION @ 2059-2263: ['action', 'generate_natural_language_explanation', '(', 'user', ':', 'string', ',', 'score', ':', 'integer', ',', 'activities', ':', 'list', ',', 'config', ':', 'SCSConfig', ')', '-', '>', 'string', '{', 'let', 'activity_count', '=', 'activities', '.', 'count', '(', ')', 'let', 'total_activity_points', '=', 'activities', '.', 'reduce', '(', 'action', '(', 'acc', ',', 'a', ')', '{', 'return', 'acc', '+', 'a', '.', 'points', '}', ',', '0', ')', 'let', 'explanation', '=', 'Your Social Capital Score of ', '+', 'string', '(', 'score', ')', '+', ' is based on:\\n', 'if', 'activity_count', '>', '0', '{', 'explanation', '+', '=', 'â€¢ ', '+', 'string', '(', 'activity_count', ')', '+', ' recent activities worth ', '+', 'string', '(', 'total_activity_points', ')', '+', ' points\\n', 'explanation', '+', '=', 'â€¢ Random factor range: ', '+', 'string', '(', 'config', '.', 'min_points', ')', '+', '-', '+', 'string', '(', 'config', '.', 'max_points', ')', '+', ' points\\n', 'explanation', '+', '=', 'â€¢ Daily cap: ', '+', 'string', '(', 'config', '.', 'daily_cap', ')', '+', ' points\\n', '}', 'else', '{', 'explanation', '+', '=', 'â€¢ Base random score (no recent activities)\\n', '}', 'explanation', '+', '=', '\\nRecent activities that influenced your score:', 'for', 'each', 'activity', 'in', 'activities', '.', 'slice', '(', '0', ',', '5', ')', '{', 'let', 'time_ago', '=', 'this', '.', 'format_time_ago', '(', 'activity', '.', 'timestamp', ')', 'explanation', '+', '=', '\\nâ€¢ ', '+', 'activity', '.', 'explanation', '+', ' (', '+', 'time_ago', '+', ')', '}', 'if', 'activities', '.', 'count', '(', ')', '>', '5', '{', 'explanation', '+', '=', '\\nâ€¢ ... and ', '+', 'string', '(', 'activities', '.', 'count', '(', ')', '-', '5', ')', '+', ' more activities', '}', 'return', 'explanation', '}']
  [53] statement/} @ 2263-2263: ['}']
  [54] statement/ACTION @ 2264-2432: ['action', 'generate_history_summary', '(', 'scs_history', ':', 'list', ',', 'activities', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'scores', '=', 'scs_history', '.', 'map', '(', 'action', '(', 'record', ')', '{', 'return', 'record', '.', 'score', '}', ')', 'let', 'max_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'max', ',', 'score', ')', '{', 'return', 'math', '.', 'max', '(', 'max', ',', 'score', ')', '}', ',', '0', ')', 'let', 'min_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'min', ',', 'score', ')', '{', 'return', 'math', '.', 'min', '(', 'min', ',', 'score', ')', '}', ',', '1000000', ')', 'let', 'avg_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')', '{', 'return', 'sum', '+', 'score', '}', ',', '0', ')', '/', 'scores', '.', 'count', '(', ')', 'if', 'scores', '.', 'count', '(', ')', '>', '0', 'else', '0', 'return', '{', 'period_activities', ':', 'activities', '.', 'count', '(', ')', ',', 'average_scs', ':', 'integer', '(', 'avg_score', ')', ',', 'highest_scs', ':', 'max_score', ',', 'lowest_scs', ':', 'min_score', ',', 'trend', ':', 'this', '.', 'calculate_trend', '(', 'scs_history', ')', ',', 'consistency_score', ':', 'this', '.', 'calculate_consistency', '(', 'scs_history', ')', '}', '}']
  [55] statement/} @ 2432-2432: ['}']
  [56] statement/ACTION @ 2433-2502: ['action', 'calculate_trend', '(', 'history', ':', 'list', ')', '-', '>', 'string', '{', 'if', 'history', '.', 'count', '(', ')', '<', '2', '{', 'return', 'stable', '}', 'let', 'first_score', '=', 'history', '.', 'first', '(', ')', '.', 'score', 'let', 'last_score', '=', 'history', '.', 'last', '(', ')', '.', 'score', 'if', 'last_score', '>', 'first_score', '+', '10', '{', 'return', 'increasing', '}', 'else', 'if', 'last_score', '<', 'first_score', '-', '10', '{', 'return', 'decreasing', '}', 'else', '{', 'return', 'stable', '}', '}']
  [57] statement/} @ 2502-2502: ['}']
  [58] statement/ACTION @ 2503-2625: ['action', 'calculate_consistency', '(', 'history', ':', 'list', ')', '-', '>', 'float', '{', 'if', 'history', '.', 'count', '(', ')', '<', '2', '{', 'return', '1.0', '}', 'let', 'scores', '=', 'history', '.', 'map', '(', 'action', '(', 'record', ')', '{', 'return', 'record', '.', 'score', '}', ')', 'let', 'mean', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')', '{', 'return', 'sum', '+', 'score', '}', ',', '0', ')', '/', 'scores', '.', 'count', '(', ')', 'let', 'variance', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')', '{', 'return', 'sum', '+', '(', 'score', '-', 'mean', ')', '*', '(', 'score', '-', 'mean', ')', '}', ',', '0', ')', '/', 'scores', '.', 'count', '(', ')', 'return', 'math', '.', 'max', '(', '0.0', ',', '1.0', '-', '(', 'variance', '/', '100.0', ')', ')', '}']
  [59] statement/} @ 2625-2625: ['}']
  [60] statement/ACTION @ 2626-2708: ['action', 'format_time_ago', '(', 'timestamp', ':', 'integer', ')', '-', '>', 'string', '{', 'let', 'now', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'diff', '=', 'now', '-', 'timestamp', 'if', 'diff', '<', '60', ':', 'return', 'just now', 'if', 'diff', '<', '3600', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '60', ')', ')', '+', ' minutes ago', 'if', 'diff', '<', '86400', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '3600', ')', ')', '+', ' hours ago', 'return', 'string', '(', 'integer', '(', 'diff', '/', '86400', ')', ')', '+', ' days ago', '}']
  [61] statement/} @ 2708-2708: ['}']
  [62] statement/ACTION @ 2709-2724: ['action', 'get_default_config', '(', ')', '-', '>', 'SCSConfig', '{', 'return', 'this', '.', 'app_configs', '[', 'default', ']', '}']
  [63] statement/} @ 2724-2724: ['}']
  [64] statement/ACTION @ 2725-2830: ['action', 'merge_configs', '(', 'default_config', ':', 'SCSConfig', ',', 'custom_config', ':', 'map', ')', '-', '>', 'SCSConfig', '{', 'return', 'SCSConfig', '{', 'min_points', ':', 'custom_config', '.', 'get', '(', 'min_points', ',', 'default_config', '.', 'min_points', ')', ',', 'max_points', ':', 'custom_config', '.', 'get', '(', 'max_points', ',', 'default_config', '.', 'max_points', ')', ',', 'daily_cap', ':', 'custom_config', '.', 'get', '(', 'daily_cap', ',', 'default_config', '.', 'daily_cap', ')', ',', 'activity_weights', ':', '{', '.', '.', '.', 'default_config', '.', 'activity_weights', ',', '.', '.', '.', 'custom_config', '.', 'get', '(', 'activity_weights', ',', '{', '}', ')', '}', ',', 'cooldown_periods', ':', '{', '.', '.', '.', 'default_config', '.', 'cooldown_periods', ',', '.', '.', '.', 'custom_config', '.', 'get', '(', 'cooldown_periods', ',', '{', '}', ')', '}', '}', '}']
  [65] statement/} @ 2830-2830: ['}']
  [66] statement/ACTION @ 2831-2874: ['action', 'validate_app_config', '(', 'config', ':', 'SCSConfig', ')', '-', '>', 'boolean', '{', 'if', 'config', '.', 'min_points', '<', '0', 'or', 'config', '.', 'max_points', '<', 'config', '.', 'min_points', '{', 'return', 'false', '}', 'if', 'config', '.', 'daily_cap', '<', 'config', '.', 'max_points', '{', 'return', 'false', '}', 'return', 'true', '}']
  [67] statement/} @ 2874-2874: ['}']
  [68] statement/} @ 2875-2875: ['}']
  [69] statement/ACTION @ 2876-3046: ['action', 'async', 'test_social_capital_system', '(', ')', '{', 'print', '(', 'ğŸ† Testing Social Capital Score System...', ')', 'let', 'scs', '=', 'SocialCapitalEngine', '(', ')', 'let', 'test_user', '=', 'ZIV_user_789', 'let', 'test_app', '=', 'ziver_dapp', 'scs', '.', 'register_app_config', '(', 'test_app', ',', '{', 'min_points', ':', '20', ',', 'max_points', ':', '150', ',', 'daily_cap', ':', '750', ',', 'activity_weights', ':', '{', 'login', ':', '10', ',', 'transaction', ':', '25', ',', 'governance_vote', ':', '40', '}', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'login', ',', 'test_app', ',', '{', 'bonus_reason', ':', '7-day streak', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'transaction', ',', 'test_app', ',', '{', 'transaction_value', ':', '5000', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'governance_vote', ',', 'test_app', ',', '{', 'proposal_id', ':', 'prop_123', '}', ')', 'let', 'score', '=', 'scs', '.', 'calculate_scs', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'Social Capital Score: ', '+', 'string', '(', 'score', ')', ')', 'let', 'explanation', '=', 'scs', '.', 'get_scs_explanation', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'SCS Explanation: ', '+', 'string', '(', 'explanation', ')', ')', 'let', 'history', '=', 'scs', '.', 'get_scs_history', '(', 'test_user', ',', '7', ')', 'print', '(', '7-day History: ', '+', 'string', '(', 'history', '.', 'summary', ')', ')', '}']
  [70] statement/} @ 3046-3046: ['}']
  [71] statement/EXPORT @ 3047-3064: ['export', '{', 'SocialCapitalEngine', ',', 'SCSSystem', ',', 'test_social_capital_system', ',', 'register_app_config', ',', 'calculate_scs', ',', 'get_scs_explanation', ',', 'record_activity', ',', 'get_scs_history', '}']
  [72] statement/} @ 3064-3065: ['}']
ğŸ”§ Parsing 73 top-level blocks...
  âœ… Parsed: BlockStatement at line 3
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'crypto', 'as', 'crypto']
    ğŸ“ Found use statement: ['use', 'crypto', 'as', 'crypto']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 3
  âœ… Parsed: BlockStatement at line 4
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 4
  âœ… Parsed: BlockStatement at line 5
  ğŸ”§ Populating empty BlockStatement from 7 tokens
    ğŸ“ Parsing 7 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'math', 'as', 'math', 'protocol', 'SCSSystem', '{']
    ğŸ“ Found use statement: ['use', 'math', 'as', 'math', 'protocol', 'SCSSystem', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 5
  âœ… Parsed: BlockStatement at line 9
  ğŸ”§ Populating empty BlockStatement from 15 tokens
    ğŸ“ Parsing 15 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_scs', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'integer']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 9
  âœ… Parsed: BlockStatement at line 10
  ğŸ”§ Populating empty BlockStatement from 15 tokens
    ğŸ“ Parsing 15 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_scs_explanation', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 10
  âœ… Parsed: BlockStatement at line 11
  ğŸ”§ Populating empty BlockStatement from 22 tokens
    ğŸ“ Parsing 22 tokens into statements
    ğŸ“ Found action statement: ['action', 'record_activity', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ',', 'metadata', ':', 'map', ')', '-', '>', 'boolean']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 11
  âœ… Parsed: BlockStatement at line 12
  ğŸ”§ Populating empty BlockStatement from 15 tokens
    ğŸ“ Parsing 15 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_scs_history', '(', 'user', ':', 'string', ',', 'days', ':', 'integer', '?', ')', '-', '>', 'list']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 12
  âœ… Parsed: BlockStatement at line 13
  ğŸ”§ Populating empty BlockStatement from 17 tokens
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_app_config', '(', 'app_id', ':', 'string', ')', '-', '>', 'map', '?', '}', 'contract', 'SocialCapitalEngine', 'implements', 'SCSSystem', '{']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 13
  âœ… Parsed: BlockStatement at line 17
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['user_scores', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 17
  âœ… Parsed: BlockStatement at line 18
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['activity_logs', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 18
  âœ… Parsed: BlockStatement at line 19
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['app_configs', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 19
  âœ… Parsed: BlockStatement at line 20
  ğŸ”§ Populating empty BlockStatement from 5 tokens
    ğŸ“ Parsing 5 tokens into statements
  ğŸ” Parsing expression from tokens: ['score_history', ':', 'map']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 20
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ActivityRecord
  ğŸ“ Found property name: user
  ğŸ“ Property: user: string
  ğŸ“ Found property name: activity_type
  ğŸ“ Property: activity_type: string
  ğŸ“ Found property name: app_id
  ğŸ“ Property: app_id: string
  ğŸ“ Found property name: timestamp
  ğŸ“ Property: timestamp: integer
  ğŸ“ Found property name: points_earned
  ğŸ“ Property: points_earned: integer
  ğŸ“ Found property name: metadata
  ğŸ“ Property: metadata: map
  ğŸ“ Found property name: explanation
  ğŸ“ Property: explanation: string
  âœ… Parsed: EntityStatement at line 22
  âœ… Parsed: EntityStatement at line 22
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: SCSConfig
  ğŸ“ Found property name: min_points
  ğŸ“ Property: min_points: integer
  ğŸ“ Found property name: max_points
  ğŸ“ Property: max_points: integer
  ğŸ“ Found property name: daily_cap
  ğŸ“ Property: daily_cap: integer
  ğŸ“ Found property name: activity_weights
  ğŸ“ Property: activity_weights: map
  ğŸ“ Found property name: cooldown_periods
  ğŸ“ Property: cooldown_periods: map
  âœ… Parsed: EntityStatement at line 32
  âœ… Parsed: EntityStatement at line 32
  âœ… Parsed: BlockStatement at line 40
  ğŸ”§ Populating empty BlockStatement from 35 tokens
    ğŸ“ Parsing 35 tokens into statements
    ğŸ“ Found action statement: ['action', 'init', '(', ')', '{', 'this', '.', 'user_scores', '=', '{', '}', 'this', '.', 'activity_logs', '=', '{', '}', 'this', '.', 'app_configs', '=', '{', '}', 'this', '.', 'score_history', '=', '{', '}', 'this', '.', 'initialize_default_config', '(', ')', '}']
    ğŸ“ Parsing 29 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'user_scores', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'activity_logs', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'app_configs', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'score_history', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'initialize_default_config', '(', ')']
    âœ… Parsed 5 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 40
  âœ… Parsed: BlockStatement at line 48
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 48
  âœ… Parsed: BlockStatement at line 50
  ğŸ”§ Populating empty BlockStatement from 181 tokens
    ğŸ“ Parsing 181 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_scs', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'integer', '{', '', '\n        Calculate Social Capital Score with randomizer within app-specific ranges\n        ', '', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_score', '=', 'this', '.', 'get_user_base_score', '(', 'user', ')', 'let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '30', ')', 'let', 'activity_multiplier', '=', 'this', '.', 'calculate_activity_multiplier', '(', 'recent_activities', ',', 'config', ')', 'let', 'min_score', '=', 'config', '.', 'min_points', 'let', 'max_score', '=', 'config', '.', 'max_points', 'let', 'random_factor', '=', 'math', '.', 'random_int', '(', '0', ',', '100', ')', '/', '100.0', 'let', 'raw_score', '=', 'min_score', '+', 'integer', '(', '(', 'max_score', '-', 'min_score', ')', '*', 'random_factor', ')', 'let', 'final_score', '=', 'integer', '(', 'raw_score', '*', 'activity_multiplier', ')', 'let', 'daily_total', '=', 'this', '.', 'get_daily_points', '(', 'user', ',', 'app_id', ')', 'let', 'capped_score', '=', 'math', '.', 'min', '(', 'final_score', ',', 'config', '.', 'daily_cap', '-', 'daily_total', ')', 'let', 'bounded_score', '=', 'math', '.', 'max', '(', 'min_score', ',', 'math', '.', 'min', '(', 'max_score', ',', 'capped_score', ')', ')', 'this', '.', 'update_user_score', '(', 'user', ',', 'bounded_score', ',', 'app_id', ')', 'this', '.', 'record_scoring_event', '(', 'user', ',', 'bounded_score', ',', 'app_id', ',', 'recent_activities', ',', 'activity_multiplier', ')', 'return', 'bounded_score', '}']
    ğŸ“ Parsing 164 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Calculate Social Capital Score with randomizer within app-specific ranges\n        ', '']
    ğŸ“ Found let statement: ['let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_score', '=', 'this', '.', 'get_user_base_score', '(', 'user', ')', 'let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '30', ')', 'let', 'activity_multiplier', '=', 'this', '.', 'calculate_activity_multiplier', '(', 'recent_activities', ',', 'config', ')', 'let', 'min_score', '=', 'config', '.', 'min_points', 'let', 'max_score', '=', 'config', '.', 'max_points', 'let', 'random_factor', '=', 'math', '.', 'random_int', '(', '0', ',', '100', ')', '/', '100.0', 'let', 'raw_score', '=', 'min_score', '+', 'integer', '(', '(', 'max_score', '-', 'min_score', ')', '*', 'random_factor', ')', 'let', 'final_score', '=', 'integer', '(', 'raw_score', '*', 'activity_multiplier', ')', 'let', 'daily_total', '=', 'this', '.', 'get_daily_points', '(', 'user', ',', 'app_id', ')', 'let', 'capped_score', '=', 'math', '.', 'min', '(', 'final_score', ',', 'config', '.', 'daily_cap', '-', 'daily_total', ')', 'let', 'bounded_score', '=', 'math', '.', 'max', '(', 'min_score', ',', 'math', '.', 'min', '(', 'max_score', ',', 'capped_score', ')', ')', 'this', '.', 'update_user_score', '(', 'user', ',', 'bounded_score', ',', 'app_id', ')', 'this', '.', 'record_scoring_event', '(', 'user', ',', 'bounded_score', ',', 'app_id', ',', 'recent_activities', ',', 'activity_multiplier', ')', 'return', 'bounded_score']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_score', '=', 'this', '.', 'get_user_base_score', '(', 'user', ')', 'let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '30', ')', 'let', 'activity_multiplier', '=', 'this', '.', 'calculate_activity_multiplier', '(', 'recent_activities', ',', 'config', ')', 'let', 'min_score', '=', 'config', '.', 'min_points', 'let', 'max_score', '=', 'config', '.', 'max_points', 'let', 'random_factor', '=', 'math', '.', 'random_int', '(', '0', ',', '100', ')', '/', '100.0', 'let', 'raw_score', '=', 'min_score', '+', 'integer', '(', '(', 'max_score', '-', 'min_score', ')', '*', 'random_factor', ')', 'let', 'final_score', '=', 'integer', '(', 'raw_score', '*', 'activity_multiplier', ')', 'let', 'daily_total', '=', 'this', '.', 'get_daily_points', '(', 'user', ',', 'app_id', ')', 'let', 'capped_score', '=', 'math', '.', 'min', '(', 'final_score', ',', 'config', '.', 'daily_cap', '-', 'daily_total', ')', 'let', 'bounded_score', '=', 'math', '.', 'max', '(', 'min_score', ',', 'math', '.', 'min', '(', 'max_score', ',', 'capped_score', ')', ')', 'this', '.', 'update_user_score', '(', 'user', ',', 'bounded_score', ',', 'app_id', ')', 'this', '.', 'record_scoring_event', '(', 'user', ',', 'bounded_score', ',', 'app_id', ',', 'recent_activities', ',', 'activity_multiplier', ')', 'return', 'bounded_score']
  ğŸ” Parsing expression from tokens: ['app_id']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 50
  âœ… Parsed: BlockStatement at line 86
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 86
  âœ… Parsed: BlockStatement at line 88
  ğŸ”§ Populating empty BlockStatement from 197 tokens
    ğŸ“ Parsing 197 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_scs_explanation', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'map', '{', '', '\n        Provide transparent explanation of how SCS was calculated\n        ', '', 'let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '7', ')', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'current_score', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',', '{', '}', ')', '.', 'get', '(', 'current_score', ',', '0', ')', 'let', 'activity_breakdown', '=', '[', ']', 'let', 'total_activity_points', '=', '0', 'for', 'each', 'activity', 'in', 'recent_activities', '{', 'let', 'activity_value', '=', 'this', '.', 'calculate_activity_value', '(', 'activity', ',', 'config', ')', 'activity_breakdown', '.', 'push', '(', '{', 'type', ':', 'activity', '.', 'activity_type', ',', 'app', ':', 'activity', '.', 'app_id', ',', 'timestamp', ':', 'activity', '.', 'timestamp', ',', 'points', ':', 'activity_value', ',', 'explanation', ':', 'activity', '.', 'explanation', '}', ')', 'total_activity_points', '+', '=', 'activity_value', '}', 'return', '{', 'user', ':', 'user', ',', 'current_scs', ':', 'current_score', ',', 'app_config', ':', '{', 'min_points', ':', 'config', '.', 'min_points', ',', 'max_points', ':', 'config', '.', 'max_points', ',', 'daily_cap', ':', 'config', '.', 'daily_cap', '}', ',', 'recent_activities', ':', 'activity_breakdown', ',', 'total_activity_points', ':', 'total_activity_points', ',', 'calculation_period', ':', '7 days', ',', 'random_factor_range', ':', 'config', '.', 'max_points', '-', 'config', '.', 'min_points', ',', 'explanation', ':', 'this', '.', 'generate_natural_language_explanation', '(', 'user', ',', 'current_score', ',', 'activity_breakdown', ',', 'config', ')', '}', '}']
    ğŸ“ Parsing 180 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Provide transparent explanation of how SCS was calculated\n        ', '']
    ğŸ“ Found let statement: ['let', 'recent_activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '7', ')', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'current_score', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_recent_activities', '(', 'user', ',', 'app_id', ',', '7', ')', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'current_score', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ” Parsing expression from tokens: ['7']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')', '.', 'get', '(', 'current_score', ',', '0', ')']
  ğŸ” Parsing expression from tokens: ['current_score']
  ğŸ” Parsing expression from tokens: ['0']
    ğŸ“ Found let statement: ['let', 'activity_breakdown', '=', '[', ']', 'let', 'total_activity_points', '=', '0', 'for', 'each', 'activity', 'in', 'recent_activities']
  ğŸ” Parsing expression from tokens: ['[', ']', 'let', 'total_activity_points', '=', '0', 'for', 'each', 'activity', 'in', 'recent_activities']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'let', 'activity_value', '=', 'this', '.', 'calculate_activity_value', '(', 'activity', ',', 'config', ')', 'activity_breakdown', '.', 'push', '(', '{', 'type', ':', 'activity', '.', 'activity_type', ',', 'app', ':', 'activity', '.', 'app_id', ',', 'timestamp', ':', 'activity', '.', 'timestamp', ',', 'points', ':', 'activity_value', ',', 'explanation', ':', 'activity', '.', 'explanation', '}', ')', 'total_activity_points', '+', '=', 'activity_value']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['activity', '.', 'activity_type']
  ğŸ—ºï¸ [Map] Added pair: type -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['activity', '.', 'app_id']
  ğŸ—ºï¸ [Map] Added pair: app -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['activity', '.', 'timestamp']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['activity_value']
  ğŸ—ºï¸ [Map] Added pair: points -> Identifier
  ğŸ” Parsing expression from tokens: ['activity', '.', 'explanation']
  ğŸ—ºï¸ [Map] Added pair: explanation -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
  ğŸ” Parsing expression from tokens: ['{', 'user', ':', 'user', ',', 'current_scs', ':', 'current_score', ',', 'app_config', ':', '{', 'min_points', ':', 'config', '.', 'min_points', ',', 'max_points', ':', 'config', '.', 'max_points', ',', 'daily_cap', ':', 'config', '.', 'daily_cap', '}', ',', 'recent_activities', ':', 'activity_breakdown', ',', 'total_activity_points', ':', 'total_activity_points', ',', 'calculation_period', ':', '7 days', ',', 'random_factor_range', ':', 'config', '.', 'max_points', '-', 'config', '.', 'min_points', ',', 'explanation', ':', 'this', '.', 'generate_natural_language_explanation', '(', 'user', ',', 'current_score', ',', 'activity_breakdown', ',', 'config', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ—ºï¸ [Map] Added pair: user -> Identifier
  ğŸ” Parsing expression from tokens: ['current_score']
  ğŸ—ºï¸ [Map] Added pair: current_scs -> Identifier
  ğŸ” Parsing expression from tokens: ['{', 'min_points', ':', 'config', '.', 'min_points']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['config', '.', 'min_points']
  ğŸ—ºï¸ [Map] Added pair: min_points -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: app_config -> MapLiteral
  ğŸ” Parsing expression from tokens: ['config', '.', 'max_points']
  ğŸ—ºï¸ [Map] Added pair: max_points -> PropertyAccessExpression
  ğŸ” Parsing expression from tokens: ['config', '.', 'daily_cap']
  ğŸ—ºï¸ [Map] Added pair: daily_cap -> PropertyAccessExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 88
  âœ… Parsed: BlockStatement at line 125
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 125
  âœ… Parsed: BlockStatement at line 127
  ğŸ”§ Populating empty BlockStatement from 205 tokens
    ğŸ“ Parsing 205 tokens into statements
    ğŸ“ Found action statement: ['action', 'record_activity', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ',', 'metadata', ':', 'map', ')', '-', '>', 'boolean', '{', '', '\n        Record user activity from connected applications\n        ', '', 'let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'if', 'not', 'this', '.', 'can_perform_activity', '(', 'user', ',', 'activity_type', ',', 'app_id', ')', '{', 'print', '(', 'Activity cooldown active for: ', '+', 'activity_type', ')', 'return', 'false', '}', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_points', '=', 'config', '.', 'activity_weights', '.', 'get', '(', 'activity_type', ',', '10', ')', 'let', 'final_points', '=', 'this', '.', 'calculate_dynamic_points', '(', 'base_points', ',', 'metadata', ',', 'config', ')', 'let', 'explanation', '=', 'this', '.', 'generate_activity_explanation', '(', 'activity_type', ',', 'final_points', ',', 'metadata', ')', 'let', 'activity', '=', 'ActivityRecord', '{', 'user', ':', 'user', ',', 'activity_type', ':', 'activity_type', ',', 'app_id', ':', 'app_id', ',', 'timestamp', ':', 'timestamp', ',', 'points_earned', ':', 'final_points', ',', 'metadata', ':', 'metadata', ',', 'explanation', ':', 'explanation', '}', 'if', 'not', 'this', '.', 'activity_logs', '.', 'has', '(', 'user', ')', '{', 'this', '.', 'activity_logs', '[', 'user', ']', '=', '[', ']', '}', 'this', '.', 'activity_logs', '[', 'user', ']', '.', 'push', '(', 'activity', ')', 'this', '.', 'update_activity_cooldown', '(', 'user', ',', 'activity_type', ',', 'app_id', ')', 'print', '(', 'ğŸ“ Activity recorded: ', '+', 'user', '+', ' - ', '+', 'activity_type', '+', ' (', '+', 'string', '(', 'final_points', ')', '+', ' points)', ')', 'return', 'true', '}']
    ğŸ“ Parsing 181 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Record user activity from connected applications\n        ', '']
    ğŸ“ Found let statement: ['let', 'timestamp', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'if', 'not', 'this', '.', 'can_perform_activity', '(', 'user', ',', 'activity_type', ',', 'app_id', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'if', 'not', 'this', '.', 'can_perform_activity', '(', 'user', ',', 'activity_type', ',', 'app_id', ')']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'Activity cooldown active for: ', '+', 'activity_type', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_points', '=', 'config', '.', 'activity_weights', '.', 'get', '(', 'activity_type', ',', '10', ')', 'let', 'final_points', '=', 'this', '.', 'calculate_dynamic_points', '(', 'base_points', ',', 'metadata', ',', 'config', ')', 'let', 'explanation', '=', 'this', '.', 'generate_activity_explanation', '(', 'activity_type', ',', 'final_points', ',', 'metadata', ')', 'let', 'activity', '=', 'ActivityRecord']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'base_points', '=', 'config', '.', 'activity_weights', '.', 'get', '(', 'activity_type', ',', '10', ')', 'let', 'final_points', '=', 'this', '.', 'calculate_dynamic_points', '(', 'base_points', ',', 'metadata', ',', 'config', ')', 'let', 'explanation', '=', 'this', '.', 'generate_activity_explanation', '(', 'activity_type', ',', 'final_points', ',', 'metadata', ')', 'let', 'activity', '=', 'ActivityRecord']
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ” Parsing expression from tokens: ['{', 'user', ':', 'user', ',', 'activity_type', ':', 'activity_type', ',', 'app_id', ':', 'app_id', ',', 'timestamp', ':', 'timestamp', ',', 'points_earned', ':', 'final_points', ',', 'metadata', ':', 'metadata', ',', 'explanation', ':', 'explanation']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ—ºï¸ [Map] Added pair: user -> Identifier
  ğŸ” Parsing expression from tokens: ['activity_type']
  ğŸ—ºï¸ [Map] Added pair: activity_type -> Identifier
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ—ºï¸ [Map] Added pair: app_id -> Identifier
  ğŸ” Parsing expression from tokens: ['timestamp']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> Identifier
  ğŸ” Parsing expression from tokens: ['final_points']
  ğŸ—ºï¸ [Map] Added pair: points_earned -> Identifier
  ğŸ” Parsing expression from tokens: ['metadata']
  ğŸ—ºï¸ [Map] Added pair: metadata -> Identifier
  ğŸ” Parsing expression from tokens: ['explanation']
  ğŸ—ºï¸ [Map] Added pair: explanation -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 7 pairs
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'activity_logs', '.', 'has', '(', 'user', ')', '{', 'this', '.', 'activity_logs', '[', 'user', ']', '=', '[', ']']
  ğŸ” Parsing expression from tokens: ['this', '.', 'activity_logs', '[', 'user', ']', '.', 'push', '(', 'activity', ')', 'this', '.', 'update_activity_cooldown', '(', 'user', ',', 'activity_type', ',', 'app_id', ')']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ“ Activity recorded: ', '+', 'user', '+', ' - ', '+', 'activity_type', '+', ' (', '+', 'string', '(', 'final_points', ')', '+', ' points)', ')', 'return', 'true']
    âœ… Parsed 8 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 127
  âœ… Parsed: BlockStatement at line 168
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 168
  âœ… Parsed: BlockStatement at line 170
  ğŸ”§ Populating empty BlockStatement from 138 tokens
    ğŸ“ Parsing 138 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_scs_history', '(', 'user', ':', 'string', ',', 'days', ':', 'integer', '?', '=', '30', ')', '-', '>', 'list', '{', '', '\n        Get SCS history and activity timeline\n        ', '', 'let', 'end_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_time', '=', 'end_time', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'user_history', '=', 'this', '.', 'score_history', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'filtered_history', '=', 'user_history', '.', 'filter', '(', 'action', '(', 'record', ')', '{', 'return', 'record', '.', 'timestamp', '>=', 'start_time', 'and', 'record', '.', 'timestamp', '<=', 'end_time', '}', ')', 'let', 'activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'null', ',', 'days', ')', 'return', '{', 'scs_timeline', ':', 'filtered_history', ',', 'activities', ':', 'activities', ',', 'period', ':', '{', 'days', ':', 'days', ',', 'start_time', ':', 'start_time', ',', 'end_time', ':', 'end_time', '}', ',', 'summary', ':', 'this', '.', 'generate_history_summary', '(', 'filtered_history', ',', 'activities', ')', '}', '}']
    ğŸ“ Parsing 119 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get SCS history and activity timeline\n        ', '']
    ğŸ“ Found let statement: ['let', 'end_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_time', '=', 'end_time', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'user_history', '=', 'this', '.', 'score_history', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'filtered_history', '=', 'user_history', '.', 'filter', '(', 'action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'start_time', '=', 'end_time', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'user_history', '=', 'this', '.', 'score_history', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'filtered_history', '=', 'user_history', '.', 'filter', '(', 'action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'record', '.', 'timestamp', '>=', 'start_time', 'and', 'record', '.', 'timestamp', '<=', 'end_time']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
    ğŸ“ Found let statement: ['let', 'activities', '=', 'this', '.', 'get_recent_activities', '(', 'user', ',', 'null', ',', 'days', ')', 'return']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_recent_activities', '(', 'user', ',', 'null', ',', 'days', ')', 'return']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ” Parsing expression from tokens: ['null']
  ğŸ” Parsing expression from tokens: ['days']
  ğŸ” Parsing expression from tokens: ['{', 'scs_timeline', ':', 'filtered_history', ',', 'activities', ':', 'activities', ',', 'period', ':', '{', 'days', ':', 'days', ',', 'start_time', ':', 'start_time', ',', 'end_time', ':', 'end_time', '}', ',', 'summary', ':', 'this', '.', 'generate_history_summary', '(', 'filtered_history', ',', 'activities', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['filtered_history']
  ğŸ—ºï¸ [Map] Added pair: scs_timeline -> Identifier
  ğŸ” Parsing expression from tokens: ['activities']
  ğŸ—ºï¸ [Map] Added pair: activities -> Identifier
  ğŸ” Parsing expression from tokens: ['{', 'days', ':', 'days']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['days']
  ğŸ—ºï¸ [Map] Added pair: days -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: period -> MapLiteral
  ğŸ” Parsing expression from tokens: ['start_time']
  ğŸ—ºï¸ [Map] Added pair: start_time -> Identifier
  ğŸ” Parsing expression from tokens: ['end_time']
  ğŸ—ºï¸ [Map] Added pair: end_time -> Identifier
  ğŸ—ºï¸ [Map] Successfully parsed map with 5 pairs
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 170
  âœ… Parsed: BlockStatement at line 194
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 194
  âœ… Parsed: BlockStatement at line 196
  ğŸ”§ Populating empty BlockStatement from 27 tokens
    ğŸ“ Parsing 27 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_app_config', '(', 'app_id', ':', 'string', ')', '-', '>', 'map', '?', '{', '', '\n        Get configuration for specific application\n        ', '', 'return', 'this', '.', 'app_configs', '.', 'get', '(', 'app_id', ',', 'null', ')', '}']
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get configuration for specific application\n        ', '']
  ğŸ” Parsing expression from tokens: ['this', '.', 'app_configs', '.', 'get', '(', 'app_id', ',', 'null', ')']
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ” Parsing expression from tokens: ['null']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 196
  âœ… Parsed: BlockStatement at line 201
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 201
  âœ… Parsed: BlockStatement at line 203
  ğŸ”§ Populating empty BlockStatement from 66 tokens
    ğŸ“ Parsing 66 tokens into statements
    ğŸ“ Found action statement: ['action', 'register_app_config', '(', 'app_id', ':', 'string', ',', 'config', ':', 'map', ')', '-', '>', 'boolean', '{', '', '\n        Register custom configuration for an application\n        ', '', 'let', 'default_config', '=', 'this', '.', 'get_default_config', '(', ')', 'let', 'merged_config', '=', 'this', '.', 'merge_configs', '(', 'default_config', ',', 'config', ')', 'if', 'not', 'this', '.', 'validate_app_config', '(', 'merged_config', ')', '{', 'return', 'false', '}', 'this', '.', 'app_configs', '[', 'app_id', ']', '=', 'merged_config', 'print', '(', 'âœ… App config registered: ', '+', 'app_id', ')', 'return', 'true', '}']
    ğŸ“ Parsing 50 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Register custom configuration for an application\n        ', '']
    ğŸ“ Found let statement: ['let', 'default_config', '=', 'this', '.', 'get_default_config', '(', ')', 'let', 'merged_config', '=', 'this', '.', 'merge_configs', '(', 'default_config', ',', 'config', ')', 'if', 'not', 'this', '.', 'validate_app_config', '(', 'merged_config', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_default_config', '(', ')', 'let', 'merged_config', '=', 'this', '.', 'merge_configs', '(', 'default_config', ',', 'config', ')', 'if', 'not', 'this', '.', 'validate_app_config', '(', 'merged_config', ')']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'app_configs', '[', 'app_id', ']', '=', 'merged_config']
    ğŸ“ Found print statement: ['print', '(', 'âœ… App config registered: ', '+', 'app_id', ')', 'return', 'true']
    âœ… Parsed 5 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 203
  âœ… Parsed: BlockStatement at line 218
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 218
  âœ… Parsed: BlockStatement at line 221
  ğŸ”§ Populating empty BlockStatement from 103 tokens
    ğŸ“ Parsing 103 tokens into statements
    ğŸ“ Found action statement: ['action', 'initialize_default_config', '(', ')', '{', 'let', 'default_config', '=', 'SCSConfig', '{', 'min_points', ':', '10', ',', 'max_points', ':', '100', ',', 'daily_cap', ':', '500', ',', 'activity_weights', ':', '{', 'login', ':', '5', ',', 'transaction', ':', '15', ',', 'governance_vote', ':', '25', ',', 'content_creation', ':', '20', ',', 'community_engagement', ':', '15', ',', 'referral', ':', '30', ',', 'staking', ':', '20', ',', 'liquidity_provision', ':', '35', '}', ',', 'cooldown_periods', ':', '{', 'login', ':', '3600', ',', 'transaction', ':', '300', ',', 'governance_vote', ':', '86400', ',', 'content_creation', ':', '7200', ',', 'community_engagement', ':', '1800', ',', 'referral', ':', '0', ',', 'staking', ':', '3600', ',', 'liquidity_provision', ':', '3600', '}', '}', 'this', '.', 'app_configs', '[', 'default', ']', '=', 'default_config', '}']
    ğŸ“ Parsing 97 tokens into statements
    ğŸ“ Found let statement: ['let', 'default_config', '=', 'SCSConfig']
  ğŸ” Parsing expression from tokens: ['SCSConfig']
  ğŸ” Parsing expression from tokens: ['{', 'min_points', ':', '10', ',', 'max_points', ':', '100', ',', 'daily_cap', ':', '500', ',', 'activity_weights', ':', '{', 'login', ':', '5', ',', 'transaction', ':', '15', ',', 'governance_vote', ':', '25', ',', 'content_creation', ':', '20', ',', 'community_engagement', ':', '15', ',', 'referral', ':', '30', ',', 'staking', ':', '20', ',', 'liquidity_provision', ':', '35', '}', ',', 'cooldown_periods', ':', '{', 'login', ':', '3600', ',', 'transaction', ':', '300', ',', 'governance_vote', ':', '86400', ',', 'content_creation', ':', '7200', ',', 'community_engagement', ':', '1800', ',', 'referral', ':', '0', ',', 'staking', ':', '3600', ',', 'liquidity_provision', ':', '3600', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['10']
  ğŸ—ºï¸ [Map] Added pair: min_points -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['100']
  ğŸ—ºï¸ [Map] Added pair: max_points -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['500']
  ğŸ—ºï¸ [Map] Added pair: daily_cap -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['{', 'login', ':', '5']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['5']
  ğŸ—ºï¸ [Map] Added pair: login -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: activity_weights -> MapLiteral
  ğŸ” Parsing expression from tokens: ['15']
  ğŸ—ºï¸ [Map] Added pair: transaction -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['25']
  ğŸ—ºï¸ [Map] Added pair: governance_vote -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['20']
  ğŸ—ºï¸ [Map] Added pair: content_creation -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['15']
  ğŸ—ºï¸ [Map] Added pair: community_engagement -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['30']
  ğŸ—ºï¸ [Map] Added pair: referral -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['20']
  ğŸ—ºï¸ [Map] Added pair: staking -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['35']
  ğŸ—ºï¸ [Map] Added pair: liquidity_provision -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 11 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'app_configs', '[', 'default', ']', '=', 'default_config']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 221
  âœ… Parsed: BlockStatement at line 249
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 249
  âœ… Parsed: BlockStatement at line 251
  ğŸ”§ Populating empty BlockStatement from 42 tokens
    ğŸ“ Parsing 42 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_app_config_or_default', '(', 'app_id', ':', 'string', '?', ')', '-', '>', 'SCSConfig', '{', 'if', 'app_id', '!=', 'null', 'and', 'this', '.', 'app_configs', '.', 'has', '(', 'app_id', ')', '{', 'return', 'this', '.', 'app_configs', '[', 'app_id', ']', '}', 'return', 'this', '.', 'app_configs', '[', 'default', ']', '}']
    ğŸ“ Parsing 29 tokens into statements
  ğŸ” Parsing expression from tokens: ['app_id', '!=', 'null', 'and', 'this', '.', 'app_configs', '.', 'has', '(', 'app_id', ')', '{', 'return', 'this', '.', 'app_configs', '[', 'app_id', ']']
  ğŸ” Parsing expression from tokens: ['null', 'and', 'this', '.', 'app_configs', '.', 'has', '(', 'app_id', ')', '{', 'return', 'this', '.', 'app_configs', '[', 'app_id', ']']
  ğŸ” Parsing expression from tokens: ['this', '.', 'app_configs', '[', 'default', ']']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 251
  âœ… Parsed: BlockStatement at line 256
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 256
  âœ… Parsed: BlockStatement at line 258
  ğŸ”§ Populating empty BlockStatement from 49 tokens
    ğŸ“ Parsing 49 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_user_base_score', '(', 'user', ':', 'string', ')', '-', '>', 'integer', '{', 'let', 'user_data', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',', '{', 'current_score', ':', '50', ',', 'last_updated', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'total_activities', ':', '0', '}', ')', 'return', 'user_data', '.', 'current_score', '}']
    ğŸ“ Parsing 37 tokens into statements
    ğŸ“ Found let statement: ['let', 'user_data', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',']
  ğŸ” Parsing expression from tokens: ['this', '.', 'user_scores', '.', 'get', '(', 'user', ',']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ” Parsing expression from tokens: ['{', 'current_score', ':', '50', ',', 'last_updated', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'total_activities', ':', '0']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['50']
  ğŸ—ºï¸ [Map] Added pair: current_score -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_updated -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: total_activities -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: [')']
  ğŸ” Parsing expression from tokens: ['user_data', '.', 'current_score']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 258
  âœ… Parsed: BlockStatement at line 265
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 265
  âœ… Parsed: BlockStatement at line 267
  ğŸ”§ Populating empty BlockStatement from 97 tokens
    ğŸ“ Parsing 97 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_recent_activities', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ',', 'days', ':', 'integer', ')', '-', '>', 'list', '{', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'cutoff_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'filtered', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')', '{', 'let', 'time_match', '=', 'activity', '.', 'timestamp', '>=', 'cutoff_time', 'let', 'app_match', '=', 'app_id', '==', 'null', 'or', 'activity', '.', 'app_id', '==', 'app_id', 'return', 'time_match', 'and', 'app_match', '}', ')', 'return', 'filtered', '}']
    ğŸ“ Parsing 76 tokens into statements
    ğŸ“ Found let statement: ['let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'cutoff_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'filtered', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'cutoff_time', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'days', '*', '24', '*', '60', '*', '60', ')', 'let', 'filtered', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'let', 'time_match', '=', 'activity', '.', 'timestamp', '>=', 'cutoff_time', 'let', 'app_match', '=', 'app_id', '==', 'null', 'or', 'activity', '.', 'app_id', '==', 'app_id', 'return', 'time_match', 'and', 'app_match']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
  ğŸ” Parsing expression from tokens: ['filtered']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 267
  âœ… Parsed: BlockStatement at line 278
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 278
  âœ… Parsed: BlockStatement at line 280
  ğŸ”§ Populating empty BlockStatement from 75 tokens
    ğŸ“ Parsing 75 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_activity_multiplier', '(', 'activities', ':', 'list', ',', 'config', ':', 'SCSConfig', ')', '-', '>', 'float', '{', 'if', 'activities', '.', 'is_empty', '(', ')', '{', 'return', '0.5', '}', 'let', 'total_points', '=', '0', 'for', 'each', 'activity', 'in', 'activities', '{', 'total_points', '+', '=', 'activity', '.', 'points_earned', '}', 'let', 'avg_daily_points', '=', 'total_points', '/', '7.0', 'let', 'multiplier', '=', 'math', '.', 'min', '(', '2.0', ',', '0.5', '+', '(', 'avg_daily_points', '/', '100.0', ')', ')', 'return', 'math', '.', 'max', '(', '0.5', ',', 'multiplier', ')', '}']
    ğŸ“ Parsing 59 tokens into statements
  ğŸ” Parsing expression from tokens: ['activities', '.', 'is_empty', '(', ')', '{', 'return', '0.5']
    ğŸ“ Found let statement: ['let', 'total_points', '=', '0', 'for', 'each', 'activity', 'in', 'activities']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'activity', 'in', 'activities']
  ğŸ” Parsing expression from tokens: ['{', 'total_points', '+', '=', 'activity', '.', 'points_earned']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'avg_daily_points', '=', 'total_points', '/', '7.0', 'let', 'multiplier', '=', 'math', '.', 'min', '(', '2.0', ',', '0.5', '+', '(', 'avg_daily_points', '/', '100.0', ')', ')', 'return', 'math', '.', 'max', '(', '0.5', ',', 'multiplier', ')']
  ğŸ” Parsing expression from tokens: ['total_points', '/', '7.0', 'let', 'multiplier', '=', 'math', '.', 'min', '(', '2.0', ',', '0.5', '+', '(', 'avg_daily_points', '/', '100.0', ')', ')', 'return', 'math', '.', 'max', '(', '0.5', ',', 'multiplier', ')']
  ğŸ” Parsing expression from tokens: ['7.0', 'let', 'multiplier', '=', 'math', '.', 'min', '(', '2.0', ',', '0.5', '+', '(', 'avg_daily_points', '/', '100.0', ')', ')', 'return', 'math', '.', 'max', '(', '0.5', ',', 'multiplier', ')']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 280
  âœ… Parsed: BlockStatement at line 294
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 294
  âœ… Parsed: BlockStatement at line 296
  ğŸ”§ Populating empty BlockStatement from 137 tokens
    ğŸ“ Parsing 137 tokens into statements
    ğŸ“ Found action statement: ['action', 'update_user_score', '(', 'user', ':', 'string', ',', 'new_points', ':', 'integer', ',', 'app_id', ':', 'string', '?', ')', '{', 'let', 'current_data', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',', '{', 'current_score', ':', '50', ',', 'last_updated', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'total_activities', ':', '0', '}', ')', 'current_data', '.', 'current_score', '=', 'new_points', 'current_data', '.', 'last_updated', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'this', '.', 'user_scores', '[', 'user', ']', '=', 'current_data', 'let', 'history_record', '=', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'score', ':', 'new_points', ',', 'app_id', ':', 'app_id', ',', 'type', ':', 'scs_calculation', '}', 'if', 'not', 'this', '.', 'score_history', '.', 'has', '(', 'user', ')', '{', 'this', '.', 'score_history', '[', 'user', ']', '=', '[', ']', '}', 'this', '.', 'score_history', '[', 'user', ']', '.', 'push', '(', 'history_record', ')', '}']
    ğŸ“ Parsing 119 tokens into statements
    ğŸ“ Found let statement: ['let', 'current_data', '=', 'this', '.', 'user_scores', '.', 'get', '(', 'user', ',']
  ğŸ” Parsing expression from tokens: ['this', '.', 'user_scores', '.', 'get', '(', 'user', ',']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ” Parsing expression from tokens: ['{', 'current_score', ':', '50', ',', 'last_updated', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'total_activities', ':', '0']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['50']
  ğŸ—ºï¸ [Map] Added pair: current_score -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: last_updated -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ—ºï¸ [Map] Added pair: total_activities -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 3 pairs
  ğŸ” Parsing expression from tokens: [')', 'current_data', '.', 'current_score', '=', 'new_points', 'current_data', '.', 'last_updated', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'this', '.', 'user_scores', '[', 'user', ']', '=', 'current_data']
    ğŸ“ Found let statement: ['let', 'history_record', '=']
  ğŸ” Parsing expression from tokens: ['{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'score', ':', 'new_points', ',', 'app_id', ':', 'app_id', ',', 'type', ':', 'scs_calculation']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['new_points']
  ğŸ—ºï¸ [Map] Added pair: score -> Identifier
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ—ºï¸ [Map] Added pair: app_id -> Identifier
  ğŸ” Parsing expression from tokens: ['scs_calculation']
  ğŸ—ºï¸ [Map] Added pair: type -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 4 pairs
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'score_history', '.', 'has', '(', 'user', ')', '{', 'this', '.', 'score_history', '[', 'user', ']', '=', '[', ']']
  ğŸ” Parsing expression from tokens: ['this', '.', 'score_history', '[', 'user', ']', '.', 'push', '(', 'history_record', ')']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 296
  âœ… Parsed: BlockStatement at line 320
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 320
  âœ… Parsed: BlockStatement at line 322
  ğŸ”§ Populating empty BlockStatement from 85 tokens
    ğŸ“ Parsing 85 tokens into statements
    ğŸ“ Found action statement: ['action', 'record_scoring_event', '(', 'user', ':', 'string', ',', 'score', ':', 'integer', ',', 'app_id', ':', 'string', '?', ',', 'activities', ':', 'list', ',', 'multiplier', ':', 'float', ')', '{', 'let', 'record', '=', '{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'user', ':', 'user', ',', 'final_score', ':', 'score', ',', 'app_id', ':', 'app_id', ',', 'activity_count', ':', 'activities', '.', 'count', '(', ')', ',', 'activity_multiplier', ':', 'multiplier', ',', 'calculation_method', ':', 'randomized_with_activity_boost', '}', 'print', '(', 'ğŸ¯ SCS Calculated: ', '+', 'user', '+', ' = ', '+', 'string', '(', 'score', ')', '+', ' points', ')', '}']
    ğŸ“ Parsing 59 tokens into statements
    ğŸ“ Found let statement: ['let', 'record', '=']
  ğŸ” Parsing expression from tokens: ['{', 'timestamp', ':', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', ',', 'user', ':', 'user', ',', 'final_score', ':', 'score', ',', 'app_id', ':', 'app_id', ',', 'activity_count', ':', 'activities', '.', 'count', '(', ')', ',', 'activity_multiplier', ':', 'multiplier', ',', 'calculation_method', ':', 'randomized_with_activity_boost']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: timestamp -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ—ºï¸ [Map] Added pair: user -> Identifier
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ—ºï¸ [Map] Added pair: final_score -> Identifier
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ—ºï¸ [Map] Added pair: app_id -> Identifier
  ğŸ” Parsing expression from tokens: ['activities', '.', 'count', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: activity_count -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['multiplier']
  ğŸ—ºï¸ [Map] Added pair: activity_multiplier -> Identifier
  ğŸ” Parsing expression from tokens: ['randomized_with_activity_boost']
  ğŸ—ºï¸ [Map] Added pair: calculation_method -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 7 pairs
    ğŸ“ Found print statement: ['print', '(', 'ğŸ¯ SCS Calculated: ', '+', 'user', '+', ' = ', '+', 'string', '(', 'score', ')', '+', ' points', ')']
    âœ… Parsed 2 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 322
  âœ… Parsed: BlockStatement at line 335
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 335
  âœ… Parsed: BlockStatement at line 337
  ğŸ”§ Populating empty BlockStatement from 114 tokens
    ğŸ“ Parsing 114 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_daily_points', '(', 'user', ':', 'string', ',', 'app_id', ':', 'string', '?', ')', '-', '>', 'integer', '{', 'let', 'today_start', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '%', '86400', ')', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'today_activities', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')', '{', 'let', 'activity_today', '=', 'activity', '.', 'timestamp', '>=', 'today_start', 'let', 'app_match', '=', 'app_id', '==', 'null', 'or', 'activity', '.', 'app_id', '==', 'app_id', 'return', 'activity_today', 'and', 'app_match', '}', ')', 'let', 'total_points', '=', '0', 'for', 'each', 'activity', 'in', 'today_activities', '{', 'total_points', '+', '=', 'activity', '.', 'points_earned', '}', 'return', 'total_points', '}']
    ğŸ“ Parsing 97 tokens into statements
    ğŸ“ Found let statement: ['let', 'today_start', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '%', '86400', ')', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'today_activities', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', '(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '%', '86400', ')', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'today_activities', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')']
  ğŸ” Parsing expression from tokens: ['(', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '%', '86400', ')', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'today_activities', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'activity', ')']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '%', '86400']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'activity_today', '=', 'activity', '.', 'timestamp', '>=', 'today_start', 'let', 'app_match', '=', 'app_id', '==', 'null', 'or', 'activity', '.', 'app_id', '==', 'app_id', 'return', 'activity_today', 'and', 'app_match']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
    ğŸ“ Found let statement: ['let', 'total_points', '=', '0', 'for', 'each', 'activity', 'in', 'today_activities']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'activity', 'in', 'today_activities']
  ğŸ” Parsing expression from tokens: ['{', 'total_points', '+', '=', 'activity', '.', 'points_earned']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['total_points']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 337
  âœ… Parsed: BlockStatement at line 353
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 353
  âœ… Parsed: BlockStatement at line 355
  ğŸ”§ Populating empty BlockStatement from 142 tokens
    ğŸ“ Parsing 142 tokens into statements
    ğŸ“ Found action statement: ['action', 'can_perform_activity', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ')', '-', '>', 'boolean', '{', 'let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'cooldown', '=', 'config', '.', 'cooldown_periods', '.', 'get', '(', 'activity_type', ',', '0', ')', 'if', 'cooldown', '==', '0', '{', 'return', 'true', '}', 'let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'last_activity', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'a', ')', '{', 'return', 'a', '.', 'activity_type', '==', 'activity_type', 'and', 'a', '.', 'app_id', '==', 'app_id', '}', ')', '.', 'sort', '(', 'action', '(', 'a', ',', 'b', ')', '{', 'return', 'b', '.', 'timestamp', '-', 'a', '.', 'timestamp', '}', ')', '.', 'first', '(', ')', 'if', 'last_activity', '==', 'null', '{', 'return', 'true', '}', 'let', 'time_since_last', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'last_activity', '.', 'timestamp', 'return', 'time_since_last', '>=', 'cooldown', '}']
    ğŸ“ Parsing 122 tokens into statements
    ğŸ“ Found let statement: ['let', 'config', '=', 'this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'cooldown', '=', 'config', '.', 'cooldown_periods', '.', 'get', '(', 'activity_type', ',', '0', ')', 'if', 'cooldown', '==', '0']
  ğŸ” Parsing expression from tokens: ['this', '.', 'get_app_config_or_default', '(', 'app_id', ')', 'let', 'cooldown', '=', 'config', '.', 'cooldown_periods', '.', 'get', '(', 'activity_type', ',', '0', ')', 'if', 'cooldown', '==', '0']
  ğŸ” Parsing expression from tokens: ['app_id']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'true']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'user_activities', '=', 'this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'last_activity', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'a', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'activity_logs', '.', 'get', '(', 'user', ',', '[', ']', ')', 'let', 'last_activity', '=', 'user_activities', '.', 'filter', '(', 'action', '(', 'a', ')']
  ğŸ” Parsing expression from tokens: ['user']
  ğŸ” Parsing expression from tokens: ['[', ']']
  ğŸ”§ [List] Parsing list literal
  âœ… Parsed list with 0 elements
  ğŸ” Parsing expression from tokens: ['{', 'return', 'a', '.', 'activity_type', '==', 'activity_type', 'and', 'a', '.', 'app_id', '==', 'app_id']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')', '.', 'sort', '(', 'action', '(', 'a', ',', 'b', ')', '{', 'return', 'b', '.', 'timestamp', '-', 'a', '.', 'timestamp', '}', ')', '.', 'first', '(', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'a', ',', 'b', ')', '{', 'return', 'b', '.', 'timestamp', '-', 'a', '.', 'timestamp', '}']
  ğŸ” Parsing expression from tokens: ['a']
  ğŸ” Parsing expression from tokens: ['b']
  ğŸ” Parsing expression from tokens: ['last_activity', '==', 'null', '{', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['null', '{', 'return', 'true']
    ğŸ“ Found let statement: ['let', 'time_since_last', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'last_activity', '.', 'timestamp', 'return', 'time_since_last', '>=', 'cooldown']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', '-', 'last_activity', '.', 'timestamp', 'return', 'time_since_last', '>=', 'cooldown']
  ğŸ” Parsing expression from tokens: ['last_activity', '.', 'timestamp', 'return', 'time_since_last', '>=', 'cooldown']
    âœ… Parsed 7 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 355
  âœ… Parsed: BlockStatement at line 375
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 375
  âœ… Parsed: BlockStatement at line 377
  ğŸ”§ Populating empty BlockStatement from 17 tokens
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found action statement: ['action', 'update_activity_cooldown', '(', 'user', ':', 'string', ',', 'activity_type', ':', 'string', ',', 'app_id', ':', 'string', ')', '{', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 377
  âœ… Parsed: BlockStatement at line 379
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 379
  âœ… Parsed: BlockStatement at line 381
  ğŸ”§ Populating empty BlockStatement from 83 tokens
    ğŸ“ Parsing 83 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_dynamic_points', '(', 'base_points', ':', 'integer', ',', 'metadata', ':', 'map', ',', 'config', ':', 'SCSConfig', ')', '-', '>', 'integer', '{', 'let', 'multiplier', '=', '1.0', 'if', 'metadata', '.', 'has', '(', 'transaction_value', ')', '{', 'let', 'value', '=', 'metadata', '.', 'transaction_value', 'if', 'value', '>', '1000', '{', 'multiplier', '+', '=', '0.5', '}', 'if', 'value', '>', '10000', '{', 'multiplier', '+', '=', '0.5', '}', '}', 'if', 'metadata', '.', 'has', '(', 'content_quality', ')', '{', 'multiplier', '+', '=', 'metadata', '.', 'content_quality', '*', '0.3', '}', 'return', 'integer', '(', 'base_points', '*', 'multiplier', ')', '}']
    ğŸ“ Parsing 63 tokens into statements
    ğŸ“ Found let statement: ['let', 'multiplier', '=', '1.0', 'if', 'metadata', '.', 'has', '(', 'transaction_value', ')']
  ğŸ” Parsing expression from tokens: ['1.0', 'if', 'metadata', '.', 'has', '(', 'transaction_value', ')']
  ğŸ” Parsing expression from tokens: ['{', 'let', 'value', '=', 'metadata', '.', 'transaction_value', 'if', 'value', '>', '1000', '{', 'multiplier', '+', '=', '0.5', '}', 'if', 'value', '>', '10000', '{', 'multiplier', '+', '=', '0.5', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['metadata', '.', 'has', '(', 'content_quality', ')', '{', 'multiplier', '+', '=', 'metadata', '.', 'content_quality', '*', '0.3']
  ğŸ” Parsing expression from tokens: ['content_quality']
  ğŸ” Parsing expression from tokens: ['integer', '(', 'base_points', '*', 'multiplier', ')']
  ğŸ” Parsing expression from tokens: ['base_points', '*', 'multiplier']
  ğŸ” Parsing expression from tokens: ['multiplier']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 381
  âœ… Parsed: BlockStatement at line 398
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 398
  âœ… Parsed: BlockStatement at line 400
  ğŸ”§ Populating empty BlockStatement from 97 tokens
    ğŸ“ Parsing 97 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_activity_explanation', '(', 'activity_type', ':', 'string', ',', 'points', ':', 'integer', ',', 'metadata', ':', 'map', ')', '-', '>', 'string', '{', 'let', 'base_explanations', '=', '{', 'login', ':', 'Daily login reward', ',', 'transaction', ':', 'Transaction completion', ',', 'governance_vote', ':', 'Participating in governance', ',', 'content_creation', ':', 'Creating valuable content', ',', 'community_engagement', ':', 'Active community participation', ',', 'referral', ':', 'Referring new users', ',', 'staking', ':', 'Staking tokens', ',', 'liquidity_provision', ':', 'Providing liquidity', '}', 'let', 'base', '=', 'base_explanations', '.', 'get', '(', 'activity_type', ',', 'Platform activity', ')', 'if', 'metadata', '.', 'has', '(', 'bonus_reason', ')', '{', 'return', 'base', '+', ' + ', '+', 'metadata', '.', 'bonus_reason', '+', ' bonus', '}', 'return', 'base', '+', ' (', '+', 'string', '(', 'points', ')', '+', ' points)', '}']
    ğŸ“ Parsing 77 tokens into statements
    ğŸ“ Found let statement: ['let', 'base_explanations', '=']
  ğŸ” Parsing expression from tokens: ['{', 'login', ':', 'Daily login reward', ',', 'transaction', ':', 'Transaction completion', ',', 'governance_vote', ':', 'Participating in governance', ',', 'content_creation', ':', 'Creating valuable content', ',', 'community_engagement', ':', 'Active community participation', ',', 'referral', ':', 'Referring new users', ',', 'staking', ':', 'Staking tokens', ',', 'liquidity_provision', ':', 'Providing liquidity']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['Daily login reward']
  ğŸ—ºï¸ [Map] Added pair: login -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Transaction completion']
  ğŸ—ºï¸ [Map] Added pair: transaction -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Participating in governance']
  ğŸ—ºï¸ [Map] Added pair: governance_vote -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Creating valuable content']
  ğŸ—ºï¸ [Map] Added pair: content_creation -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Active community participation']
  ğŸ—ºï¸ [Map] Added pair: community_engagement -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Referring new users']
  ğŸ—ºï¸ [Map] Added pair: referral -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Staking tokens']
  ğŸ—ºï¸ [Map] Added pair: staking -> StringLiteral
  ğŸ” Parsing expression from tokens: ['Providing liquidity']
  ğŸ—ºï¸ [Map] Added pair: liquidity_provision -> StringLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 8 pairs
    ğŸ“ Found let statement: ['let', 'base', '=', 'base_explanations', '.', 'get', '(', 'activity_type', ',', 'Platform activity', ')', 'if', 'metadata', '.', 'has', '(', 'bonus_reason', ')']
  ğŸ” Parsing expression from tokens: ['base_explanations', '.', 'get', '(', 'activity_type', ',', 'Platform activity', ')', 'if', 'metadata', '.', 'has', '(', 'bonus_reason', ')']
  ğŸ” Parsing expression from tokens: ['activity_type']
  ğŸ” Parsing expression from tokens: ['Platform activity']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'base', '+', ' + ', '+', 'metadata', '.', 'bonus_reason', '+', ' bonus']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['base', '+', ' (', '+', 'string', '(', 'points', ')', '+', ' points)']
  ğŸ” Parsing expression from tokens: [' (', '+', 'string', '(', 'points', ')', '+', ' points)']
  ğŸ” Parsing expression from tokens: ['string', '(', 'points', ')', '+', ' points)']
  ğŸ” Parsing expression from tokens: ['points']
  ğŸ” Parsing expression from tokens: [' points)']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 400
  âœ… Parsed: BlockStatement at line 419
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 419
  âœ… Parsed: BlockStatement at line 421
  ğŸ”§ Populating empty BlockStatement from 205 tokens
    ğŸ“ Parsing 205 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_natural_language_explanation', '(', 'user', ':', 'string', ',', 'score', ':', 'integer', ',', 'activities', ':', 'list', ',', 'config', ':', 'SCSConfig', ')', '-', '>', 'string', '{', 'let', 'activity_count', '=', 'activities', '.', 'count', '(', ')', 'let', 'total_activity_points', '=', 'activities', '.', 'reduce', '(', 'action', '(', 'acc', ',', 'a', ')', '{', 'return', 'acc', '+', 'a', '.', 'points', '}', ',', '0', ')', 'let', 'explanation', '=', 'Your Social Capital Score of ', '+', 'string', '(', 'score', ')', '+', ' is based on:\\n', 'if', 'activity_count', '>', '0', '{', 'explanation', '+', '=', 'â€¢ ', '+', 'string', '(', 'activity_count', ')', '+', ' recent activities worth ', '+', 'string', '(', 'total_activity_points', ')', '+', ' points\\n', 'explanation', '+', '=', 'â€¢ Random factor range: ', '+', 'string', '(', 'config', '.', 'min_points', ')', '+', '-', '+', 'string', '(', 'config', '.', 'max_points', ')', '+', ' points\\n', 'explanation', '+', '=', 'â€¢ Daily cap: ', '+', 'string', '(', 'config', '.', 'daily_cap', ')', '+', ' points\\n', '}', 'else', '{', 'explanation', '+', '=', 'â€¢ Base random score (no recent activities)\\n', '}', 'explanation', '+', '=', '\\nRecent activities that influenced your score:', 'for', 'each', 'activity', 'in', 'activities', '.', 'slice', '(', '0', ',', '5', ')', '{', 'let', 'time_ago', '=', 'this', '.', 'format_time_ago', '(', 'activity', '.', 'timestamp', ')', 'explanation', '+', '=', '\\nâ€¢ ', '+', 'activity', '.', 'explanation', '+', ' (', '+', 'time_ago', '+', ')', '}', 'if', 'activities', '.', 'count', '(', ')', '>', '5', '{', 'explanation', '+', '=', '\\nâ€¢ ... and ', '+', 'string', '(', 'activities', '.', 'count', '(', ')', '-', '5', ')', '+', ' more activities', '}', 'return', 'explanation', '}']
    ğŸ“ Parsing 181 tokens into statements
    ğŸ“ Found let statement: ['let', 'activity_count', '=', 'activities', '.', 'count', '(', ')', 'let', 'total_activity_points', '=', 'activities', '.', 'reduce', '(', 'action', '(', 'acc', ',', 'a', ')']
  ğŸ” Parsing expression from tokens: ['activities', '.', 'count', '(', ')', 'let', 'total_activity_points', '=', 'activities', '.', 'reduce', '(', 'action', '(', 'acc', ',', 'a', ')']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'acc', '+', 'a', '.', 'points']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [',', '0', ')']
    ğŸ“ Found let statement: ['let', 'explanation', '=', 'Your Social Capital Score of ', '+', 'string', '(', 'score', ')', '+', ' is based on:\\n', 'if', 'activity_count', '>', '0']
  ğŸ” Parsing expression from tokens: ['Your Social Capital Score of ', '+', 'string', '(', 'score', ')', '+', ' is based on:\\n', 'if', 'activity_count', '>', '0']
  ğŸ” Parsing expression from tokens: ['string', '(', 'score', ')', '+', ' is based on:\\n', 'if', 'activity_count', '>', '0']
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ” Parsing expression from tokens: [' is based on:\\n', 'if', 'activity_count', '>', '0']
  ğŸ” Parsing expression from tokens: ['{', 'explanation', '+', '=', 'â€¢ ', '+', 'string', '(', 'activity_count', ')', '+', ' recent activities worth ', '+', 'string', '(', 'total_activity_points', ')', '+', ' points\\n', 'explanation', '+', '=', 'â€¢ Random factor range: ', '+', 'string', '(', 'config', '.', 'min_points', ')', '+', '-', '+', 'string', '(', 'config', '.', 'max_points', ')', '+', ' points\\n', 'explanation', '+', '=', 'â€¢ Daily cap: ', '+', 'string', '(', 'config', '.', 'daily_cap', ')', '+', ' points\\n']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['else', '{', 'explanation', '+', '=', 'â€¢ Base random score (no recent activities)\\n']
  ğŸ” Parsing expression from tokens: ['explanation', '+', '=', '\\nRecent activities that influenced your score:']
  ğŸ” Parsing expression from tokens: ['=', '\\nRecent activities that influenced your score:']
  ğŸ” Parsing expression from tokens: ['each', 'activity', 'in', 'activities', '.', 'slice', '(', '0', ',', '5', ')', '{', 'let', 'time_ago', '=', 'this', '.', 'format_time_ago', '(', 'activity', '.', 'timestamp', ')', 'explanation', '+', '=', '\\nâ€¢ ', '+', 'activity', '.', 'explanation', '+', ' (', '+', 'time_ago', '+', ')']
  ğŸ” Parsing expression from tokens: ['activities', '.', 'count', '(', ')', '>', '5', '{', 'explanation', '+', '=', '\\nâ€¢ ... and ', '+', 'string', '(', 'activities', '.', 'count', '(', ')', '-', '5', ')', '+', ' more activities']
  ğŸ” Parsing expression from tokens: ['5', '{', 'explanation', '+', '=', '\\nâ€¢ ... and ', '+', 'string', '(', 'activities', '.', 'count', '(', ')', '-', '5', ')', '+', ' more activities']
  ğŸ” Parsing expression from tokens: ['explanation']
    âœ… Parsed 10 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 421
  âœ… Parsed: BlockStatement at line 447
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 447
  âœ… Parsed: BlockStatement at line 449
  ğŸ”§ Populating empty BlockStatement from 169 tokens
    ğŸ“ Parsing 169 tokens into statements
    ğŸ“ Found action statement: ['action', 'generate_history_summary', '(', 'scs_history', ':', 'list', ',', 'activities', ':', 'list', ')', '-', '>', 'map', '{', 'let', 'scores', '=', 'scs_history', '.', 'map', '(', 'action', '(', 'record', ')', '{', 'return', 'record', '.', 'score', '}', ')', 'let', 'max_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'max', ',', 'score', ')', '{', 'return', 'math', '.', 'max', '(', 'max', ',', 'score', ')', '}', ',', '0', ')', 'let', 'min_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'min', ',', 'score', ')', '{', 'return', 'math', '.', 'min', '(', 'min', ',', 'score', ')', '}', ',', '1000000', ')', 'let', 'avg_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')', '{', 'return', 'sum', '+', 'score', '}', ',', '0', ')', '/', 'scores', '.', 'count', '(', ')', 'if', 'scores', '.', 'count', '(', ')', '>', '0', 'else', '0', 'return', '{', 'period_activities', ':', 'activities', '.', 'count', '(', ')', ',', 'average_scs', ':', 'integer', '(', 'avg_score', ')', ',', 'highest_scs', ':', 'max_score', ',', 'lowest_scs', ':', 'min_score', ',', 'trend', ':', 'this', '.', 'calculate_trend', '(', 'scs_history', ')', ',', 'consistency_score', ':', 'this', '.', 'calculate_consistency', '(', 'scs_history', ')', '}', '}']
    ğŸ“ Parsing 153 tokens into statements
    ğŸ“ Found let statement: ['let', 'scores', '=', 'scs_history', '.', 'map', '(', 'action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['scs_history', '.', 'map', '(', 'action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['record']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'record', '.', 'score']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
    ğŸ“ Found let statement: ['let', 'max_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'max', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['scores', '.', 'reduce', '(', 'action', '(', 'max', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'max', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['max']
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'math', '.', 'max', '(', 'max', ',', 'score', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [',', '0', ')']
    ğŸ“ Found let statement: ['let', 'min_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'min', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['scores', '.', 'reduce', '(', 'action', '(', 'min', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'min', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['min']
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'math', '.', 'min', '(', 'min', ',', 'score', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [',', '1000000', ')']
    ğŸ“ Found let statement: ['let', 'avg_score', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['sum']
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'sum', '+', 'score']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [',', '0', ')', '/', 'scores', '.', 'count', '(', ')']
  ğŸ” Parsing expression from tokens: ['scores', '.', 'count', '(', ')', '>', '0', 'else', '0']
  ğŸ” Parsing expression from tokens: ['0', 'else', '0']
  ğŸ” Parsing expression from tokens: ['{', 'period_activities', ':', 'activities', '.', 'count', '(', ')', ',', 'average_scs', ':', 'integer', '(', 'avg_score', ')', ',', 'highest_scs', ':', 'max_score', ',', 'lowest_scs', ':', 'min_score', ',', 'trend', ':', 'this', '.', 'calculate_trend', '(', 'scs_history', ')', ',', 'consistency_score', ':', 'this', '.', 'calculate_consistency', '(', 'scs_history', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['activities', '.', 'count', '(', ')']
  ğŸ—ºï¸ [Map] Added pair: period_activities -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['integer', '(', 'avg_score', ')']
  ğŸ” Parsing expression from tokens: ['avg_score']
  ğŸ—ºï¸ [Map] Added pair: average_scs -> CallExpression
  ğŸ” Parsing expression from tokens: ['max_score']
  ğŸ—ºï¸ [Map] Added pair: highest_scs -> Identifier
  ğŸ” Parsing expression from tokens: ['min_score']
  ğŸ—ºï¸ [Map] Added pair: lowest_scs -> Identifier
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_trend', '(', 'scs_history', ')']
  ğŸ” Parsing expression from tokens: ['scs_history']
  ğŸ—ºï¸ [Map] Added pair: trend -> MethodCallExpression
  ğŸ” Parsing expression from tokens: ['this', '.', 'calculate_consistency', '(', 'scs_history', ')']
  ğŸ” Parsing expression from tokens: ['scs_history']
  ğŸ—ºï¸ [Map] Added pair: consistency_score -> MethodCallExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
    âœ… Parsed 14 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 449
  âœ… Parsed: BlockStatement at line 463
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 463
  âœ… Parsed: BlockStatement at line 465
  ğŸ”§ Populating empty BlockStatement from 70 tokens
    ğŸ“ Parsing 70 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_trend', '(', 'history', ':', 'list', ')', '-', '>', 'string', '{', 'if', 'history', '.', 'count', '(', ')', '<', '2', '{', 'return', 'stable', '}', 'let', 'first_score', '=', 'history', '.', 'first', '(', ')', '.', 'score', 'let', 'last_score', '=', 'history', '.', 'last', '(', ')', '.', 'score', 'if', 'last_score', '>', 'first_score', '+', '10', '{', 'return', 'increasing', '}', 'else', 'if', 'last_score', '<', 'first_score', '-', '10', '{', 'return', 'decreasing', '}', 'else', '{', 'return', 'stable', '}', '}']
    ğŸ“ Parsing 58 tokens into statements
  ğŸ” Parsing expression from tokens: ['history', '.', 'count', '(', ')', '<', '2', '{', 'return', 'stable']
  ğŸ” Parsing expression from tokens: ['2', '{', 'return', 'stable']
    ğŸ“ Found let statement: ['let', 'first_score', '=', 'history', '.', 'first', '(', ')', '.', 'score', 'let', 'last_score', '=', 'history', '.', 'last', '(', ')', '.', 'score', 'if', 'last_score', '>', 'first_score', '+', '10']
  ğŸ” Parsing expression from tokens: ['history', '.', 'first', '(', ')', '.', 'score', 'let', 'last_score', '=', 'history', '.', 'last', '(', ')', '.', 'score', 'if', 'last_score', '>', 'first_score', '+', '10']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'increasing']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['else']
  ğŸ” Parsing expression from tokens: ['last_score', '<', 'first_score', '-', '10', '{', 'return', 'decreasing']
  ğŸ” Parsing expression from tokens: ['first_score', '-', '10', '{', 'return', 'decreasing']
  ğŸ” Parsing expression from tokens: ['10', '{', 'return', 'decreasing']
  ğŸ” Parsing expression from tokens: ['else', '{', 'return', 'stable']
    âœ… Parsed 6 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 465
  âœ… Parsed: BlockStatement at line 480
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 480
  âœ… Parsed: BlockStatement at line 482
  ğŸ”§ Populating empty BlockStatement from 123 tokens
    ğŸ“ Parsing 123 tokens into statements
    ğŸ“ Found action statement: ['action', 'calculate_consistency', '(', 'history', ':', 'list', ')', '-', '>', 'float', '{', 'if', 'history', '.', 'count', '(', ')', '<', '2', '{', 'return', '1.0', '}', 'let', 'scores', '=', 'history', '.', 'map', '(', 'action', '(', 'record', ')', '{', 'return', 'record', '.', 'score', '}', ')', 'let', 'mean', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')', '{', 'return', 'sum', '+', 'score', '}', ',', '0', ')', '/', 'scores', '.', 'count', '(', ')', 'let', 'variance', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')', '{', 'return', 'sum', '+', '(', 'score', '-', 'mean', ')', '*', '(', 'score', '-', 'mean', ')', '}', ',', '0', ')', '/', 'scores', '.', 'count', '(', ')', 'return', 'math', '.', 'max', '(', '0.0', ',', '1.0', '-', '(', 'variance', '/', '100.0', ')', ')', '}']
    ğŸ“ Parsing 111 tokens into statements
  ğŸ” Parsing expression from tokens: ['history', '.', 'count', '(', ')', '<', '2', '{', 'return', '1.0']
  ğŸ” Parsing expression from tokens: ['2', '{', 'return', '1.0']
    ğŸ“ Found let statement: ['let', 'scores', '=', 'history', '.', 'map', '(', 'action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['history', '.', 'map', '(', 'action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'record', ')']
  ğŸ” Parsing expression from tokens: ['record']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'record', '.', 'score']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
    ğŸ“ Found let statement: ['let', 'mean', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['sum']
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'sum', '+', 'score']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [',', '0', ')', '/', 'scores', '.', 'count', '(', ')']
    ğŸ“ Found let statement: ['let', 'variance', '=', 'scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['scores', '.', 'reduce', '(', 'action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['action', '(', 'sum', ',', 'score', ')']
  ğŸ” Parsing expression from tokens: ['sum']
  ğŸ” Parsing expression from tokens: ['score']
  ğŸ” Parsing expression from tokens: ['{', 'return', 'sum', '+', '(', 'score', '-', 'mean', ')', '*', '(', 'score', '-', 'mean', ')']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [',', '0', ')', '/', 'scores', '.', 'count', '(', ')']
  ğŸ” Parsing expression from tokens: ['math', '.', 'max', '(', '0.0', ',', '1.0', '-', '(', 'variance', '/', '100.0', ')', ')']
  ğŸ” Parsing expression from tokens: ['0.0']
  ğŸ” Parsing expression from tokens: ['1.0', '-', '(', 'variance', '/', '100.0', ')']
  ğŸ” Parsing expression from tokens: ['(', 'variance', '/', '100.0', ')']
  ğŸ” Parsing expression from tokens: ['variance', '/', '100.0']
  ğŸ” Parsing expression from tokens: ['100.0']
    âœ… Parsed 11 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 482
  âœ… Parsed: BlockStatement at line 492
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 492
  âœ… Parsed: BlockStatement at line 494
  ğŸ”§ Populating empty BlockStatement from 83 tokens
    ğŸ“ Parsing 83 tokens into statements
    ğŸ“ Found action statement: ['action', 'format_time_ago', '(', 'timestamp', ':', 'integer', ')', '-', '>', 'string', '{', 'let', 'now', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'diff', '=', 'now', '-', 'timestamp', 'if', 'diff', '<', '60', ':', 'return', 'just now', 'if', 'diff', '<', '3600', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '60', ')', ')', '+', ' minutes ago', 'if', 'diff', '<', '86400', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '3600', ')', ')', '+', ' hours ago', 'return', 'string', '(', 'integer', '(', 'diff', '/', '86400', ')', ')', '+', ' days ago', '}']
    ğŸ“ Parsing 71 tokens into statements
    ğŸ“ Found let statement: ['let', 'now', '=', 'datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'diff', '=', 'now', '-', 'timestamp', 'if', 'diff', '<', '60', ':', 'return', 'just now', 'if', 'diff', '<', '3600', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '60', ')', ')', '+', ' minutes ago', 'if', 'diff', '<', '86400', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '3600', ')', ')', '+', ' hours ago', 'return', 'string', '(', 'integer', '(', 'diff', '/', '86400', ')', ')', '+', ' days ago']
  ğŸ” Parsing expression from tokens: ['datetime', '.', 'now', '(', ')', '.', 'timestamp', '(', ')', 'let', 'diff', '=', 'now', '-', 'timestamp', 'if', 'diff', '<', '60', ':', 'return', 'just now', 'if', 'diff', '<', '3600', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '60', ')', ')', '+', ' minutes ago', 'if', 'diff', '<', '86400', ':', 'return', 'string', '(', 'integer', '(', 'diff', '/', '3600', ')', ')', '+', ' hours ago', 'return', 'string', '(', 'integer', '(', 'diff', '/', '86400', ')', ')', '+', ' days ago']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 494
  âœ… Parsed: BlockStatement at line 502
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 502
  âœ… Parsed: BlockStatement at line 504
  ğŸ”§ Populating empty BlockStatement from 16 tokens
    ğŸ“ Parsing 16 tokens into statements
    ğŸ“ Found action statement: ['action', 'get_default_config', '(', ')', '-', '>', 'SCSConfig', '{', 'return', 'this', '.', 'app_configs', '[', 'default', ']', '}']
    ğŸ“ Parsing 7 tokens into statements
  ğŸ” Parsing expression from tokens: ['this', '.', 'app_configs', '[', 'default', ']']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 504
  âœ… Parsed: BlockStatement at line 506
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 506
  âœ… Parsed: BlockStatement at line 508
  ğŸ”§ Populating empty BlockStatement from 106 tokens
    ğŸ“ Parsing 106 tokens into statements
    ğŸ“ Found action statement: ['action', 'merge_configs', '(', 'default_config', ':', 'SCSConfig', ',', 'custom_config', ':', 'map', ')', '-', '>', 'SCSConfig', '{', 'return', 'SCSConfig', '{', 'min_points', ':', 'custom_config', '.', 'get', '(', 'min_points', ',', 'default_config', '.', 'min_points', ')', ',', 'max_points', ':', 'custom_config', '.', 'get', '(', 'max_points', ',', 'default_config', '.', 'max_points', ')', ',', 'daily_cap', ':', 'custom_config', '.', 'get', '(', 'daily_cap', ',', 'default_config', '.', 'daily_cap', ')', ',', 'activity_weights', ':', '{', '.', '.', '.', 'default_config', '.', 'activity_weights', ',', '.', '.', '.', 'custom_config', '.', 'get', '(', 'activity_weights', ',', '{', '}', ')', '}', ',', 'cooldown_periods', ':', '{', '.', '.', '.', 'default_config', '.', 'cooldown_periods', ',', '.', '.', '.', 'custom_config', '.', 'get', '(', 'cooldown_periods', ',', '{', '}', ')', '}', '}', '}']
    ğŸ“ Parsing 90 tokens into statements
  ğŸ” Parsing expression from tokens: ['SCSConfig', '{', 'min_points', ':', 'custom_config', '.', 'get', '(', 'min_points', ',', 'default_config', '.', 'min_points', ')', ',', 'max_points', ':', 'custom_config', '.', 'get', '(', 'max_points', ',', 'default_config', '.', 'max_points', ')', ',', 'daily_cap', ':', 'custom_config', '.', 'get', '(', 'daily_cap', ',', 'default_config', '.', 'daily_cap', ')', ',', 'activity_weights', ':', '{', '.', '.', '.', 'default_config', '.', 'activity_weights', ',', '.', '.', '.', 'custom_config', '.', 'get', '(', 'activity_weights', ',', '{', '}', ')', '}', ',', 'cooldown_periods', ':', '{', '.', '.', '.', 'default_config', '.', 'cooldown_periods', ',', '.', '.', '.', 'custom_config', '.', 'get', '(', 'cooldown_periods', ',', '{', '}', ')', '}']
    âœ… Parsed 1 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 508
  âœ… Parsed: BlockStatement at line 517
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 517
  âœ… Parsed: BlockStatement at line 519
  ğŸ”§ Populating empty BlockStatement from 44 tokens
    ğŸ“ Parsing 44 tokens into statements
    ğŸ“ Found action statement: ['action', 'validate_app_config', '(', 'config', ':', 'SCSConfig', ')', '-', '>', 'boolean', '{', 'if', 'config', '.', 'min_points', '<', '0', 'or', 'config', '.', 'max_points', '<', 'config', '.', 'min_points', '{', 'return', 'false', '}', 'if', 'config', '.', 'daily_cap', '<', 'config', '.', 'max_points', '{', 'return', 'false', '}', 'return', 'true', '}']
    ğŸ“ Parsing 32 tokens into statements
  ğŸ” Parsing expression from tokens: ['config', '.', 'min_points', '<', '0', 'or', 'config', '.', 'max_points', '<', 'config', '.', 'min_points', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['0', 'or', 'config', '.', 'max_points', '<', 'config', '.', 'min_points', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['config', '.', 'daily_cap', '<', 'config', '.', 'max_points', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['config', '.', 'max_points', '{', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 519
  âœ… Parsed: BlockStatement at line 527
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 527
  âœ… Parsed: BlockStatement at line 528
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 528
  âœ… Parsed: BlockStatement at line 531
  ğŸ”§ Populating empty BlockStatement from 171 tokens
    ğŸ“ Parsing 171 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_social_capital_system', '(', ')', '{', 'print', '(', 'ğŸ† Testing Social Capital Score System...', ')', 'let', 'scs', '=', 'SocialCapitalEngine', '(', ')', 'let', 'test_user', '=', 'ZIV_user_789', 'let', 'test_app', '=', 'ziver_dapp', 'scs', '.', 'register_app_config', '(', 'test_app', ',', '{', 'min_points', ':', '20', ',', 'max_points', ':', '150', ',', 'daily_cap', ':', '750', ',', 'activity_weights', ':', '{', 'login', ':', '10', ',', 'transaction', ':', '25', ',', 'governance_vote', ':', '40', '}', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'login', ',', 'test_app', ',', '{', 'bonus_reason', ':', '7-day streak', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'transaction', ',', 'test_app', ',', '{', 'transaction_value', ':', '5000', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'governance_vote', ',', 'test_app', ',', '{', 'proposal_id', ':', 'prop_123', '}', ')', 'let', 'score', '=', 'scs', '.', 'calculate_scs', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'Social Capital Score: ', '+', 'string', '(', 'score', ')', ')', 'let', 'explanation', '=', 'scs', '.', 'get_scs_explanation', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'SCS Explanation: ', '+', 'string', '(', 'explanation', ')', ')', 'let', 'history', '=', 'scs', '.', 'get_scs_history', '(', 'test_user', ',', '7', ')', 'print', '(', '7-day History: ', '+', 'string', '(', 'history', '.', 'summary', ')', ')', '}']
    ğŸ“ Parsing 164 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ† Testing Social Capital Score System...', ')', 'let', 'scs', '=', 'SocialCapitalEngine', '(', ')', 'let', 'test_user', '=', 'ZIV_user_789', 'let', 'test_app', '=', 'ziver_dapp', 'scs', '.', 'register_app_config', '(', 'test_app', ',']
  ğŸ” Parsing expression from tokens: ['{', 'min_points', ':', '20', ',', 'max_points', ':', '150', ',', 'daily_cap', ':', '750', ',', 'activity_weights', ':', '{', 'login', ':', '10', ',', 'transaction', ':', '25', ',', 'governance_vote', ':', '40', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['20']
  ğŸ—ºï¸ [Map] Added pair: min_points -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['150']
  ğŸ—ºï¸ [Map] Added pair: max_points -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['750']
  ğŸ—ºï¸ [Map] Added pair: daily_cap -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['{', 'login', ':', '10']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['10']
  ğŸ—ºï¸ [Map] Added pair: login -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 1 pairs
  ğŸ—ºï¸ [Map] Added pair: activity_weights -> MapLiteral
  ğŸ” Parsing expression from tokens: ['25']
  ğŸ—ºï¸ [Map] Added pair: transaction -> IntegerLiteral
  ğŸ” Parsing expression from tokens: ['40']
  ğŸ—ºï¸ [Map] Added pair: governance_vote -> IntegerLiteral
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
  ğŸ” Parsing expression from tokens: [')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'login', ',', 'test_app', ',', '{', 'bonus_reason', ':', '7-day streak', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'transaction', ',', 'test_app', ',', '{', 'transaction_value', ':', '5000', '}', ')', 'scs', '.', 'record_activity', '(', 'test_user', ',', 'governance_vote', ',', 'test_app', ',', '{', 'proposal_id', ':', 'prop_123', '}', ')']
    ğŸ“ Found let statement: ['let', 'score', '=', 'scs', '.', 'calculate_scs', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'Social Capital Score: ', '+', 'string', '(', 'score', ')', ')', 'let', 'explanation', '=', 'scs', '.', 'get_scs_explanation', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'SCS Explanation: ', '+', 'string', '(', 'explanation', ')', ')', 'let', 'history', '=', 'scs', '.', 'get_scs_history', '(', 'test_user', ',', '7', ')', 'print', '(', '7-day History: ', '+', 'string', '(', 'history', '.', 'summary', ')', ')']
  ğŸ” Parsing expression from tokens: ['scs', '.', 'calculate_scs', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'Social Capital Score: ', '+', 'string', '(', 'score', ')', ')', 'let', 'explanation', '=', 'scs', '.', 'get_scs_explanation', '(', 'test_user', ',', 'test_app', ')', 'print', '(', 'SCS Explanation: ', '+', 'string', '(', 'explanation', ')', ')', 'let', 'history', '=', 'scs', '.', 'get_scs_history', '(', 'test_user', ',', '7', ')', 'print', '(', '7-day History: ', '+', 'string', '(', 'history', '.', 'summary', ')', ')']
  ğŸ” Parsing expression from tokens: ['test_user']
  ğŸ” Parsing expression from tokens: ['test_app']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 531
  âœ… Parsed: BlockStatement at line 566
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 566
  âœ… Parsed: BlockStatement at line 568
  ğŸ”§ Populating empty BlockStatement from 18 tokens
    ğŸ“ Parsing 18 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'SocialCapitalEngine', ',', 'SCSSystem', ',', 'test_social_capital_system', ',', 'register_app_config', ',', 'calculate_scs', ',', 'get_scs_explanation', ',', 'record_activity', ',', 'get_scs_history', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 568
  âœ… Parsed: BlockStatement at line 577
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 577
âœ… Parsing Complete: 73 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/use_statement @ 0-3: ['use', 'datetime', 'as', 'datetime']
  [1] statement/entity_statement @ 4-21: ['entity', 'ChainInfo', '{', 'chain_id', ':', 'integer', 'rpc_url', ':', 'string', 'bridge_address', ':', 'string', 'is_active', ':', 'boolean', '=', 'true', '}']
  [2] statement/contract_statement @ 22-571: ['contract', 'CrossChainBridge', '{', 'persistent', 'storage', 'supported_chains', ':', 'map', 'persistent', 'storage', 'bridge_fees', ':', 'map', 'persistent', 'storage', 'bridge_contracts', ':', 'map', 'action', 'init', '(', ')', '{', '\n        Initialize bridge with supported chains\n        ', 'this', '.', 'supported_chains', '[', 'ZIVER', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '12345', ',', 'rpc_url', ':', 'http://localhost:8545', ',', 'bridge_address', ':', 'ZIV_bridge_001', '}', 'this', '.', 'supported_chains', '[', 'ETHEREUM', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '5', ',', 'rpc_url', ':', 'https://goerli.infura.io/v3/', ',', 'bridge_address', ':', '0xBridgeEthereum', '}', 'this', '.', 'supported_chains', '[', 'BSC', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '97', ',', 'rpc_url', ':', 'https://data-seed-prebsc-1-s1.binance.org:8545/', ',', 'bridge_address', ':', '0xBridgeBSC', '}', 'this', '.', 'supported_chains', '[', 'TON', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '1', ',', 'rpc_url', ':', 'https://ton-testnet.com', ',', 'bridge_address', ':', 'EQBridgeTON', '}', 'this', '.', 'bridge_fees', '[', 'ZIVER', ']', '=', '10', 'this', '.', 'bridge_fees', '[', 'ETHEREUM', ']', '=', '50000', 'this', '.', 'bridge_fees', '[', 'BSC', ']', '=', '10000', 'this', '.', 'bridge_fees', '[', 'TON', ']', '=', '100', 'print', '(', 'ğŸŒ‰ Cross-chain bridge initialized', ')', '}', 'action', 'bridge_assets', '(', 'source_chain', ':', 'string', ',', 'target_chain', ':', 'string', ',', 'wallet', ':', 'string', ',', 'amount', ':', 'integer', ',', 'token_address', ':', 'string', '?', ')', '-', '>', 'boolean', '{', '\n        Bridge assets between chains\n        ', 'if', 'not', 'this', '.', 'supported_chains', '.', 'has', '(', 'source_chain', ')', 'or', 'not', 'this', '.', 'supported_chains', '.', 'has', '(', 'target_chain', ')', '{', 'print', '(', 'âŒ Unsupported chain', ')', 'return', 'false', '}', 'let', 'source_info', '=', 'this', '.', 'supported_chains', '[', 'source_chain', ']', 'let', 'target_info', '=', 'this', '.', 'supported_chains', '[', 'target_chain', ']', 'if', 'not', 'source_info', '.', 'is_active', 'or', 'not', 'target_info', '.', 'is_active', '{', 'print', '(', 'âŒ Chain not active', ')', 'return', 'false', '}', 'let', 'fee', '=', 'this', '.', 'bridge_fees', '.', 'get', '(', 'target_chain', ',', '0', ')', 'print', '(', 'ğŸŒ‰ Bridging from ', '+', 'source_chain', '+', ' to ', '+', 'target_chain', ')', 'print', '(', '  Amount: ', '+', 'string', '(', 'amount', ')', ')', 'print', '(', '  Fee: ', '+', 'string', '(', 'fee', ')', ')', 'print', '(', '  Wallet: ', '+', 'wallet', ')', 'this', '.', 'simulate_bridge_process', '(', 'source_chain', ',', 'target_chain', ',', 'wallet', ',', 'amount', ',', 'token_address', ')', 'return', 'true', '}', 'action', 'async', 'simulate_bridge_process', '(', 'source_chain', ':', 'string', ',', 'target_chain', ':', 'string', ',', 'wallet', ':', 'string', ',', 'amount', ':', 'integer', ',', 'token_address', ':', 'string', '?', ')', '{', '\n        Simulate the bridge process (placeholder for actual implementation)\n        ', 'print', '(', '  ğŸ”’ Locking assets on ', '+', 'source_chain', ')', 'await', 'sleep', '(', '2', ')', 'print', '(', '  ğŸ“¨ Emitting bridge event', ')', 'await', 'sleep', '(', '1', ')', 'print', '(', '  ğŸ”— Relaying to ', '+', 'target_chain', ')', 'await', 'sleep', '(', '3', ')', 'print', '(', '  ğŸª™ Minting assets on ', '+', 'target_chain', ')', 'await', 'sleep', '(', '1', ')', 'print', '(', '  âœ… Bridge completed: ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')', '}', 'action', 'add_supported_chain', '(', 'chain', ':', 'string', ',', 'chain_info', ':', 'ChainInfo', ')', '{', '\n        Add new supported chain\n        ', 'if', 'this', '.', 'supported_chains', '.', 'has', '(', 'chain', ')', '{', 'print', '(', 'âš ï¸ Chain already supported', ')', 'return', '}', 'this', '.', 'supported_chains', '[', 'chain', ']', '=', 'chain_info', 'print', '(', 'âœ… Added supported chain: ', '+', 'chain', ')', '}', 'action', 'set_bridge_fee', '(', 'chain', ':', 'string', ',', 'fee', ':', 'integer', ')', '{', '\n        Set bridge fee for a chain\n        ', 'this', '.', 'bridge_fees', '[', 'chain', ']', '=', 'fee', 'print', '(', 'ğŸ’° Bridge fee for ', '+', 'chain', '+', ' set to: ', '+', 'string', '(', 'fee', ')', ')', '}', 'action', 'get_bridge_quote', '(', 'source_chain', ':', 'string', ',', 'target_chain', ':', 'string', ',', 'amount', ':', 'integer', ')', '-', '>', 'map', '{', '\n        Get bridge quote with estimated fees and time\n        ', 'let', 'fee', '=', 'this', '.', 'bridge_fees', '.', 'get', '(', 'target_chain', ',', '0', ')', 'let', 'estimated_time', '=', '180', 'return', '{', 'source_chain', ':', 'source_chain', ',', 'target_chain', ':', 'target_chain', ',', 'amount', ':', 'amount', ',', 'fee', ':', 'fee', ',', 'estimated_time_seconds', ':', 'estimated_time', ',', 'total_received', ':', 'amount', '-', 'fee', '}', '}', 'action', 'async', 'sleep', '(', 'seconds', ':', 'integer', ')', '{', '}', '}']
  [3] statement/ACTION @ 572-625: ['action', 'async', 'test_cross_chain_bridge', '(', ')', '{', 'print', '(', 'ğŸŒ‰ Testing Cross-Chain Bridge...', ')', 'let', 'bridge', '=', 'CrossChainBridge', '{', '}', 'let', 'quote', '=', 'bridge', '.', 'get_bridge_quote', '(', 'ZIVER', ',', 'ETHEREUM', ',', '1000', ')', 'print', '(', 'ğŸ’° Bridge Quote: ', '+', 'string', '(', 'quote', ')', ')', 'await', 'bridge', '.', 'bridge_assets', '(', 'ZIVER', ',', 'ETHEREUM', ',', 'ZIV_user_123', ',', '500', ',', 'null', ')', '}']
  [4] statement/} @ 625-625: ['}']
  [5] statement/EXPORT @ 626-633: ['export', '{', 'CrossChainBridge', ',', 'ChainInfo', ',', 'test_cross_chain_bridge', '}']
  [6] statement/} @ 633-634: ['}']
ğŸ”§ Parsing 7 top-level blocks...
  âœ… Parsed: BlockStatement at line 7
  ğŸ”§ Populating empty BlockStatement from 4 tokens
    ğŸ“ Parsing 4 tokens into statements
    ğŸ“ Found use statement (heuristic): ['use', 'datetime', 'as', 'datetime']
    ğŸ“ Found use statement: ['use', 'datetime', 'as', 'datetime']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 7
ğŸ”§ [Context] Parsing entity statement
  ğŸ“ Entity: ChainInfo
  ğŸ“ Found property name: chain_id
  ğŸ“ Property: chain_id: integer
  ğŸ“ Found property name: rpc_url
  ğŸ“ Property: rpc_url: string
  ğŸ“ Found property name: bridge_address
  ğŸ“ Property: bridge_address: string
  ğŸ“ Found property name: is_active
  ğŸ“ Property: is_active: boolean
  âœ… Parsed: EntityStatement at line 9
  âœ… Parsed: EntityStatement at line 9
ğŸ”§ [Context] Parsing contract statement
  ğŸ“ Contract Name: CrossChainBridge
    ğŸ“ Parsing 123 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Initialize bridge with supported chains\n        ', '', 'this', '.', 'supported_chains', '[', 'ZIVER', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '12345', ',', 'rpc_url', ':', 'http://localhost:8545', ',', 'bridge_address', ':', 'ZIV_bridge_001']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '[', 'ETHEREUM', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '5', ',', 'rpc_url', ':', 'https://goerli.infura.io/v3/', ',', 'bridge_address', ':', '0xBridgeEthereum']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '[', 'BSC', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '97', ',', 'rpc_url', ':', 'https://data-seed-prebsc-1-s1.binance.org:8545/', ',', 'bridge_address', ':', '0xBridgeBSC']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '[', 'TON', ']', '=', 'ChainInfo', '{', 'chain_id', ':', '1', ',', 'rpc_url', ':', 'https://ton-testnet.com', ',', 'bridge_address', ':', 'EQBridgeTON']
  ğŸ” Parsing expression from tokens: ['this', '.', 'bridge_fees', '[', 'ZIVER', ']', '=', '10', 'this', '.', 'bridge_fees', '[', 'ETHEREUM', ']', '=', '50000', 'this', '.', 'bridge_fees', '[', 'BSC', ']', '=', '10000', 'this', '.', 'bridge_fees', '[', 'TON', ']', '=', '100']
    ğŸ“ Found print statement: ['print', '(', 'ğŸŒ‰ Cross-chain bridge initialized', ')']
    âœ… Parsed 6 statements from block
  âš¡ Found Contract Action: init
    ğŸ“ Parsing 130 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Bridge assets between chains\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'supported_chains', '.', 'has', '(', 'source_chain', ')', 'or', 'not', 'this', '.', 'supported_chains', '.', 'has', '(', 'target_chain', ')', '{', 'print', '(', 'âŒ Unsupported chain', ')', 'return', 'false']
    ğŸ“ Found let statement: ['let', 'source_info', '=', 'this', '.', 'supported_chains', '[', 'source_chain', ']', 'let', 'target_info', '=', 'this', '.', 'supported_chains', '[', 'target_chain', ']', 'if', 'not', 'source_info', '.', 'is_active', 'or', 'not', 'target_info', '.', 'is_active']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '[', 'source_chain', ']', 'let', 'target_info', '=', 'this', '.', 'supported_chains', '[', 'target_chain', ']', 'if', 'not', 'source_info', '.', 'is_active', 'or', 'not', 'target_info', '.', 'is_active']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Chain not active', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'fee', '=', 'this', '.', 'bridge_fees', '.', 'get', '(', 'target_chain', ',', '0', ')', 'print', '(', 'ğŸŒ‰ Bridging from ', '+', 'source_chain', '+', ' to ', '+', 'target_chain', ')', 'print', '(', '  Amount: ', '+', 'string', '(', 'amount', ')', ')', 'print', '(', '  Fee: ', '+', 'string', '(', 'fee', ')', ')', 'print', '(', '  Wallet: ', '+', 'wallet', ')', 'this', '.', 'simulate_bridge_process', '(', 'source_chain', ',', 'target_chain', ',', 'wallet', ',', 'amount', ',', 'token_address', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['this', '.', 'bridge_fees', '.', 'get', '(', 'target_chain', ',', '0', ')', 'print', '(', 'ğŸŒ‰ Bridging from ', '+', 'source_chain', '+', ' to ', '+', 'target_chain', ')', 'print', '(', '  Amount: ', '+', 'string', '(', 'amount', ')', ')', 'print', '(', '  Fee: ', '+', 'string', '(', 'fee', ')', ')', 'print', '(', '  Wallet: ', '+', 'wallet', ')', 'this', '.', 'simulate_bridge_process', '(', 'source_chain', ',', 'target_chain', ',', 'wallet', ',', 'amount', ',', 'token_address', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['target_chain']
  ğŸ” Parsing expression from tokens: ['0']
    âœ… Parsed 5 statements from block
  âš¡ Found Contract Action: bridge_assets
    ğŸ“ Parsing 55 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Simulate the bridge process (placeholder for actual implementation)\n        ', '']
    ğŸ“ Found print statement: ['print', '(', '  ğŸ”’ Locking assets on ', '+', 'source_chain', ')', 'await', 'sleep', '(', '2', ')', 'print', '(', '  ğŸ“¨ Emitting bridge event', ')', 'await', 'sleep', '(', '1', ')', 'print', '(', '  ğŸ”— Relaying to ', '+', 'target_chain', ')', 'await', 'sleep', '(', '3', ')', 'print', '(', '  ğŸª™ Minting assets on ', '+', 'target_chain', ')', 'await', 'sleep', '(', '1', ')', 'print', '(', '  âœ… Bridge completed: ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')']
    âœ… Parsed 2 statements from block
  âš¡ Found Contract Action: anonymous
    ğŸ“ Parsing 33 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Add new supported chain\n        ', '']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '.', 'has', '(', 'chain', ')', '{', 'print', '(', 'âš ï¸ Chain already supported', ')', 'return']
  ğŸ” Parsing expression from tokens: ['chain']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '[', 'chain', ']', '=', 'chain_info']
    ğŸ“ Found print statement: ['print', '(', 'âœ… Added supported chain: ', '+', 'chain', ')']
    âœ… Parsed 4 statements from block
  âš¡ Found Contract Action: add_supported_chain
    ğŸ“ Parsing 24 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Set bridge fee for a chain\n        ', '', 'this', '.', 'bridge_fees', '[', 'chain', ']', '=', 'fee']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ’° Bridge fee for ', '+', 'chain', '+', ' set to: ', '+', 'string', '(', 'fee', ')', ')']
    âœ… Parsed 2 statements from block
  âš¡ Found Contract Action: set_bridge_fee
    ğŸ“ Parsing 48 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get bridge quote with estimated fees and time\n        ', '']
    ğŸ“ Found let statement: ['let', 'fee', '=', 'this', '.', 'bridge_fees', '.', 'get', '(', 'target_chain', ',', '0', ')', 'let', 'estimated_time', '=', '180', 'return']
  ğŸ” Parsing expression from tokens: ['this', '.', 'bridge_fees', '.', 'get', '(', 'target_chain', ',', '0', ')', 'let', 'estimated_time', '=', '180', 'return']
  ğŸ” Parsing expression from tokens: ['target_chain']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['{', 'source_chain', ':', 'source_chain', ',', 'target_chain', ':', 'target_chain', ',', 'amount', ':', 'amount', ',', 'fee', ':', 'fee', ',', 'estimated_time_seconds', ':', 'estimated_time', ',', 'total_received', ':', 'amount', '-', 'fee']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ” Parsing expression from tokens: ['source_chain']
  ğŸ—ºï¸ [Map] Added pair: source_chain -> Identifier
  ğŸ” Parsing expression from tokens: ['target_chain']
  ğŸ—ºï¸ [Map] Added pair: target_chain -> Identifier
  ğŸ” Parsing expression from tokens: ['amount']
  ğŸ—ºï¸ [Map] Added pair: amount -> Identifier
  ğŸ” Parsing expression from tokens: ['fee']
  ğŸ—ºï¸ [Map] Added pair: fee -> Identifier
  ğŸ” Parsing expression from tokens: ['estimated_time']
  ğŸ—ºï¸ [Map] Added pair: estimated_time_seconds -> Identifier
  ğŸ” Parsing expression from tokens: ['amount', '-', 'fee']
  ğŸ” Parsing expression from tokens: ['fee']
  ğŸ—ºï¸ [Map] Added pair: total_received -> InfixExpression
  ğŸ—ºï¸ [Map] Successfully parsed map with 6 pairs
    âœ… Parsed 3 statements from block
  âš¡ Found Contract Action: get_bridge_quote
  âš¡ Found Contract Action: anonymous
  âš¡ Injecting .name property for runtime compatibility: CrossChainBridge
  âœ… Parsed: ContractStatement at line 16
  âœ… Parsed: ContractStatement at line 16
  âœ… Parsed: BlockStatement at line 162
  ğŸ”§ Populating empty BlockStatement from 54 tokens
    ğŸ“ Parsing 54 tokens into statements
    ğŸ“ Found action statement: ['action', 'async', 'test_cross_chain_bridge', '(', ')', '{', 'print', '(', 'ğŸŒ‰ Testing Cross-Chain Bridge...', ')', 'let', 'bridge', '=', 'CrossChainBridge', '{', '}', 'let', 'quote', '=', 'bridge', '.', 'get_bridge_quote', '(', 'ZIVER', ',', 'ETHEREUM', ',', '1000', ')', 'print', '(', 'ğŸ’° Bridge Quote: ', '+', 'string', '(', 'quote', ')', ')', 'await', 'bridge', '.', 'bridge_assets', '(', 'ZIVER', ',', 'ETHEREUM', ',', 'ZIV_user_123', ',', '500', ',', 'null', ')', '}']
    ğŸ“ Parsing 47 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸŒ‰ Testing Cross-Chain Bridge...', ')', 'let', 'bridge', '=', 'CrossChainBridge']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'quote', '=', 'bridge', '.', 'get_bridge_quote', '(', 'ZIVER', ',', 'ETHEREUM', ',', '1000', ')', 'print', '(', 'ğŸ’° Bridge Quote: ', '+', 'string', '(', 'quote', ')', ')', 'await', 'bridge', '.', 'bridge_assets', '(', 'ZIVER', ',', 'ETHEREUM', ',', 'ZIV_user_123', ',', '500', ',', 'null', ')']
  ğŸ” Parsing expression from tokens: ['bridge', '.', 'get_bridge_quote', '(', 'ZIVER', ',', 'ETHEREUM', ',', '1000', ')', 'print', '(', 'ğŸ’° Bridge Quote: ', '+', 'string', '(', 'quote', ')', ')', 'await', 'bridge', '.', 'bridge_assets', '(', 'ZIVER', ',', 'ETHEREUM', ',', 'ZIV_user_123', ',', '500', ',', 'null', ')']
  ğŸ” Parsing expression from tokens: ['ZIVER']
  ğŸ” Parsing expression from tokens: ['ETHEREUM']
  ğŸ” Parsing expression from tokens: ['1000']
    âœ… Parsed 3 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 162
  âœ… Parsed: BlockStatement at line 172
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 172
  âœ… Parsed: BlockStatement at line 174
  ğŸ”§ Populating empty BlockStatement from 8 tokens
    ğŸ“ Parsing 8 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'CrossChainBridge', ',', 'ChainInfo', ',', 'test_cross_chain_bridge', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 174
  âœ… Parsed: BlockStatement at line 178
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 178
âœ… Parsing Complete: 7 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/contract_statement @ 0-772: ['contract', 'ZRC20Token', '{', 'persistent', 'storage', 'name', ':', 'string', 'persistent', 'storage', 'symbol', ':', 'string', 'persistent', 'storage', 'decimals', ':', 'integer', '=', '18', 'persistent', 'storage', 'total_supply', ':', 'integer', 'persistent', 'storage', 'balances', ':', 'map', 'persistent', 'storage', 'allowances', ':', 'map', 'persistent', 'storage', 'owner', ':', 'string', 'action', 'init', '(', 'token_name', ':', 'string', ',', 'token_symbol', ':', 'string', ',', 'initial_supply', ':', 'integer', ',', 'token_owner', ':', 'string', ')', '{', '\n        Initialize token\n        ', 'this', '.', 'name', '=', 'token_name', 'this', '.', 'symbol', '=', 'token_symbol', 'this', '.', 'total_supply', '=', 'initial_supply', 'this', '.', 'owner', '=', 'token_owner', 'this', '.', 'balances', '[', 'token_owner', ']', '=', 'initial_supply', 'this', '.', 'allowances', '=', '{', '}', 'print', '(', 'ğŸª™ Token created: ', '+', 'token_name', '+', ' (', '+', 'token_symbol', '+', ')', ')', 'print', '(', '  Total Supply: ', '+', 'string', '(', 'initial_supply', ')', ')', 'print', '(', '  Owner: ', '+', 'token_owner', ')', 'this', '.', 'Transfer', '(', '0x0', ',', 'token_owner', ',', 'initial_supply', ')', '}', 'action', 'transfer', '(', 'to', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Transfer tokens to another address\n        ', 'let', 'from', '=', 'context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'if', 'from_balance', '<', 'value', '{', 'print', '(', 'âŒ Insufficient balance', ')', 'return', 'false', '}', 'if', 'value', '<=', '0', '{', 'print', '(', 'âŒ Invalid amount', ')', 'return', 'false', '}', 'this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'this', '.', 'Transfer', '(', 'from', ',', 'to', ',', 'value', ')', 'return', 'true', '}', 'action', 'transfer_from', '(', 'from', ':', 'string', ',', 'to', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Transfer tokens on behalf of another address\n        ', 'let', 'spender', '=', 'context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'let', 'allowance_map', '=', 'this', '.', 'allowances', '.', 'get', '(', 'from', ',', '{', '}', ')', 'let', 'allowance', '=', 'allowance_map', '.', 'get', '(', 'spender', ',', '0', ')', 'if', 'from_balance', '<', 'value', '{', 'print', '(', 'âŒ Insufficient balance', ')', 'return', 'false', '}', 'if', 'allowance', '<', 'value', '{', 'print', '(', 'âŒ Insufficient allowance', ')', 'return', 'false', '}', 'this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'allowance_map', '[', 'spender', ']', '=', 'allowance', '-', 'value', 'this', '.', 'allowances', '[', 'from', ']', '=', 'allowance_map', 'this', '.', 'Transfer', '(', 'from', ',', 'to', ',', 'value', ')', 'return', 'true', '}', 'action', 'approve', '(', 'spender', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Approve spender to transfer tokens\n        ', 'let', 'owner', '=', 'context.caller', 'if', 'not', 'this', '.', 'allowances', '.', 'has', '(', 'owner', ')', '{', 'this', '.', 'allowances', '[', 'owner', ']', '=', '{', '}', '}', 'let', 'owner_allowances', '=', 'this', '.', 'allowances', '[', 'owner', ']', 'owner_allowances', '[', 'spender', ']', '=', 'value', 'this', '.', 'Approval', '(', 'owner', ',', 'spender', ',', 'value', ')', 'return', 'true', '}', 'action', 'balance_of', '(', 'owner', ':', 'string', ')', '-', '>', 'integer', '{', '\n        Get token balance of address\n        ', 'return', 'this', '.', 'balances', '.', 'get', '(', 'owner', ',', '0', ')', '}', 'action', 'allowance', '(', 'owner', ':', 'string', ',', 'spender', ':', 'string', ')', '-', '>', 'integer', '{', '\n        Get remaining allowance\n        ', 'if', 'not', 'this', '.', 'allowances', '.', 'has', '(', 'owner', ')', '{', 'return', '0', '}', 'let', 'owner_allowances', '=', 'this', '.', 'allowances', '[', 'owner', ']', 'return', 'owner_allowances', '.', 'get', '(', 'spender', ',', '0', ')', '}', 'action', 'mint', '(', 'to', ':', 'string', ',', 'value', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Mint new tokens (only owner)\n        ', 'let', 'caller', '=', 'context.caller', 'if', 'caller', '!=', 'this', '.', 'owner', '{', 'print', '(', 'âŒ Only owner can mint', ')', 'return', 'false', '}', 'this', '.', 'total_supply', '+', '=', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'this', '.', 'Transfer', '(', '0x0', ',', 'to', ',', 'value', ')', 'print', '(', 'ğŸ†• Minted ', '+', 'string', '(', 'value', ')', '+', ' tokens to ', '+', 'to', ')', 'return', 'true', '}', 'action', 'burn', '(', 'value', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Burn tokens\n        ', 'let', 'from', '=', 'context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'if', 'from_balance', '<', 'value', '{', 'print', '(', 'âŒ Insufficient balance to burn', ')', 'return', 'false', '}', 'this', '.', 'total_supply', '-', '=', 'value', 'this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'Transfer', '(', 'from', ',', '0x0', ',', 'value', ')', 'print', '(', 'ğŸ”¥ Burned ', '+', 'string', '(', 'value', ')', '+', ' tokens from ', '+', 'from', ')', 'return', 'true', '}', 'action', 'Transfer', '(', 'from', ':', 'string', ',', 'to', ':', 'string', ',', 'value', ':', 'integer', ')', '{', 'print', '(', 'ğŸ”„ Transfer: ', '+', 'from', '+', ' â†’ ', '+', 'to', '+', ' (', '+', 'string', '(', 'value', ')', '+', ')', ')', '}', 'action', 'Approval', '(', 'owner', ':', 'string', ',', 'spender', ':', 'string', ',', 'value', ':', 'integer', ')', '{', 'print', '(', 'âœ… Approval: ', '+', 'owner', '+', ' allows ', '+', 'spender', '+', ' to spend ', '+', 'string', '(', 'value', ')', ')', '}', '}']
  [1] statement/ACTION @ 773-844: ['action', 'test_zrc20_token_standard', '(', ')', '{', 'print', '(', 'ğŸª™ Testing ZRC-20 Token Standard...', ')', 'let', 'my_token', '=', 'ZRC20Token', '{', '}', 'my_token', '.', 'init', '(', 'Ziver Test Token', ',', 'ZTT', ',', '1000000', ',', 'ZIV_owner_123', ')', 'my_token', '.', 'transfer', '(', 'ZIV_user_456', ',', '500', ')', 'my_token', '.', 'approve', '(', 'ZIV_spender_789', ',', '300', ')', 'print', '(', 'Owner balance: ', '+', 'string', '(', 'my_token', '.', 'balance_of', '(', 'ZIV_owner_123', ')', ')', ')', 'print', '(', 'User balance: ', '+', 'string', '(', 'my_token', '.', 'balance_of', '(', 'ZIV_user_456', ')', ')', ')', '}']
  [2] statement/} @ 844-844: ['}']
  [3] statement/EXPORT @ 845-850: ['export', '{', 'ZRC20Token', ',', 'test_zrc20_token_standard', '}']
  [4] statement/} @ 850-851: ['}']
ğŸ”§ Parsing 5 top-level blocks...
ğŸ”§ [Context] Parsing contract statement
  ğŸ“ Contract Name: ZRC20Token
    ğŸ“ Parsing 74 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Initialize token\n        ', '', 'this', '.', 'name', '=', 'token_name', 'this', '.', 'symbol', '=', 'token_symbol', 'this', '.', 'total_supply', '=', 'initial_supply', 'this', '.', 'owner', '=', 'token_owner', 'this', '.', 'balances', '[', 'token_owner', ']', '=', 'initial_supply', 'this', '.', 'allowances', '=', '{']
    ğŸ“ Found print statement: ['print', '(', 'ğŸª™ Token created: ', '+', 'token_name', '+', ' (', '+', 'token_symbol', '+', ')', ')', 'print', '(', '  Total Supply: ', '+', 'string', '(', 'initial_supply', ')', ')', 'print', '(', '  Owner: ', '+', 'token_owner', ')', 'this', '.', 'Transfer', '(', '0x0', ',', 'token_owner', ',', 'initial_supply', ')']
    âœ… Parsed 2 statements from block
  âš¡ Found Contract Action: init
    ğŸ“ Parsing 85 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Transfer tokens to another address\n        ', '']
    ğŸ“ Found let statement: ['let', 'from', '=', 'context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'if', 'from_balance', '<', 'value']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Insufficient balance', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['value', '<=', '0', '{', 'print', '(', 'âŒ Invalid amount', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['0', '{', 'print', '(', 'âŒ Invalid amount', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'this', '.', 'Transfer', '(', 'from', ',', 'to', ',', 'value', ')']
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 5 statements from block
  âš¡ Found Contract Action: transfer
    ğŸ“ Parsing 126 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Transfer tokens on behalf of another address\n        ', '']
    ğŸ“ Found let statement: ['let', 'spender', '=', 'context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'let', 'allowance_map', '=', 'this', '.', 'allowances', '.', 'get', '(', 'from', ',']
  ğŸ” Parsing expression from tokens: ['context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'let', 'allowance_map', '=', 'this', '.', 'allowances', '.', 'get', '(', 'from', ',']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: [')']
    ğŸ“ Found let statement: ['let', 'allowance', '=', 'allowance_map', '.', 'get', '(', 'spender', ',', '0', ')', 'if', 'from_balance', '<', 'value']
  ğŸ” Parsing expression from tokens: ['allowance_map', '.', 'get', '(', 'spender', ',', '0', ')', 'if', 'from_balance', '<', 'value']
  ğŸ” Parsing expression from tokens: ['spender']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Insufficient balance', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['allowance', '<', 'value', '{', 'print', '(', 'âŒ Insufficient allowance', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['value', '{', 'print', '(', 'âŒ Insufficient allowance', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'allowance_map', '[', 'spender', ']', '=', 'allowance', '-', 'value', 'this', '.', 'allowances', '[', 'from', ']', '=', 'allowance_map', 'this', '.', 'Transfer', '(', 'from', ',', 'to', ',', 'value', ')']
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 9 statements from block
  âš¡ Found Contract Action: transfer_from
    ğŸ“ Parsing 55 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Approve spender to transfer tokens\n        ', '']
    ğŸ“ Found let statement: ['let', 'owner', '=', 'context.caller', 'if', 'not', 'this', '.', 'allowances', '.', 'has', '(', 'owner', ')']
  ğŸ” Parsing expression from tokens: ['context.caller', 'if', 'not', 'this', '.', 'allowances', '.', 'has', '(', 'owner', ')']
  ğŸ” Parsing expression from tokens: ['{', 'this', '.', 'allowances', '[', 'owner', ']', '=', '{', '}']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
    ğŸ“ Found let statement: ['let', 'owner_allowances', '=', 'this', '.', 'allowances', '[', 'owner', ']', 'owner_allowances', '[', 'spender', ']', '=', 'value', 'this', '.', 'Approval', '(', 'owner', ',', 'spender', ',', 'value', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['this', '.', 'allowances', '[', 'owner', ']', 'owner_allowances', '[', 'spender', ']', '=', 'value', 'this', '.', 'Approval', '(', 'owner', ',', 'spender', ',', 'value', ')', 'return', 'true']
    âœ… Parsed 4 statements from block
  âš¡ Found Contract Action: approve
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get token balance of address\n        ', '']
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '.', 'get', '(', 'owner', ',', '0', ')']
  ğŸ” Parsing expression from tokens: ['owner']
  ğŸ” Parsing expression from tokens: ['0']
    âœ… Parsed 2 statements from block
  âš¡ Found Contract Action: balance_of
    ğŸ“ Parsing 35 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get remaining allowance\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'allowances', '.', 'has', '(', 'owner', ')', '{', 'return', '0']
    ğŸ“ Found let statement: ['let', 'owner_allowances', '=', 'this', '.', 'allowances', '[', 'owner', ']', 'return', 'owner_allowances', '.', 'get', '(', 'spender', ',', '0', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'allowances', '[', 'owner', ']', 'return', 'owner_allowances', '.', 'get', '(', 'spender', ',', '0', ')']
    âœ… Parsed 3 statements from block
  âš¡ Found Contract Action: allowance
    ğŸ“ Parsing 71 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Mint new tokens (only owner)\n        ', '']
    ğŸ“ Found let statement: ['let', 'caller', '=', 'context.caller', 'if', 'caller', '!=', 'this', '.', 'owner']
  ğŸ” Parsing expression from tokens: ['context.caller', 'if', 'caller', '!=', 'this', '.', 'owner']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Only owner can mint', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'total_supply', '+', '=', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'this', '.', 'Transfer', '(', '0x0', ',', 'to', ',', 'value', ')']
  ğŸ” Parsing expression from tokens: ['=', 'value', 'this', '.', 'balances', '[', 'to', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'to', ',', '0', ')', '+', 'value', 'this', '.', 'Transfer', '(', '0x0', ',', 'to', ',', 'value', ')']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ†• Minted ', '+', 'string', '(', 'value', ')', '+', ' tokens to ', '+', 'to', ')', 'return', 'true']
    âœ… Parsed 5 statements from block
  âš¡ Found Contract Action: mint
    ğŸ“ Parsing 73 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Burn tokens\n        ', '']
    ğŸ“ Found let statement: ['let', 'from', '=', 'context.caller', 'let', 'from_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'from', ',', '0', ')', 'if', 'from_balance', '<', 'value']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Insufficient balance to burn', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'total_supply', '-', '=', 'value', 'this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'Transfer', '(', 'from', ',', '0x0', ',', 'value', ')']
  ğŸ” Parsing expression from tokens: ['=', 'value', 'this', '.', 'balances', '[', 'from', ']', '=', 'from_balance', '-', 'value', 'this', '.', 'Transfer', '(', 'from', ',', '0x0', ',', 'value', ')']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”¥ Burned ', '+', 'string', '(', 'value', ')', '+', ' tokens from ', '+', 'from', ')', 'return', 'true']
    âœ… Parsed 4 statements from block
  âš¡ Found Contract Action: burn
    ğŸ“ Parsing 19 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸ”„ Transfer: ', '+', 'from', '+', ' â†’ ', '+', 'to', '+', ' (', '+', 'string', '(', 'value', ')', '+', ')', ')']
    âœ… Parsed 1 statements from block
  âš¡ Found Contract Action: Transfer
    ğŸ“ Parsing 17 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'âœ… Approval: ', '+', 'owner', '+', ' allows ', '+', 'spender', '+', ' to spend ', '+', 'string', '(', 'value', ')', ')']
    âœ… Parsed 1 statements from block
  âš¡ Found Contract Action: Approval
  âœ… Parsed: ContractStatement at line 7
  âœ… Parsed: ContractStatement at line 7
  âœ… Parsed: BlockStatement at line 185
  ğŸ”§ Populating empty BlockStatement from 72 tokens
    ğŸ“ Parsing 72 tokens into statements
    ğŸ“ Found action statement: ['action', 'test_zrc20_token_standard', '(', ')', '{', 'print', '(', 'ğŸª™ Testing ZRC-20 Token Standard...', ')', 'let', 'my_token', '=', 'ZRC20Token', '{', '}', 'my_token', '.', 'init', '(', 'Ziver Test Token', ',', 'ZTT', ',', '1000000', ',', 'ZIV_owner_123', ')', 'my_token', '.', 'transfer', '(', 'ZIV_user_456', ',', '500', ')', 'my_token', '.', 'approve', '(', 'ZIV_spender_789', ',', '300', ')', 'print', '(', 'Owner balance: ', '+', 'string', '(', 'my_token', '.', 'balance_of', '(', 'ZIV_owner_123', ')', ')', ')', 'print', '(', 'User balance: ', '+', 'string', '(', 'my_token', '.', 'balance_of', '(', 'ZIV_user_456', ')', ')', ')', '}']
    ğŸ“ Parsing 66 tokens into statements
    ğŸ“ Found print statement: ['print', '(', 'ğŸª™ Testing ZRC-20 Token Standard...', ')', 'let', 'my_token', '=', 'ZRC20Token']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['my_token', '.', 'init', '(', 'Ziver Test Token', ',', 'ZTT', ',', '1000000', ',', 'ZIV_owner_123', ')', 'my_token', '.', 'transfer', '(', 'ZIV_user_456', ',', '500', ')', 'my_token', '.', 'approve', '(', 'ZIV_spender_789', ',', '300', ')']
  ğŸ” Parsing expression from tokens: ['Ziver Test Token']
  ğŸ” Parsing expression from tokens: ['ZTT']
  ğŸ” Parsing expression from tokens: ['1000000']
  ğŸ” Parsing expression from tokens: ['ZIV_owner_123']
    ğŸ“ Found print statement: ['print', '(', 'Owner balance: ', '+', 'string', '(', 'my_token', '.', 'balance_of', '(', 'ZIV_owner_123', ')', ')', ')', 'print', '(', 'User balance: ', '+', 'string', '(', 'my_token', '.', 'balance_of', '(', 'ZIV_user_456', ')', ')', ')']
    âœ… Parsed 4 statements from block
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 185
  âœ… Parsed: BlockStatement at line 197
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 197
  âœ… Parsed: BlockStatement at line 199
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
    ğŸ“ Found export statement: ['export', '{', 'ZRC20Token', ',', 'test_zrc20_token_standard', '}']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 199
  âœ… Parsed: BlockStatement at line 202
  ğŸ”§ Populating empty BlockStatement from 1 tokens
    ğŸ“ Parsing 1 tokens into statements
    âœ… Parsed 0 statements from block
  âœ… Populated BlockStatement with 0 statements
  âœ… Parsed: BlockStatement at line 202
âœ… Parsing Complete: 5 statements, 0 errors
ğŸš€ Initializing Ultimate Parser with Multi-Strategy Architecture...
ğŸ¯ Starting Tolerant Parsing Pipeline...
ğŸ” Structural Analyzer - Blocks:
  [0] statement/contract_statement @ 0-893: ['contract', 'ZiverWallet', '{', 'name', ':', 'ZiverWallet', 'version', ':', '1.0.0', 'persistent', 'storage', 'owner', ':', 'string', 'persistent', 'storage', 'balances', ':', 'map', 'persistent', 'storage', 'tokens', ':', 'map', 'persistent', 'storage', 'supported_chains', ':', 'list', 'persistent', 'storage', 'guardians', ':', 'list', 'persistent', 'storage', 'recovery_threshold', ':', 'integer', '=', '2', 'action', 'init', '(', 'initial_owner', ':', 'string', ')', '{', '\n        Initialize wallet with owner\n        ', 'this', '.', 'owner', '=', 'initial_owner', 'this', '.', 'balances', '=', '{', 'ZIVER', ':', '0', ',', 'ETHEREUM', ':', '0', ',', 'BSC', ':', '0', ',', 'TON', ':', '0', '}', 'this', '.', 'tokens', '=', '{', '}', 'this', '.', 'supported_chains', '=', '[', 'ZIVER', ',', 'ETHEREUM', ',', 'BSC', ',', 'TON', ']', 'this', '.', 'guardians', '=', '[', ']', 'print', '(', 'ğŸ‘› Wallet created for: ', '+', 'initial_owner', ')', '}', 'action', 'deposit', '(', 'chain', ':', 'string', ',', 'amount', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Deposit native currency to wallet\n        ', 'if', 'not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'chain', ')', '{', 'print', '(', 'âŒ Unsupported chain: ', '+', 'chain', ')', 'return', 'false', '}', 'if', 'amount', '<=', '0', '{', 'print', '(', 'âŒ Invalid amount', ')', 'return', 'false', '}', 'this', '.', 'balances', '[', 'chain', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', '+', 'amount', 'print', '(', 'ğŸ’° Deposited ', '+', 'string', '(', 'amount', ')', '+', ' to ', '+', 'chain', '+', ' chain', ')', 'return', 'true', '}', 'action', 'withdraw', '(', 'chain', ':', 'string', ',', 'amount', ':', 'integer', ',', 'to', ':', 'string', ')', '-', '>', 'boolean', '{', '\n        Withdraw native currency from wallet\n        ', 'if', 'not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'chain', ')', '{', 'print', '(', 'âŒ Unsupported chain: ', '+', 'chain', ')', 'return', 'false', '}', 'let', 'current_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', 'if', 'current_balance', '<', 'amount', '{', 'print', '(', 'âŒ Insufficient balance on ', '+', 'chain', '+', ' chain', ')', 'return', 'false', '}', 'this', '.', 'balances', '[', 'chain', ']', '=', 'current_balance', '-', 'amount', 'print', '(', 'ğŸ’¸ Withdrew ', '+', 'string', '(', 'amount', ')', '+', ' from ', '+', 'chain', '+', ' chain to ', '+', 'to', ')', 'return', 'true', '}', 'action', 'store_token', '(', 'chain', ':', 'string', ',', 'token_address', ':', 'string', ',', 'amount', ':', 'integer', ')', '-', '>', 'boolean', '{', '\n        Store token from any supported chain\n        ', 'if', 'not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'chain', ')', '{', 'print', '(', 'âŒ Unsupported chain: ', '+', 'chain', ')', 'return', 'false', '}', 'if', 'not', 'this', '.', 'tokens', '.', 'has', '(', 'chain', ')', '{', 'this', '.', 'tokens', '[', 'chain', ']', '=', '{', '}', '}', 'let', 'chain_tokens', '=', 'this', '.', 'tokens', '[', 'chain', ']', 'let', 'current_amount', '=', 'chain_tokens', '.', 'get', '(', 'token_address', ',', '0', ')', 'chain_tokens', '[', 'token_address', ']', '=', 'current_amount', '+', 'amount', 'print', '(', 'ğŸª™ Stored token ', '+', 'token_address', '+', ' on ', '+', 'chain', '+', ' chain: ', '+', 'string', '(', 'amount', ')', ')', 'return', 'true', '}', 'action', 'get_token_balance', '(', 'chain', ':', 'string', ',', 'token_address', ':', 'string', ')', '-', '>', 'integer', '{', '\n        Get token balance for specific chain\n        ', 'if', 'not', 'this', '.', 'tokens', '.', 'has', '(', 'chain', ')', '{', 'return', '0', '}', 'let', 'chain_tokens', '=', 'this', '.', 'tokens', '[', 'chain', ']', 'return', 'chain_tokens', '.', 'get', '(', 'token_address', ',', '0', ')', '}', 'action', 'get_balance', '(', 'chain', ':', 'string', ')', '-', '>', 'integer', '{', '\n        Get native currency balance for specific chain\n        ', 'return', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', '}', 'action', 'get_total_portfolio_value', '(', ')', '-', '>', 'map', '{', '\n        Get total portfolio value across all chains\n        ', 'let', 'portfolio', '=', '{', '}', 'for', 'each', 'chain', 'in', 'this', '.', 'supported_chains', '{', 'let', 'native_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', 'let', 'token_balance', '=', '0', 'if', 'this', '.', 'tokens', '.', 'has', '(', 'chain', ')', '{', 'let', 'chain_tokens', '=', 'this', '.', 'tokens', '[', 'chain', ']', 'for', 'each', 'token_address', ',', 'token_amount', 'in', 'chain_tokens', '{', 'token_balance', '+', '=', 'token_amount', '}', '}', 'portfolio', '[', 'chain', ']', '=', 'native_balance', '+', 'token_balance', '}', 'return', 'portfolio', '}', 'action', 'add_guardian', '(', 'guardian', ':', 'string', ')', '{', '\n        Add recovery guardian\n        ', 'if', 'not', 'this', '.', 'guardians', '.', 'contains', '(', 'guardian', ')', '{', 'this', '.', 'guardians', '.', 'push', '(', 'guardian', ')', 'print', '(', 'ğŸ›¡ï¸ Guardian added: ', '+', 'guardian', ')', '}', '}', 'action', 'recover_wallet', '(', 'new_owner', ':', 'string', ',', 'guardian_signatures', ':', 'list', ')', '-', '>', 'boolean', '{', '\n        Recover wallet with guardian approval\n        ', 'if', 'guardian_signatures', '.', 'count', '(', ')', '<', 'this', '.', 'recovery_threshold', '{', 'print', '(', 'âŒ Insufficient guardian signatures', ')', 'return', 'false', '}', 'let', 'valid_signatures', '=', '0', 'for', 'each', 'signature', 'in', 'guardian_signatures', '{', 'valid_signatures', '+', '=', '1', '}', 'if', 'valid_signatures', '>=', 'this', '.', 'recovery_threshold', '{', 'this', '.', 'owner', '=', 'new_owner', 'print', '(', 'ğŸ”“ Wallet recovered by new owner: ', '+', 'new_owner', ')', 'return', 'true', '}', 'return', 'false', '}', 'action', 'bridge_assets', '(', 'source_chain', ':', 'string', ',', 'target_chain', ':', 'string', ',', 'amount', ':', 'integer', ',', 'token_address', ':', 'string', '?', ')', '-', '>', 'boolean', '{', '\n        Bridge assets between chains\n        ', 'if', 'not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'source_chain', ')', 'or', 'not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'target_chain', ')', '{', 'print', '(', 'âŒ Unsupported chain', ')', 'return', 'false', '}', 'if', 'token_address', '!=', 'null', '{', 'let', 'current_balance', '=', 'this', '.', 'get_token_balance', '(', 'source_chain', ',', 'token_address', ')', 'if', 'current_balance', '<', 'amount', '{', 'print', '(', 'âŒ Insufficient token balance', ')', 'return', 'false', '}', 'let', 'source_tokens', '=', 'this', '.', 'tokens', '.', 'get', '(', 'source_chain', ',', '{', '}', ')', 'source_tokens', '[', 'token_address', ']', '=', 'current_balance', '-', 'amount', 'this', '.', 'tokens', '[', 'source_chain', ']', '=', 'source_tokens', 'this', '.', 'store_token', '(', 'target_chain', ',', 'token_address', ',', 'amount', ')', 'print', '(', 'ğŸŒ‰ Bridged token ', '+', 'token_address', '+', ': ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')', '}', 'else', '{', 'let', 'current_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'source_chain', ',', '0', ')', 'if', 'current_balance', '<', 'amount', '{', 'print', '(', 'âŒ Insufficient native balance', ')', 'return', 'false', '}', 'this', '.', 'balances', '[', 'source_chain', ']', '=', 'current_balance', '-', 'amount', 'this', '.', 'balances', '[', 'target_chain', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'target_chain', ',', '0', ')', '+', 'amount', 'print', '(', 'ğŸŒ‰ Bridged native currency: ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')', '}', 'return', 'true', '}', '}']
  [1] statement/LET @ 894-900: ['let', 'wallet_instance', '=', 'ZiverWallet', '(', ')']
  [2] statement/EXPORT @ 900-904: ['export', 'default', 'wallet_instance']
ğŸ”§ Parsing 3 top-level blocks...
ğŸ”§ [Context] Parsing contract statement
  ğŸ“ Contract Name: ZiverWallet
    ğŸ“ Parsing 60 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Initialize wallet with owner\n        ', '', 'this', '.', 'owner', '=', 'initial_owner', 'this', '.', 'balances', '=', '{', 'ZIVER', ':', '0', ',', 'ETHEREUM', ':', '0', ',', 'BSC', ':', '0', ',', 'TON', ':', '0']
  ğŸ” Parsing expression from tokens: ['this', '.', 'tokens', '=', '{']
  ğŸ” Parsing expression from tokens: ['this', '.', 'supported_chains', '=', '[', 'ZIVER', ',', 'ETHEREUM', ',', 'BSC', ',', 'TON', ']', 'this', '.', 'guardians', '=', '[', ']']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ‘› Wallet created for: ', '+', 'initial_owner', ')']
    âœ… Parsed 4 statements from block
  âš¡ Found Contract Action: init
    ğŸ“ Parsing 71 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Deposit native currency to wallet\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'chain', ')', '{', 'print', '(', 'âŒ Unsupported chain: ', '+', 'chain', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['amount', '<=', '0', '{', 'print', '(', 'âŒ Invalid amount', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['0', '{', 'print', '(', 'âŒ Invalid amount', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '[', 'chain', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', '+', 'amount']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ’° Deposited ', '+', 'string', '(', 'amount', ')', '+', ' to ', '+', 'chain', '+', ' chain', ')', 'return', 'true']
    âœ… Parsed 5 statements from block
  âš¡ Found Contract Action: deposit
    ğŸ“ Parsing 81 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Withdraw native currency from wallet\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'chain', ')', '{', 'print', '(', 'âŒ Unsupported chain: ', '+', 'chain', ')', 'return', 'false']
    ğŸ“ Found let statement: ['let', 'current_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', 'if', 'current_balance', '<', 'amount']
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', 'if', 'current_balance', '<', 'amount']
  ğŸ” Parsing expression from tokens: ['chain']
  ğŸ” Parsing expression from tokens: ['0']
  ğŸ” Parsing expression from tokens: ['{', 'print', '(', 'âŒ Insufficient balance on ', '+', 'chain', '+', ' chain', ')', 'return', 'false']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '[', 'chain', ']', '=', 'current_balance', '-', 'amount']
    ğŸ“ Found print statement: ['print', '(', 'ğŸ’¸ Withdrew ', '+', 'string', '(', 'amount', ')', '+', ' from ', '+', 'chain', '+', ' chain to ', '+', 'to', ')', 'return', 'true']
    âœ… Parsed 6 statements from block
  âš¡ Found Contract Action: withdraw
    ğŸ“ Parsing 91 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Store token from any supported chain\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'chain', ')', '{', 'print', '(', 'âŒ Unsupported chain: ', '+', 'chain', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'tokens', '.', 'has', '(', 'chain', ')', '{', 'this', '.', 'tokens', '[', 'chain', ']', '=', '{', '}']
    ğŸ“ Found let statement: ['let', 'chain_tokens', '=', 'this', '.', 'tokens', '[', 'chain', ']', 'let', 'current_amount', '=', 'chain_tokens', '.', 'get', '(', 'token_address', ',', '0', ')', 'chain_tokens', '[', 'token_address', ']', '=', 'current_amount', '+', 'amount', 'print', '(', 'ğŸª™ Stored token ', '+', 'token_address', '+', ' on ', '+', 'chain', '+', ' chain: ', '+', 'string', '(', 'amount', ')', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['this', '.', 'tokens', '[', 'chain', ']', 'let', 'current_amount', '=', 'chain_tokens', '.', 'get', '(', 'token_address', ',', '0', ')', 'chain_tokens', '[', 'token_address', ']', '=', 'current_amount', '+', 'amount', 'print', '(', 'ğŸª™ Stored token ', '+', 'token_address', '+', ' on ', '+', 'chain', '+', ' chain: ', '+', 'string', '(', 'amount', ')', ')', 'return', 'true']
    âœ… Parsed 4 statements from block
  âš¡ Found Contract Action: store_token
    ğŸ“ Parsing 35 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get token balance for specific chain\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'tokens', '.', 'has', '(', 'chain', ')', '{', 'return', '0']
    ğŸ“ Found let statement: ['let', 'chain_tokens', '=', 'this', '.', 'tokens', '[', 'chain', ']', 'return', 'chain_tokens', '.', 'get', '(', 'token_address', ',', '0', ')']
  ğŸ” Parsing expression from tokens: ['this', '.', 'tokens', '[', 'chain', ']', 'return', 'chain_tokens', '.', 'get', '(', 'token_address', ',', '0', ')']
    âœ… Parsed 3 statements from block
  âš¡ Found Contract Action: get_token_balance
    ğŸ“ Parsing 14 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get native currency balance for specific chain\n        ', '']
  ğŸ” Parsing expression from tokens: ['this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')']
  ğŸ” Parsing expression from tokens: ['chain']
  ğŸ” Parsing expression from tokens: ['0']
    âœ… Parsed 2 statements from block
  âš¡ Found Contract Action: get_balance
    ğŸ“ Parsing 77 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Get total portfolio value across all chains\n        ', '']
    ğŸ“ Found let statement: ['let', 'portfolio', '=']
  ğŸ” Parsing expression from tokens: ['{']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['each', 'chain', 'in', 'this', '.', 'supported_chains', '{', 'let', 'native_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'chain', ',', '0', ')', 'let', 'token_balance', '=', '0', 'if', 'this', '.', 'tokens', '.', 'has', '(', 'chain', ')', '{', 'let', 'chain_tokens', '=', 'this', '.', 'tokens', '[', 'chain', ']', 'for', 'each', 'token_address', ',', 'token_amount', 'in', 'chain_tokens', '{', 'token_balance', '+', '=', 'token_amount', '}', '}', 'portfolio', '[', 'chain', ']', '=', 'native_balance', '+', 'token_balance']
  ğŸ” Parsing expression from tokens: ['portfolio']
    âœ… Parsed 4 statements from block
  âš¡ Found Contract Action: get_total_portfolio_value
    ğŸ“ Parsing 29 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Add recovery guardian\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'guardians', '.', 'contains', '(', 'guardian', ')', '{', 'this', '.', 'guardians', '.', 'push', '(', 'guardian', ')', 'print', '(', 'ğŸ›¡ï¸ Guardian added: ', '+', 'guardian', ')']
    âœ… Parsed 2 statements from block
  âš¡ Found Contract Action: add_guardian
    ğŸ“ Parsing 59 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Recover wallet with guardian approval\n        ', '']
  ğŸ” Parsing expression from tokens: ['guardian_signatures', '.', 'count', '(', ')', '<', 'this', '.', 'recovery_threshold', '{', 'print', '(', 'âŒ Insufficient guardian signatures', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['this', '.', 'recovery_threshold', '{', 'print', '(', 'âŒ Insufficient guardian signatures', ')', 'return', 'false']
    ğŸ“ Found let statement: ['let', 'valid_signatures', '=', '0', 'for', 'each', 'signature', 'in', 'guardian_signatures']
  ğŸ” Parsing expression from tokens: ['0', 'for', 'each', 'signature', 'in', 'guardian_signatures']
  ğŸ” Parsing expression from tokens: ['{', 'valid_signatures', '+', '=', '1']
  ğŸ—ºï¸ [Map] Parsing map literal
  ğŸ—ºï¸ [Map] Successfully parsed map with 0 pairs
  ğŸ” Parsing expression from tokens: ['valid_signatures', '>=', 'this', '.', 'recovery_threshold', '{', 'this', '.', 'owner', '=', 'new_owner', 'print', '(', 'ğŸ”“ Wallet recovered by new owner: ', '+', 'new_owner', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['this', '.', 'recovery_threshold', '{', 'this', '.', 'owner', '=', 'new_owner', 'print', '(', 'ğŸ”“ Wallet recovered by new owner: ', '+', 'new_owner', ')', 'return', 'true']
  ğŸ” Parsing expression from tokens: ['false']
    âœ… Parsed 6 statements from block
  âš¡ Found Contract Action: recover_wallet
    ğŸ“ Parsing 183 tokens into statements
  ğŸ” Parsing expression from tokens: ['', '\n        Bridge assets between chains\n        ', '']
  ğŸ” Parsing expression from tokens: ['not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'source_chain', ')', 'or', 'not', 'this', '.', 'supported_chains', '.', 'contains', '(', 'target_chain', ')', '{', 'print', '(', 'âŒ Unsupported chain', ')', 'return', 'false']
  ğŸ” Parsing expression from tokens: ['token_address', '!=', 'null', '{', 'let', 'current_balance', '=', 'this', '.', 'get_token_balance', '(', 'source_chain', ',', 'token_address', ')', 'if', 'current_balance', '<', 'amount', '{', 'print', '(', 'âŒ Insufficient token balance', ')', 'return', 'false', '}', 'let', 'source_tokens', '=', 'this', '.', 'tokens', '.', 'get', '(', 'source_chain', ',', '{', '}', ')', 'source_tokens', '[', 'token_address', ']', '=', 'current_balance', '-', 'amount', 'this', '.', 'tokens', '[', 'source_chain', ']', '=', 'source_tokens', 'this', '.', 'store_token', '(', 'target_chain', ',', 'token_address', ',', 'amount', ')', 'print', '(', 'ğŸŒ‰ Bridged token ', '+', 'token_address', '+', ': ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')']
  ğŸ” Parsing expression from tokens: ['null', '{', 'let', 'current_balance', '=', 'this', '.', 'get_token_balance', '(', 'source_chain', ',', 'token_address', ')', 'if', 'current_balance', '<', 'amount', '{', 'print', '(', 'âŒ Insufficient token balance', ')', 'return', 'false', '}', 'let', 'source_tokens', '=', 'this', '.', 'tokens', '.', 'get', '(', 'source_chain', ',', '{', '}', ')', 'source_tokens', '[', 'token_address', ']', '=', 'current_balance', '-', 'amount', 'this', '.', 'tokens', '[', 'source_chain', ']', '=', 'source_tokens', 'this', '.', 'store_token', '(', 'target_chain', ',', 'token_address', ',', 'amount', ')', 'print', '(', 'ğŸŒ‰ Bridged token ', '+', 'token_address', '+', ': ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')']
  ğŸ” Parsing expression from tokens: ['else', '{', 'let', 'current_balance', '=', 'this', '.', 'balances', '.', 'get', '(', 'source_chain', ',', '0', ')', 'if', 'current_balance', '<', 'amount', '{', 'print', '(', 'âŒ Insufficient native balance', ')', 'return', 'false', '}', 'this', '.', 'balances', '[', 'source_chain', ']', '=', 'current_balance', '-', 'amount', 'this', '.', 'balances', '[', 'target_chain', ']', '=', 'this', '.', 'balances', '.', 'get', '(', 'target_chain', ',', '0', ')', '+', 'amount', 'print', '(', 'ğŸŒ‰ Bridged native currency: ', '+', 'source_chain', '+', ' â†’ ', '+', 'target_chain', ')']
  ğŸ” Parsing expression from tokens: ['true']
    âœ… Parsed 5 statements from block
  âš¡ Found Contract Action: bridge_assets
  âœ… Parsed: ContractStatement at line 7
  âœ… Parsed: ContractStatement at line 7
  âœ… Parsed: BlockStatement at line 235
  ğŸ”§ Populating empty BlockStatement from 6 tokens
    ğŸ“ Parsing 6 tokens into statements
    ğŸ“ Found let statement: ['let', 'wallet_instance', '=', 'ZiverWallet', '(', ')']
  ğŸ” Parsing expression from tokens: ['ZiverWallet', '(', ')']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 235
  âœ… Parsed: BlockStatement at line 236
  ğŸ”§ Populating empty BlockStatement from 3 tokens
    ğŸ“ Parsing 3 tokens into statements
    ğŸ“ Found export statement: ['export', 'default', 'wallet_instance']
    âœ… Parsed 1 statements from block
  âœ… Populated BlockStatement with 1 statements
  âœ… Parsed: BlockStatement at line 236
âœ… Parsing Complete: 3 statements, 0 errors
ğŸ“„ SmartContract.instantiate() called for: ZiverWallet
   Available actions: ['init', 'deposit', 'withdraw', 'store_token', 'get_token_balance', 'get_balance', 'get_total_portfolio_value', 'add_guardian', 'recover_wallet', 'bridge_assets']

âœ… Result: âŒ Error: Cannot export undefined: 
JSONRPCServer
